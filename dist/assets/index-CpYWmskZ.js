const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/comparison-hT5xc0HR.js","assets/executor-D39oo3pD.js","assets/typeConversion-BrC0PkWz.js","assets/forEach-GsX7twqW.js","assets/whileLoop-DNyQgx_E.js","assets/conditionalBranch-CiS-lDpM.js","assets/logic-S8BuQDHJ.js","assets/arrayAggregate-BSf_8Mbv.js","assets/pathUtils-C9hlO1xX.js","assets/arrayCreate-CLLfy14F.js","assets/arrayDistinct-Bf1N4_FB.js","assets/arrayFilter-j02JTk9B.js","assets/arrayGroupBy-CYZry6bD.js","assets/arrayMap-DWFtFIhW.js","assets/arrayMerge-Cl9TrGGz.js","assets/arrayProcessor-C6b8_Oda.js","assets/arraySlice-D77JXKA-.js","assets/arraySort-Doii3Pk3.js","assets/debugViewer-DqKLMWib.js","assets/fieldExtractor-CNYhCYFV.js","assets/math-CR5OuORF.js","assets/objectCreate-BPGDvu4M.js","assets/objectFilter-BOJwLyhr.js","assets/objectKeysValues-Duw9chPy.js","assets/objectMerge-DksscP9W.js","assets/objectPick-DLDm1m5n.js","assets/objectRename-BHSghX53.js","assets/objectSetProperty-CkdrH5YP.js","assets/objectToArray-BDeo5lv_.js","assets/objectTransform-BnKl-s9_.js","assets/stringOps-ExVbYJxP.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Hl(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ye={},No=[],on=()=>{},Af=()=>!1,Di=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Fl=e=>e.startsWith("onUpdate:"),xt=Object.assign,Ll=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Sm=Object.prototype.hasOwnProperty,He=(e,t)=>Sm.call(e,t),we=Array.isArray,Io=e=>os(e)==="[object Map]",Ko=e=>os(e)==="[object Set]",Fu=e=>os(e)==="[object Date]",Se=e=>typeof e=="function",at=e=>typeof e=="string",jt=e=>typeof e=="symbol",We=e=>e!==null&&typeof e=="object",Df=e=>(We(e)||Se(e))&&Se(e.then)&&Se(e.catch),Pf=Object.prototype.toString,os=e=>Pf.call(e),Cm=e=>os(e).slice(8,-1),Of=e=>os(e)==="[object Object]",Bl=e=>at(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vr=Hl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pi=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Nm=/-\w/g,Mt=Pi(e=>e.replace(Nm,t=>t.slice(1).toUpperCase())),Im=/\B([A-Z])/g,Kn=Pi(e=>e.replace(Im,"-$1").toLowerCase()),Oi=Pi(e=>e.charAt(0).toUpperCase()+e.slice(1)),ha=Pi(e=>e?`on${Oi(e)}`:""),_n=(e,t)=>!Object.is(e,t),zs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Mf=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Js=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Lu;const Mi=()=>Lu||(Lu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ke(e){if(we(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=at(o)?Pm(o):Ke(o);if(r)for(const s in r)t[s]=r[s]}return t}else if(at(e)||We(e))return e}const Tm=/;(?![^(]*\))/g,Am=/:([^]+)/,Dm=/\/\*[^]*?\*\//g;function Pm(e){const t={};return e.replace(Dm,"").split(Tm).forEach(n=>{if(n){const o=n.split(Am);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Ze(e){let t="";if(at(e))t=e;else if(we(e))for(let n=0;n<e.length;n++){const o=Ze(e[n]);o&&(t+=o+" ")}else if(We(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ae(e){if(!e)return null;let{class:t,style:n}=e;return t&&!at(t)&&(e.class=Ze(t)),n&&(e.style=Ke(n)),e}const Om="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mm=Hl(Om);function zf(e){return!!e||e===""}function zm(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=rs(e[o],t[o]);return n}function rs(e,t){if(e===t)return!0;let n=Fu(e),o=Fu(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=jt(e),o=jt(t),n||o)return e===t;if(n=we(e),o=we(t),n||o)return n&&o?zm(e,t):!1;if(n=We(e),o=We(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!rs(e[i],t[i]))return!1}}return String(e)===String(t)}function jl(e,t){return e.findIndex(n=>rs(n,t))}const Rf=e=>!!(e&&e.__v_isRef===!0),ge=e=>at(e)?e:e==null?"":we(e)||We(e)&&(e.toString===Pf||!Se(e.toString))?Rf(e)?ge(e.value):JSON.stringify(e,Vf,2):String(e),Vf=(e,t)=>Rf(t)?Vf(e,t.value):Io(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r],s)=>(n[pa(o,s)+" =>"]=r,n),{})}:Ko(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>pa(n))}:jt(t)?pa(t):We(t)&&!we(t)&&!Of(t)?String(t):t,pa=(e,t="")=>{var n;return jt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yt;class Hf{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yt,!t&&yt&&(this.index=(yt.scopes||(yt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=yt;try{return yt=this,t()}finally{yt=n}}}on(){++this._on===1&&(this.prevScope=yt,yt=this)}off(){this._on>0&&--this._on===0&&(yt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function zi(e){return new Hf(e)}function Ri(){return yt}function yr(e,t=!1){yt&&yt.cleanups.push(e)}let Je;const ga=new WeakSet;class Ff{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yt&&yt.active&&yt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ga.has(this)&&(ga.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Bf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bu(this),jf(this);const t=Je,n=Lt;Je=this,Lt=!0;try{return this.fn()}finally{Uf(this),Je=t,Lt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Wl(t);this.deps=this.depsTail=void 0,Bu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ga.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ua(this)&&this.run()}get dirty(){return Ua(this)}}let Lf=0,br,_r;function Bf(e,t=!1){if(e.flags|=8,t){e.next=_r,_r=e;return}e.next=br,br=e}function Ul(){Lf++}function Zl(){if(--Lf>0)return;if(_r){let t=_r;for(_r=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;br;){let t=br;for(br=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function jf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Uf(e){let t,n=e.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),Wl(o),Rm(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=n}function Ua(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Zf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Zf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ar)||(e.globalVersion=Ar,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ua(e))))return;e.flags|=2;const t=e.dep,n=Je,o=Lt;Je=e,Lt=!0;try{jf(e);const r=e.fn(e._value);(t.version===0||_n(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Je=n,Lt=o,Uf(e),e.flags&=-3}}function Wl(e,t=!1){const{dep:n,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Wl(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Rm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Lt=!0;const Wf=[];function wn(){Wf.push(Lt),Lt=!1}function kn(){const e=Wf.pop();Lt=e===void 0?!0:e}function Bu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Je;Je=void 0;try{t()}finally{Je=n}}}let Ar=0;class Vm{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Je||!Lt||Je===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Je)n=this.activeLink=new Vm(Je,this),Je.deps?(n.prevDep=Je.depsTail,Je.depsTail.nextDep=n,Je.depsTail=n):Je.deps=Je.depsTail=n,Gf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Je.depsTail,n.nextDep=void 0,Je.depsTail.nextDep=n,Je.depsTail=n,Je.deps===n&&(Je.deps=o)}return n}trigger(t){this.version++,Ar++,this.notify(t)}notify(t){Ul();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Zl()}}}function Gf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Gf(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Qs=new WeakMap,so=Symbol(""),Za=Symbol(""),Dr=Symbol("");function bt(e,t,n){if(Lt&&Je){let o=Qs.get(e);o||Qs.set(e,o=new Map);let r=o.get(n);r||(o.set(n,r=new Vi),r.map=o,r.key=n),r.track()}}function gn(e,t,n,o,r,s){const i=Qs.get(e);if(!i){Ar++;return}const a=l=>{l&&l.trigger()};if(Ul(),t==="clear")i.forEach(a);else{const l=we(e),u=l&&Bl(n);if(l&&n==="length"){const c=Number(o);i.forEach((d,f)=>{(f==="length"||f===Dr||!jt(f)&&f>=c)&&a(d)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(Dr)),t){case"add":l?u&&a(i.get("length")):(a(i.get(so)),Io(e)&&a(i.get(Za)));break;case"delete":l||(a(i.get(so)),Io(e)&&a(i.get(Za)));break;case"set":Io(e)&&a(i.get(so));break}}Zl()}function Hm(e,t){const n=Qs.get(e);return n&&n.get(t)}function _o(e){const t=Re(e);return t===e?t:(bt(t,"iterate",Dr),Ot(e)?t:t.map(gt))}function Hi(e){return bt(e=Re(e),"iterate",Dr),e}const Fm={__proto__:null,[Symbol.iterator](){return ma(this,Symbol.iterator,gt)},concat(...e){return _o(this).concat(...e.map(t=>we(t)?_o(t):t))},entries(){return ma(this,"entries",e=>(e[1]=gt(e[1]),e))},every(e,t){return cn(this,"every",e,t,void 0,arguments)},filter(e,t){return cn(this,"filter",e,t,n=>n.map(gt),arguments)},find(e,t){return cn(this,"find",e,t,gt,arguments)},findIndex(e,t){return cn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return cn(this,"findLast",e,t,gt,arguments)},findLastIndex(e,t){return cn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return cn(this,"forEach",e,t,void 0,arguments)},includes(...e){return va(this,"includes",e)},indexOf(...e){return va(this,"indexOf",e)},join(e){return _o(this).join(e)},lastIndexOf(...e){return va(this,"lastIndexOf",e)},map(e,t){return cn(this,"map",e,t,void 0,arguments)},pop(){return Qo(this,"pop")},push(...e){return Qo(this,"push",e)},reduce(e,...t){return ju(this,"reduce",e,t)},reduceRight(e,...t){return ju(this,"reduceRight",e,t)},shift(){return Qo(this,"shift")},some(e,t){return cn(this,"some",e,t,void 0,arguments)},splice(...e){return Qo(this,"splice",e)},toReversed(){return _o(this).toReversed()},toSorted(e){return _o(this).toSorted(e)},toSpliced(...e){return _o(this).toSpliced(...e)},unshift(...e){return Qo(this,"unshift",e)},values(){return ma(this,"values",gt)}};function ma(e,t,n){const o=Hi(e),r=o[t]();return o!==e&&!Ot(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.done||(s.value=n(s.value)),s}),r}const Lm=Array.prototype;function cn(e,t,n,o,r,s){const i=Hi(e),a=i!==e&&!Ot(e),l=i[t];if(l!==Lm[t]){const d=l.apply(e,s);return a?gt(d):d}let u=n;i!==e&&(a?u=function(d,f){return n.call(this,gt(d),f,e)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,e)}));const c=l.call(i,u,o);return a&&r?r(c):c}function ju(e,t,n,o){const r=Hi(e);let s=n;return r!==e&&(Ot(e)?n.length>3&&(s=function(i,a,l){return n.call(this,i,a,l,e)}):s=function(i,a,l){return n.call(this,i,gt(a),l,e)}),r[t](s,...o)}function va(e,t,n){const o=Re(e);bt(o,"iterate",Dr);const r=o[t](...n);return(r===-1||r===!1)&&ql(n[0])?(n[0]=Re(n[0]),o[t](...n)):r}function Qo(e,t,n=[]){wn(),Ul();const o=Re(e)[t].apply(e,n);return Zl(),kn(),o}const Bm=Hl("__proto__,__v_isRef,__isVue"),Yf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(jt));function jm(e){jt(e)||(e=String(e));const t=Re(this);return bt(t,"has",e),t.hasOwnProperty(e)}class qf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return o===(r?s?Qm:Qf:s?Jf:Xf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const i=we(t);if(!r){let l;if(i&&(l=Fm[n]))return l;if(n==="hasOwnProperty")return jm}const a=Reflect.get(t,n,et(t)?t:o);if((jt(n)?Yf.has(n):Bm(n))||(r||bt(t,"get",n),s))return a;if(et(a)){const l=i&&Bl(n)?a:a.value;return r&&We(l)?ei(l):l}return We(a)?r?ei(a):Xo(a):a}}class Kf extends qf{constructor(t=!1){super(!1,t)}set(t,n,o,r){let s=t[n];if(!this._isShallow){const l=Un(s);if(!Ot(o)&&!Un(o)&&(s=Re(s),o=Re(o)),!we(t)&&et(s)&&!et(o))return l||(s.value=o),!0}const i=we(t)&&Bl(n)?Number(n)<t.length:He(t,n),a=Reflect.set(t,n,o,et(t)?t:r);return t===Re(r)&&(i?_n(o,s)&&gn(t,"set",n,o):gn(t,"add",n,o)),a}deleteProperty(t,n){const o=He(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&o&&gn(t,"delete",n,void 0),r}has(t,n){const o=Reflect.has(t,n);return(!jt(n)||!Yf.has(n))&&bt(t,"has",n),o}ownKeys(t){return bt(t,"iterate",we(t)?"length":so),Reflect.ownKeys(t)}}class Um extends qf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Zm=new Kf,Wm=new Um,Gm=new Kf(!0);const Wa=e=>e,hs=e=>Reflect.getPrototypeOf(e);function Ym(e,t,n){return function(...o){const r=this.__v_raw,s=Re(r),i=Io(s),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,u=r[e](...o),c=n?Wa:t?ti:gt;return!t&&bt(s,"iterate",l?Za:so),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function ps(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qm(e,t){const n={get(r){const s=this.__v_raw,i=Re(s),a=Re(r);e||(_n(r,a)&&bt(i,"get",r),bt(i,"get",a));const{has:l}=hs(i),u=t?Wa:e?ti:gt;if(l.call(i,r))return u(s.get(r));if(l.call(i,a))return u(s.get(a));s!==i&&s.get(r)},get size(){const r=this.__v_raw;return!e&&bt(Re(r),"iterate",so),r.size},has(r){const s=this.__v_raw,i=Re(s),a=Re(r);return e||(_n(r,a)&&bt(i,"has",r),bt(i,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const i=this,a=i.__v_raw,l=Re(a),u=t?Wa:e?ti:gt;return!e&&bt(l,"iterate",so),a.forEach((c,d)=>r.call(s,u(c),u(d),i))}};return xt(n,e?{add:ps("add"),set:ps("set"),delete:ps("delete"),clear:ps("clear")}:{add(r){!t&&!Ot(r)&&!Un(r)&&(r=Re(r));const s=Re(this);return hs(s).has.call(s,r)||(s.add(r),gn(s,"add",r,r)),this},set(r,s){!t&&!Ot(s)&&!Un(s)&&(s=Re(s));const i=Re(this),{has:a,get:l}=hs(i);let u=a.call(i,r);u||(r=Re(r),u=a.call(i,r));const c=l.call(i,r);return i.set(r,s),u?_n(s,c)&&gn(i,"set",r,s):gn(i,"add",r,s),this},delete(r){const s=Re(this),{has:i,get:a}=hs(s);let l=i.call(s,r);l||(r=Re(r),l=i.call(s,r)),a&&a.call(s,r);const u=s.delete(r);return l&&gn(s,"delete",r,void 0),u},clear(){const r=Re(this),s=r.size!==0,i=r.clear();return s&&gn(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Ym(r,e,t)}),n}function Gl(e,t){const n=qm(e,t);return(o,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(He(n,r)&&r in o?n:o,r,s)}const Km={get:Gl(!1,!1)},Xm={get:Gl(!1,!0)},Jm={get:Gl(!0,!1)};const Xf=new WeakMap,Jf=new WeakMap,Qf=new WeakMap,Qm=new WeakMap;function e0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function t0(e){return e.__v_skip||!Object.isExtensible(e)?0:e0(Cm(e))}function Xo(e){return Un(e)?e:Yl(e,!1,Zm,Km,Xf)}function eh(e){return Yl(e,!1,Gm,Xm,Jf)}function ei(e){return Yl(e,!0,Wm,Jm,Qf)}function Yl(e,t,n,o,r){if(!We(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=t0(e);if(s===0)return e;const i=r.get(e);if(i)return i;const a=new Proxy(e,s===2?o:n);return r.set(e,a),a}function Bn(e){return Un(e)?Bn(e.__v_raw):!!(e&&e.__v_isReactive)}function Un(e){return!!(e&&e.__v_isReadonly)}function Ot(e){return!!(e&&e.__v_isShallow)}function ql(e){return e?!!e.__v_raw:!1}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}function io(e){return!He(e,"__v_skip")&&Object.isExtensible(e)&&Mf(e,"__v_skip",!0),e}const gt=e=>We(e)?Xo(e):e,ti=e=>We(e)?ei(e):e;function et(e){return e?e.__v_isRef===!0:!1}function ue(e){return th(e,!1)}function Ro(e){return th(e,!0)}function th(e,t){return et(e)?e:new n0(e,t)}class n0{constructor(t,n){this.dep=new Vi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Re(t),this._value=n?t:gt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Ot(t)||Un(t);t=o?t:Re(t),_n(t,n)&&(this._rawValue=t,this._value=o?t:gt(t),this.dep.trigger())}}function ae(e){return et(e)?e.value:e}function Oe(e){return Se(e)?e():ae(e)}const o0={get:(e,t,n)=>t==="__v_raw"?e:ae(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return et(r)&&!et(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function nh(e){return Bn(e)?e:new Proxy(e,o0)}class r0{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Vi,{get:o,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function s0(e){return new r0(e)}function oh(e){const t=we(e)?new Array(e.length):{};for(const n in e)t[n]=rh(e,n);return t}class i0{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Hm(Re(this._object),this._key)}}class a0{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Le(e,t,n){return et(e)?e:Se(e)?new a0(e):We(e)&&arguments.length>1?rh(e,t,n):ue(e)}function rh(e,t,n){const o=e[t];return et(o)?o:new i0(e,t,n)}class l0{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Vi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ar-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Je!==this)return Bf(this,!0),!0}get value(){const t=this.dep.track();return Zf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function u0(e,t,n=!1){let o,r;return Se(e)?o=e:(o=e.get,r=e.set),new l0(o,r,n)}const gs={},ni=new WeakMap;let Qn;function c0(e,t=!1,n=Qn){if(n){let o=ni.get(n);o||ni.set(n,o=[]),o.push(e)}}function d0(e,t,n=Ye){const{immediate:o,deep:r,once:s,scheduler:i,augmentJob:a,call:l}=n,u=D=>r?D:Ot(D)||r===!1||r===0?mn(D,1):mn(D);let c,d,f,h,p=!1,y=!1;if(et(e)?(d=()=>e.value,p=Ot(e)):Bn(e)?(d=()=>u(e),p=!0):we(e)?(y=!0,p=e.some(D=>Bn(D)||Ot(D)),d=()=>e.map(D=>{if(et(D))return D.value;if(Bn(D))return u(D);if(Se(D))return l?l(D,2):D()})):Se(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){wn();try{f()}finally{kn()}}const D=Qn;Qn=c;try{return l?l(e,3,[h]):e(h)}finally{Qn=D}}:d=on,t&&r){const D=d,q=r===!0?1/0:r;d=()=>mn(D(),q)}const $=Ri(),b=()=>{c.stop(),$&&$.active&&Ll($.effects,c)};if(s&&t){const D=t;t=(...q)=>{D(...q),b()}}let C=y?new Array(e.length).fill(gs):gs;const w=D=>{if(!(!(c.flags&1)||!c.dirty&&!D))if(t){const q=c.run();if(r||p||(y?q.some((Y,U)=>_n(Y,C[U])):_n(q,C))){f&&f();const Y=Qn;Qn=c;try{const U=[q,C===gs?void 0:y&&C[0]===gs?[]:C,h];C=q,l?l(t,3,U):t(...U)}finally{Qn=Y}}}else c.run()};return a&&a(w),c=new Ff(d),c.scheduler=i?()=>i(w,!1):w,h=D=>c0(D,!1,c),f=c.onStop=()=>{const D=ni.get(c);if(D){if(l)l(D,4);else for(const q of D)q();ni.delete(c)}},t?o?w(!0):C=c.run():i?i(w.bind(null,!0),!0):c.run(),b.pause=c.pause.bind(c),b.resume=c.resume.bind(c),b.stop=b,b}function mn(e,t=1/0,n){if(t<=0||!We(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,et(e))mn(e.value,t,n);else if(we(e))for(let o=0;o<e.length;o++)mn(e[o],t,n);else if(Ko(e)||Io(e))e.forEach(o=>{mn(o,t,n)});else if(Of(e)){for(const o in e)mn(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&mn(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ss(e,t,n,o){try{return o?e(...o):e()}catch(r){Fi(r,t,n)}}function an(e,t,n,o){if(Se(e)){const r=ss(e,t,n,o);return r&&Df(r)&&r.catch(s=>{Fi(s,t,n)}),r}if(we(e)){const r=[];for(let s=0;s<e.length;s++)r.push(an(e[s],t,n,o));return r}}function Fi(e,t,n,o=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Ye;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){wn(),ss(s,null,10,[e,l,u]),kn();return}}f0(e,n,r,o,i)}function f0(e,t,n,o=!0,r=!1){if(r)throw e;console.error(e)}const $t=[];let qt=-1;const To=[];let On=null,$o=0;const sh=Promise.resolve();let oi=null;function St(e){const t=oi||sh;return e?t.then(this?e.bind(this):e):t}function h0(e){let t=qt+1,n=$t.length;for(;t<n;){const o=t+n>>>1,r=$t[o],s=Pr(r);s<e||s===e&&r.flags&2?t=o+1:n=o}return t}function Kl(e){if(!(e.flags&1)){const t=Pr(e),n=$t[$t.length-1];!n||!(e.flags&2)&&t>=Pr(n)?$t.push(e):$t.splice(h0(t),0,e),e.flags|=1,ih()}}function ih(){oi||(oi=sh.then(lh))}function p0(e){we(e)?To.push(...e):On&&e.id===-1?On.splice($o+1,0,e):e.flags&1||(To.push(e),e.flags|=1),ih()}function Uu(e,t,n=qt+1){for(;n<$t.length;n++){const o=$t[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;$t.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function ah(e){if(To.length){const t=[...new Set(To)].sort((n,o)=>Pr(n)-Pr(o));if(To.length=0,On){On.push(...t);return}for(On=t,$o=0;$o<On.length;$o++){const n=On[$o];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}On=null,$o=0}}const Pr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function lh(e){try{for(qt=0;qt<$t.length;qt++){const t=$t[qt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ss(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;qt<$t.length;qt++){const t=$t[qt];t&&(t.flags&=-2)}qt=-1,$t.length=0,ah(),oi=null,($t.length||To.length)&&lh()}}let mt=null,uh=null;function ri(e){const t=mt;return mt=e,uh=e&&e.type.__scopeId||null,t}function Ee(e,t=mt,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&ai(-1);const s=ri(t);let i;try{i=e(...r)}finally{ri(s),o._d&&ai(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function Ne(e,t){if(mt===null)return e;const n=Ui(mt),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,i,a,l=Ye]=t[r];s&&(Se(s)&&(s={mounted:s,updated:s}),s.deep&&mn(i),o.push({dir:s,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function Xn(e,t,n,o){const r=e.dirs,s=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];s&&(a.oldValue=s[i].value);let l=a.dir[o];l&&(wn(),an(l,n,8,[e.el,a,e,t]),kn())}}const g0=Symbol("_vte"),m0=e=>e.__isTeleport,v0=Symbol("_leaveCb");function Xl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Xl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Be(e,t){return Se(e)?xt({name:e.name},t,{setup:e}):e}function ch(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const si=new WeakMap;function xr(e,t,n,o,r=!1){if(we(e)){e.forEach((p,y)=>xr(p,t&&(we(t)?t[y]:t),n,o,r));return}if(Ao(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&xr(e,t,n,o.component.subTree);return}const s=o.shapeFlag&4?Ui(o.component):o.el,i=r?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Ye?a.refs={}:a.refs,d=a.setupState,f=Re(d),h=d===Ye?Af:p=>He(f,p);if(u!=null&&u!==l){if(Zu(t),at(u))c[u]=null,h(u)&&(d[u]=null);else if(et(u)){u.value=null;const p=t;p.k&&(c[p.k]=null)}}if(Se(l))ss(l,a,12,[i,c]);else{const p=at(l),y=et(l);if(p||y){const $=()=>{if(e.f){const b=p?h(l)?d[l]:c[l]:l.value;if(r)we(b)&&Ll(b,s);else if(we(b))b.includes(s)||b.push(s);else if(p)c[l]=[s],h(l)&&(d[l]=c[l]);else{const C=[s];l.value=C,e.k&&(c[e.k]=C)}}else p?(c[l]=i,h(l)&&(d[l]=i)):y&&(l.value=i,e.k&&(c[e.k]=i))};if(i){const b=()=>{$(),si.delete(e)};b.id=-1,si.set(e,b),At(b,n)}else Zu(e),$()}}}function Zu(e){const t=si.get(e);t&&(t.flags|=8,si.delete(e))}Mi().requestIdleCallback;Mi().cancelIdleCallback;const Ao=e=>!!e.type.__asyncLoader,dh=e=>e.type.__isKeepAlive;function y0(e,t){fh(e,"a",t)}function b0(e,t){fh(e,"da",t)}function fh(e,t,n=_t){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Li(t,o,n),n){let r=n.parent;for(;r&&r.parent;)dh(r.parent.vnode)&&_0(o,t,n,r),r=r.parent}}function _0(e,t,n,o){const r=Li(t,e,o,!0);vo(()=>{Ll(o[t],r)},n)}function Li(e,t,n=_t,o=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{wn();const a=is(n),l=an(t,n,e,i);return a(),kn(),l});return o?r.unshift(s):r.push(s),s}}const Cn=e=>(t,n=_t)=>{(!Rr||e==="sp")&&Li(e,(...o)=>t(...o),n)},hh=Cn("bm"),rt=Cn("m"),x0=Cn("bu"),w0=Cn("u"),Jl=Cn("bum"),vo=Cn("um"),k0=Cn("sp"),$0=Cn("rtg"),E0=Cn("rtc");function S0(e,t=_t){Li("ec",e,t)}const ph="components";function Ql(e,t){return mh(ph,e,!0,t)||e}const gh=Symbol.for("v-ndc");function Hn(e){return at(e)?mh(ph,e,!1)||e:e||gh}function mh(e,t,n=!0,o=!1){const r=mt||_t;if(r){const s=r.type;{const a=hv(s,!1);if(a&&(a===t||a===Mt(t)||a===Oi(Mt(t))))return s}const i=Wu(r[e]||s[e],t)||Wu(r.appContext[e],t);return!i&&o?s:i}}function Wu(e,t){return e&&(e[t]||e[Mt(t)]||e[Oi(Mt(t))])}function Ue(e,t,n,o){let r;const s=n&&n[o],i=we(e);if(i||at(e)){const a=i&&Bn(e);let l=!1,u=!1;a&&(l=!Ot(e),u=Un(e),e=Hi(e)),r=new Array(e.length);for(let c=0,d=e.length;c<d;c++)r[c]=t(l?u?ti(gt(e[c])):gt(e[c]):e[c],c,void 0,s&&s[c])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s&&s[a])}else if(We(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,s&&s[l])}}else r=[];return n&&(n[o]=r),r}function ot(e,t,n={},o,r){if(mt.ce||mt.parent&&Ao(mt.parent)&&mt.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),M(),qe($e,null,[ee("slot",n,o&&o())],u?-2:64)}let s=e[t];s&&s._c&&(s._d=!1),M();const i=s&&vh(s(n)),a=n.key||i&&i.key,l=qe($e,{key:(a&&!jt(a)?a:`_${t}`)+(!i&&o?"_fb":"")},i||(o?o():[]),i&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function vh(e){return e.some(t=>Or(t)?!(t.type===$n||t.type===$e&&!vh(t.children)):!0)?e:null}const Ga=e=>e?Vh(e)?Ui(e):Ga(e.parent):null,wr=xt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ga(e.parent),$root:e=>Ga(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>xh(e),$forceUpdate:e=>e.f||(e.f=()=>{Kl(e.update)}),$nextTick:e=>e.n||(e.n=St.bind(e.proxy)),$watch:e=>K0.bind(e)}),ya=(e,t)=>e!==Ye&&!e.__isScriptSetup&&He(e,t),C0={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:s,accessCache:i,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(ya(o,t))return i[t]=1,o[t];if(r!==Ye&&He(r,t))return i[t]=2,r[t];if((u=e.propsOptions[0])&&He(u,t))return i[t]=3,s[t];if(n!==Ye&&He(n,t))return i[t]=4,n[t];Ya&&(i[t]=0)}}const c=wr[t];let d,f;if(c)return t==="$attrs"&&bt(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Ye&&He(n,t))return i[t]=4,n[t];if(f=l.config.globalProperties,He(f,t))return f[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:s}=e;return ya(r,t)?(r[t]=n,!0):o!==Ye&&He(o,t)?(o[t]=n,!0):He(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:s,type:i}},a){let l,u;return!!(n[a]||e!==Ye&&a[0]!=="$"&&He(e,a)||ya(t,a)||(l=s[0])&&He(l,a)||He(o,a)||He(wr,a)||He(r.config.globalProperties,a)||(u=i.__cssModules)&&u[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:He(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function yh(){return bh().slots}function eu(){return bh().attrs}function bh(e){const t=Nn();return t.setupContext||(t.setupContext=Fh(t))}function Gu(e){return we(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function N0(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}let Ya=!0;function I0(e){const t=xh(e),n=e.proxy,o=e.ctx;Ya=!1,t.beforeCreate&&Yu(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:i,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:y,deactivated:$,beforeDestroy:b,beforeUnmount:C,destroyed:w,unmounted:D,render:q,renderTracked:Y,renderTriggered:U,errorCaptured:R,serverPrefetch:G,expose:j,inheritAttrs:V,components:A,directives:B,filters:g}=t;if(u&&T0(u,o,null),i)for(const z in i){const H=i[z];Se(H)&&(o[z]=H.bind(n))}if(r){const z=r.call(n,n);We(z)&&(e.data=Xo(z))}if(Ya=!0,s)for(const z in s){const H=s[z],X=Se(H)?H.bind(n,n):Se(H.get)?H.get.bind(n,n):on,W=!Se(H)&&Se(H.set)?H.set.bind(n):on,oe=Q({get:X,set:W});Object.defineProperty(o,z,{enumerable:!0,configurable:!0,get:()=>oe.value,set:ce=>oe.value=ce})}if(a)for(const z in a)_h(a[z],o,n,z);if(l){const z=Se(l)?l.call(n):l;Reflect.ownKeys(z).forEach(H=>{Bt(H,z[H])})}c&&Yu(c,e,"c");function S(z,H){we(H)?H.forEach(X=>z(X.bind(n))):H&&z(H.bind(n))}if(S(hh,d),S(rt,f),S(x0,h),S(w0,p),S(y0,y),S(b0,$),S(S0,R),S(E0,Y),S($0,U),S(Jl,C),S(vo,D),S(k0,G),we(j))if(j.length){const z=e.exposed||(e.exposed={});j.forEach(H=>{Object.defineProperty(z,H,{get:()=>n[H],set:X=>n[H]=X,enumerable:!0})})}else e.exposed||(e.exposed={});q&&e.render===on&&(e.render=q),V!=null&&(e.inheritAttrs=V),A&&(e.components=A),B&&(e.directives=B),G&&ch(e)}function T0(e,t,n=on){we(e)&&(e=qa(e));for(const o in e){const r=e[o];let s;We(r)?"default"in r?s=ht(r.from||o,r.default,!0):s=ht(r.from||o):s=ht(r),et(s)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[o]=s}}function Yu(e,t,n){an(we(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function _h(e,t,n,o){let r=o.includes(".")?Ph(n,o):()=>n[o];if(at(e)){const s=t[e];Se(s)&&Ce(r,s)}else if(Se(e))Ce(r,e.bind(n));else if(We(e))if(we(e))e.forEach(s=>_h(s,t,n,o));else{const s=Se(e.handler)?e.handler.bind(n):t[e.handler];Se(s)&&Ce(r,s,e)}}function xh(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!o?l=t:(l={},r.length&&r.forEach(u=>ii(l,u,i,!0)),ii(l,t,i)),We(t)&&s.set(t,l),l}function ii(e,t,n,o=!1){const{mixins:r,extends:s}=t;s&&ii(e,s,n,!0),r&&r.forEach(i=>ii(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const a=A0[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const A0={data:qu,props:Ku,emits:Ku,methods:ur,computed:ur,beforeCreate:kt,created:kt,beforeMount:kt,mounted:kt,beforeUpdate:kt,updated:kt,beforeDestroy:kt,beforeUnmount:kt,destroyed:kt,unmounted:kt,activated:kt,deactivated:kt,errorCaptured:kt,serverPrefetch:kt,components:ur,directives:ur,watch:P0,provide:qu,inject:D0};function qu(e,t){return t?e?function(){return xt(Se(e)?e.call(this,this):e,Se(t)?t.call(this,this):t)}:t:e}function D0(e,t){return ur(qa(e),qa(t))}function qa(e){if(we(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function kt(e,t){return e?[...new Set([].concat(e,t))]:t}function ur(e,t){return e?xt(Object.create(null),e,t):t}function Ku(e,t){return e?we(e)&&we(t)?[...new Set([...e,...t])]:xt(Object.create(null),Gu(e),Gu(t??{})):t}function P0(e,t){if(!e)return t;if(!t)return e;const n=xt(Object.create(null),e);for(const o in t)n[o]=kt(e[o],t[o]);return n}function wh(){return{app:null,config:{isNativeTag:Af,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let O0=0;function M0(e,t){return function(o,r=null){Se(o)||(o=xt({},o)),r!=null&&!We(r)&&(r=null);const s=wh(),i=new WeakSet,a=[];let l=!1;const u=s.app={_uid:O0++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:mv,get config(){return s.config},set config(c){},use(c,...d){return i.has(c)||(c&&Se(c.install)?(i.add(c),c.install(u,...d)):Se(c)&&(i.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||ee(o,r);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),e(h,c,f),l=!0,u._container=c,c.__vue_app__=u,Ui(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&(an(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=ao;ao=u;try{return c()}finally{ao=d}}};return u}}let ao=null;function Bt(e,t){if(_t){let n=_t.provides;const o=_t.parent&&_t.parent.provides;o===n&&(n=_t.provides=Object.create(o)),n[e]=t}}function ht(e,t,n=!1){const o=Nn();if(o||ao){let r=ao?ao._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Se(t)?t.call(o&&o.proxy):t}}function z0(){return!!(Nn()||ao)}const kh={},$h=()=>Object.create(kh),Eh=e=>Object.getPrototypeOf(e)===kh;function R0(e,t,n,o=!1){const r={},s=$h();e.propsDefaults=Object.create(null),Sh(e,t,r,s);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=o?r:eh(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function V0(e,t,n,o){const{props:r,attrs:s,vnode:{patchFlag:i}}=e,a=Re(r),[l]=e.propsOptions;let u=!1;if((o||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Bi(e.emitsOptions,f))continue;const h=t[f];if(l)if(He(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const p=Mt(f);r[p]=Ka(l,a,p,h,e,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{Sh(e,t,r,s)&&(u=!0);let c;for(const d in a)(!t||!He(t,d)&&((c=Kn(d))===d||!He(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=Ka(l,a,d,void 0,e,!0)):delete r[d]);if(s!==a)for(const d in s)(!t||!He(t,d))&&(delete s[d],u=!0)}u&&gn(e.attrs,"set","")}function Sh(e,t,n,o){const[r,s]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(vr(l))continue;const u=t[l];let c;r&&He(r,c=Mt(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Bi(e.emitsOptions,l)||(!(l in o)||u!==o[l])&&(o[l]=u,i=!0)}if(s){const l=Re(n),u=a||Ye;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Ka(r,l,d,u[d],e,!He(u,d))}}return i}function Ka(e,t,n,o,r,s){const i=e[n];if(i!=null){const a=He(i,"default");if(a&&o===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&Se(l)){const{propsDefaults:u}=r;if(n in u)o=u[n];else{const c=is(r);o=u[n]=l.call(null,t),c()}}else o=l;r.ce&&r.ce._setProp(n,o)}i[0]&&(s&&!a?o=!1:i[1]&&(o===""||o===Kn(n))&&(o=!0))}return o}const H0=new WeakMap;function Ch(e,t,n=!1){const o=n?H0:t.propsCache,r=o.get(e);if(r)return r;const s=e.props,i={},a=[];let l=!1;if(!Se(e)){const c=d=>{l=!0;const[f,h]=Ch(d,t,!0);xt(i,f),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return We(e)&&o.set(e,No),No;if(we(s))for(let c=0;c<s.length;c++){const d=Mt(s[c]);Xu(d)&&(i[d]=Ye)}else if(s)for(const c in s){const d=Mt(c);if(Xu(d)){const f=s[c],h=i[d]=we(f)||Se(f)?{type:f}:xt({},f),p=h.type;let y=!1,$=!0;if(we(p))for(let b=0;b<p.length;++b){const C=p[b],w=Se(C)&&C.name;if(w==="Boolean"){y=!0;break}else w==="String"&&($=!1)}else y=Se(p)&&p.name==="Boolean";h[0]=y,h[1]=$,(y||He(h,"default"))&&a.push(d)}}const u=[i,a];return We(e)&&o.set(e,u),u}function Xu(e){return e[0]!=="$"&&!vr(e)}const tu=e=>e==="_"||e==="_ctx"||e==="$stable",nu=e=>we(e)?e.map(Jt):[Jt(e)],F0=(e,t,n)=>{if(t._n)return t;const o=Ee((...r)=>nu(t(...r)),n);return o._c=!1,o},Nh=(e,t,n)=>{const o=e._ctx;for(const r in e){if(tu(r))continue;const s=e[r];if(Se(s))t[r]=F0(r,s,o);else if(s!=null){const i=nu(s);t[r]=()=>i}}},Ih=(e,t)=>{const n=nu(t);e.slots.default=()=>n},Th=(e,t,n)=>{for(const o in t)(n||!tu(o))&&(e[o]=t[o])},L0=(e,t,n)=>{const o=e.slots=$h();if(e.vnode.shapeFlag&32){const r=t._;r?(Th(o,t,n),n&&Mf(o,"_",r,!0)):Nh(t,o)}else t&&Ih(e,t)},B0=(e,t,n)=>{const{vnode:o,slots:r}=e;let s=!0,i=Ye;if(o.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:Th(r,t,n):(s=!t.$stable,Nh(t,r)),i=t}else t&&(Ih(e,t),i={default:1});if(s)for(const a in r)!tu(a)&&i[a]==null&&delete r[a]},At=rv;function j0(e){return U0(e)}function U0(e,t){const n=Mi();n.__VUE__=!0;const{insert:o,remove:r,patchProp:s,createElement:i,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=on,insertStaticContent:p}=e,y=(T,O,_,k=null,I=null,m=null,v=void 0,P=null,E=!!O.dynamicChildren)=>{if(T===O)return;T&&!er(T,O)&&(k=Z(T),ce(T,I,m,!0),T=null),O.patchFlag===-2&&(E=!1,O.dynamicChildren=null);const{type:F,ref:K,shapeFlag:J}=O;switch(F){case ji:$(T,O,_,k);break;case $n:b(T,O,_,k);break;case Rs:T==null&&C(O,_,k,v);break;case $e:A(T,O,_,k,I,m,v,P,E);break;default:J&1?q(T,O,_,k,I,m,v,P,E):J&6?B(T,O,_,k,I,m,v,P,E):(J&64||J&128)&&F.process(T,O,_,k,I,m,v,P,E,de)}K!=null&&I?xr(K,T&&T.ref,m,O||T,!O):K==null&&T&&T.ref!=null&&xr(T.ref,null,m,T,!0)},$=(T,O,_,k)=>{if(T==null)o(O.el=a(O.children),_,k);else{const I=O.el=T.el;O.children!==T.children&&u(I,O.children)}},b=(T,O,_,k)=>{T==null?o(O.el=l(O.children||""),_,k):O.el=T.el},C=(T,O,_,k)=>{[T.el,T.anchor]=p(T.children,O,_,k,T.el,T.anchor)},w=({el:T,anchor:O},_,k)=>{let I;for(;T&&T!==O;)I=f(T),o(T,_,k),T=I;o(O,_,k)},D=({el:T,anchor:O})=>{let _;for(;T&&T!==O;)_=f(T),r(T),T=_;r(O)},q=(T,O,_,k,I,m,v,P,E)=>{O.type==="svg"?v="svg":O.type==="math"&&(v="mathml"),T==null?Y(O,_,k,I,m,v,P,E):G(T,O,I,m,v,P,E)},Y=(T,O,_,k,I,m,v,P)=>{let E,F;const{props:K,shapeFlag:J,transition:se,dirs:le}=T;if(E=T.el=i(T.type,m,K&&K.is,K),J&8?c(E,T.children):J&16&&R(T.children,E,null,k,I,ba(T,m),v,P),le&&Xn(T,null,k,"created"),U(E,T,T.scopeId,v,k),K){for(const xe in K)xe!=="value"&&!vr(xe)&&s(E,xe,null,K[xe],m,k);"value"in K&&s(E,"value",null,K.value,m),(F=K.onVnodeBeforeMount)&&Yt(F,k,T)}le&&Xn(T,null,k,"beforeMount");const be=Z0(I,se);be&&se.beforeEnter(E),o(E,O,_),((F=K&&K.onVnodeMounted)||be||le)&&At(()=>{F&&Yt(F,k,T),be&&se.enter(E),le&&Xn(T,null,k,"mounted")},I)},U=(T,O,_,k,I)=>{if(_&&h(T,_),k)for(let m=0;m<k.length;m++)h(T,k[m]);if(I){let m=I.subTree;if(O===m||Mh(m.type)&&(m.ssContent===O||m.ssFallback===O)){const v=I.vnode;U(T,v,v.scopeId,v.slotScopeIds,I.parent)}}},R=(T,O,_,k,I,m,v,P,E=0)=>{for(let F=E;F<T.length;F++){const K=T[F]=P?Mn(T[F]):Jt(T[F]);y(null,K,O,_,k,I,m,v,P)}},G=(T,O,_,k,I,m,v)=>{const P=O.el=T.el;let{patchFlag:E,dynamicChildren:F,dirs:K}=O;E|=T.patchFlag&16;const J=T.props||Ye,se=O.props||Ye;let le;if(_&&Jn(_,!1),(le=se.onVnodeBeforeUpdate)&&Yt(le,_,O,T),K&&Xn(O,T,_,"beforeUpdate"),_&&Jn(_,!0),(J.innerHTML&&se.innerHTML==null||J.textContent&&se.textContent==null)&&c(P,""),F?j(T.dynamicChildren,F,P,_,k,ba(O,I),m):v||H(T,O,P,null,_,k,ba(O,I),m,!1),E>0){if(E&16)V(P,J,se,_,I);else if(E&2&&J.class!==se.class&&s(P,"class",null,se.class,I),E&4&&s(P,"style",J.style,se.style,I),E&8){const be=O.dynamicProps;for(let xe=0;xe<be.length;xe++){const Te=be[xe],it=J[Te],Xe=se[Te];(Xe!==it||Te==="value")&&s(P,Te,it,Xe,I,_)}}E&1&&T.children!==O.children&&c(P,O.children)}else!v&&F==null&&V(P,J,se,_,I);((le=se.onVnodeUpdated)||K)&&At(()=>{le&&Yt(le,_,O,T),K&&Xn(O,T,_,"updated")},k)},j=(T,O,_,k,I,m,v)=>{for(let P=0;P<O.length;P++){const E=T[P],F=O[P],K=E.el&&(E.type===$e||!er(E,F)||E.shapeFlag&198)?d(E.el):_;y(E,F,K,null,k,I,m,v,!0)}},V=(T,O,_,k,I)=>{if(O!==_){if(O!==Ye)for(const m in O)!vr(m)&&!(m in _)&&s(T,m,O[m],null,I,k);for(const m in _){if(vr(m))continue;const v=_[m],P=O[m];v!==P&&m!=="value"&&s(T,m,P,v,I,k)}"value"in _&&s(T,"value",O.value,_.value,I)}},A=(T,O,_,k,I,m,v,P,E)=>{const F=O.el=T?T.el:a(""),K=O.anchor=T?T.anchor:a("");let{patchFlag:J,dynamicChildren:se,slotScopeIds:le}=O;le&&(P=P?P.concat(le):le),T==null?(o(F,_,k),o(K,_,k),R(O.children||[],_,K,I,m,v,P,E)):J>0&&J&64&&se&&T.dynamicChildren?(j(T.dynamicChildren,se,_,I,m,v,P),(O.key!=null||I&&O===I.subTree)&&Ah(T,O,!0)):H(T,O,_,K,I,m,v,P,E)},B=(T,O,_,k,I,m,v,P,E)=>{O.slotScopeIds=P,T==null?O.shapeFlag&512?I.ctx.activate(O,_,k,v,E):g(O,_,k,I,m,v,E):N(T,O,E)},g=(T,O,_,k,I,m,v)=>{const P=T.component=uv(T,k,I);if(dh(T)&&(P.ctx.renderer=de),cv(P,!1,v),P.asyncDep){if(I&&I.registerDep(P,S,v),!T.el){const E=P.subTree=ee($n);b(null,E,O,_),T.placeholder=E.el}}else S(P,T,O,_,I,m,v)},N=(T,O,_)=>{const k=O.component=T.component;if(nv(T,O,_))if(k.asyncDep&&!k.asyncResolved){z(k,O,_);return}else k.next=O,k.update();else O.el=T.el,k.vnode=O},S=(T,O,_,k,I,m,v)=>{const P=()=>{if(T.isMounted){let{next:J,bu:se,u:le,parent:be,vnode:xe}=T;{const wt=Dh(T);if(wt){J&&(J.el=xe.el,z(T,J,v)),wt.asyncDep.then(()=>{T.isUnmounted||P()});return}}let Te=J,it;Jn(T,!1),J?(J.el=xe.el,z(T,J,v)):J=xe,se&&zs(se),(it=J.props&&J.props.onVnodeBeforeUpdate)&&Yt(it,be,J,xe),Jn(T,!0);const Xe=Qu(T),tt=T.subTree;T.subTree=Xe,y(tt,Xe,d(tt.el),Z(tt),T,I,m),J.el=Xe.el,Te===null&&ov(T,Xe.el),le&&At(le,I),(it=J.props&&J.props.onVnodeUpdated)&&At(()=>Yt(it,be,J,xe),I)}else{let J;const{el:se,props:le}=O,{bm:be,m:xe,parent:Te,root:it,type:Xe}=T,tt=Ao(O);Jn(T,!1),be&&zs(be),!tt&&(J=le&&le.onVnodeBeforeMount)&&Yt(J,Te,O),Jn(T,!0);{it.ce&&it.ce._def.shadowRoot!==!1&&it.ce._injectChildStyle(Xe);const wt=T.subTree=Qu(T);y(null,wt,_,k,T,I,m),O.el=wt.el}if(xe&&At(xe,I),!tt&&(J=le&&le.onVnodeMounted)){const wt=O;At(()=>Yt(J,Te,wt),I)}(O.shapeFlag&256||Te&&Ao(Te.vnode)&&Te.vnode.shapeFlag&256)&&T.a&&At(T.a,I),T.isMounted=!0,O=_=k=null}};T.scope.on();const E=T.effect=new Ff(P);T.scope.off();const F=T.update=E.run.bind(E),K=T.job=E.runIfDirty.bind(E);K.i=T,K.id=T.uid,E.scheduler=()=>Kl(K),Jn(T,!0),F()},z=(T,O,_)=>{O.component=T;const k=T.vnode.props;T.vnode=O,T.next=null,V0(T,O.props,k,_),B0(T,O.children,_),wn(),Uu(T),kn()},H=(T,O,_,k,I,m,v,P,E=!1)=>{const F=T&&T.children,K=T?T.shapeFlag:0,J=O.children,{patchFlag:se,shapeFlag:le}=O;if(se>0){if(se&128){W(F,J,_,k,I,m,v,P,E);return}else if(se&256){X(F,J,_,k,I,m,v,P,E);return}}le&8?(K&16&&fe(F,I,m),J!==F&&c(_,J)):K&16?le&16?W(F,J,_,k,I,m,v,P,E):fe(F,I,m,!0):(K&8&&c(_,""),le&16&&R(J,_,k,I,m,v,P,E))},X=(T,O,_,k,I,m,v,P,E)=>{T=T||No,O=O||No;const F=T.length,K=O.length,J=Math.min(F,K);let se;for(se=0;se<J;se++){const le=O[se]=E?Mn(O[se]):Jt(O[se]);y(T[se],le,_,null,I,m,v,P,E)}F>K?fe(T,I,m,!0,!1,J):R(O,_,k,I,m,v,P,E,J)},W=(T,O,_,k,I,m,v,P,E)=>{let F=0;const K=O.length;let J=T.length-1,se=K-1;for(;F<=J&&F<=se;){const le=T[F],be=O[F]=E?Mn(O[F]):Jt(O[F]);if(er(le,be))y(le,be,_,null,I,m,v,P,E);else break;F++}for(;F<=J&&F<=se;){const le=T[J],be=O[se]=E?Mn(O[se]):Jt(O[se]);if(er(le,be))y(le,be,_,null,I,m,v,P,E);else break;J--,se--}if(F>J){if(F<=se){const le=se+1,be=le<K?O[le].el:k;for(;F<=se;)y(null,O[F]=E?Mn(O[F]):Jt(O[F]),_,be,I,m,v,P,E),F++}}else if(F>se)for(;F<=J;)ce(T[F],I,m,!0),F++;else{const le=F,be=F,xe=new Map;for(F=be;F<=se;F++){const Tt=O[F]=E?Mn(O[F]):Jt(O[F]);Tt.key!=null&&xe.set(Tt.key,F)}let Te,it=0;const Xe=se-be+1;let tt=!1,wt=0;const Jo=new Array(Xe);for(F=0;F<Xe;F++)Jo[F]=0;for(F=le;F<=J;F++){const Tt=T[F];if(it>=Xe){ce(Tt,I,m,!0);continue}let Gt;if(Tt.key!=null)Gt=xe.get(Tt.key);else for(Te=be;Te<=se;Te++)if(Jo[Te-be]===0&&er(Tt,O[Te])){Gt=Te;break}Gt===void 0?ce(Tt,I,m,!0):(Jo[Gt-be]=F+1,Gt>=wt?wt=Gt:tt=!0,y(Tt,O[Gt],_,null,I,m,v,P,E),it++)}const Ru=tt?W0(Jo):No;for(Te=Ru.length-1,F=Xe-1;F>=0;F--){const Tt=be+F,Gt=O[Tt],Vu=O[Tt+1],Hu=Tt+1<K?Vu.el||Vu.placeholder:k;Jo[F]===0?y(null,Gt,_,Hu,I,m,v,P,E):tt&&(Te<0||F!==Ru[Te]?oe(Gt,_,Hu,2):Te--)}}},oe=(T,O,_,k,I=null)=>{const{el:m,type:v,transition:P,children:E,shapeFlag:F}=T;if(F&6){oe(T.component.subTree,O,_,k);return}if(F&128){T.suspense.move(O,_,k);return}if(F&64){v.move(T,O,_,de);return}if(v===$e){o(m,O,_);for(let J=0;J<E.length;J++)oe(E[J],O,_,k);o(T.anchor,O,_);return}if(v===Rs){w(T,O,_);return}if(k!==2&&F&1&&P)if(k===0)P.beforeEnter(m),o(m,O,_),At(()=>P.enter(m),I);else{const{leave:J,delayLeave:se,afterLeave:le}=P,be=()=>{T.ctx.isUnmounted?r(m):o(m,O,_)},xe=()=>{m._isLeaving&&m[v0](!0),J(m,()=>{be(),le&&le()})};se?se(m,be,xe):xe()}else o(m,O,_)},ce=(T,O,_,k=!1,I=!1)=>{const{type:m,props:v,ref:P,children:E,dynamicChildren:F,shapeFlag:K,patchFlag:J,dirs:se,cacheIndex:le}=T;if(J===-2&&(I=!1),P!=null&&(wn(),xr(P,null,_,T,!0),kn()),le!=null&&(O.renderCache[le]=void 0),K&256){O.ctx.deactivate(T);return}const be=K&1&&se,xe=!Ao(T);let Te;if(xe&&(Te=v&&v.onVnodeBeforeUnmount)&&Yt(Te,O,T),K&6)he(T.component,_,k);else{if(K&128){T.suspense.unmount(_,k);return}be&&Xn(T,null,O,"beforeUnmount"),K&64?T.type.remove(T,O,_,de,k):F&&!F.hasOnce&&(m!==$e||J>0&&J&64)?fe(F,O,_,!1,!0):(m===$e&&J&384||!I&&K&16)&&fe(E,O,_),k&&pe(T)}(xe&&(Te=v&&v.onVnodeUnmounted)||be)&&At(()=>{Te&&Yt(Te,O,T),be&&Xn(T,null,O,"unmounted")},_)},pe=T=>{const{type:O,el:_,anchor:k,transition:I}=T;if(O===$e){ie(_,k);return}if(O===Rs){D(T);return}const m=()=>{r(_),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(T.shapeFlag&1&&I&&!I.persisted){const{leave:v,delayLeave:P}=I,E=()=>v(_,m);P?P(T.el,m,E):E()}else m()},ie=(T,O)=>{let _;for(;T!==O;)_=f(T),r(T),T=_;r(O)},he=(T,O,_)=>{const{bum:k,scope:I,job:m,subTree:v,um:P,m:E,a:F}=T;Ju(E),Ju(F),k&&zs(k),I.stop(),m&&(m.flags|=8,ce(v,T,O,_)),P&&At(P,O),At(()=>{T.isUnmounted=!0},O)},fe=(T,O,_,k=!1,I=!1,m=0)=>{for(let v=m;v<T.length;v++)ce(T[v],O,_,k,I)},Z=T=>{if(T.shapeFlag&6)return Z(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const O=f(T.anchor||T.el),_=O&&O[g0];return _?f(_):O};let te=!1;const ne=(T,O,_)=>{T==null?O._vnode&&ce(O._vnode,null,null,!0):y(O._vnode||null,T,O,null,null,null,_),O._vnode=T,te||(te=!0,Uu(),ah(),te=!1)},de={p:y,um:ce,m:oe,r:pe,mt:g,mc:R,pc:H,pbc:j,n:Z,o:e};return{render:ne,hydrate:void 0,createApp:M0(ne)}}function ba({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Jn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Z0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ah(e,t,n=!1){const o=e.children,r=t.children;if(we(o)&&we(r))for(let s=0;s<o.length;s++){const i=o[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Mn(r[s]),a.el=i.el),!n&&a.patchFlag!==-2&&Ah(i,a)),a.type===ji&&a.patchFlag!==-1&&(a.el=i.el),a.type===$n&&!a.el&&(a.el=i.el)}}function W0(e){const t=e.slice(),n=[0];let o,r,s,i,a;const l=e.length;for(o=0;o<l;o++){const u=e[o];if(u!==0){if(r=n[n.length-1],e[r]<u){t[o]=r,n.push(o);continue}for(s=0,i=n.length-1;s<i;)a=s+i>>1,e[n[a]]<u?s=a+1:i=a;u<e[n[s]]&&(s>0&&(t[o]=n[s-1]),n[s]=o)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}function Dh(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Dh(t)}function Ju(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const G0=Symbol.for("v-scx"),Y0=()=>ht(G0);function q0(e,t){return ou(e,null,t)}function Ce(e,t,n){return ou(e,t,n)}function ou(e,t,n=Ye){const{immediate:o,deep:r,flush:s,once:i}=n,a=xt({},n),l=t&&o||!t&&s!=="post";let u;if(Rr){if(s==="sync"){const h=Y0();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=on,h.resume=on,h.pause=on,h}}const c=_t;a.call=(h,p,y)=>an(h,c,p,y);let d=!1;s==="post"?a.scheduler=h=>{At(h,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():Kl(h)}),a.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=d0(e,t,a);return Rr&&(u?u.push(f):l&&f()),f}function K0(e,t,n){const o=this.proxy,r=at(e)?e.includes(".")?Ph(o,e):()=>o[e]:e.bind(o,o);let s;Se(t)?s=t:(s=t.handler,n=t);const i=is(this),a=ou(r,s.bind(o),n);return i(),a}function Ph(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const X0=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Mt(t)}Modifiers`]||e[`${Kn(t)}Modifiers`];function J0(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Ye;let r=n;const s=t.startsWith("update:"),i=s&&X0(o,t.slice(7));i&&(i.trim&&(r=n.map(c=>at(c)?c.trim():c)),i.number&&(r=n.map(Js)));let a,l=o[a=ha(t)]||o[a=ha(Mt(t))];!l&&s&&(l=o[a=ha(Kn(t))]),l&&an(l,e,6,r);const u=o[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,an(u,e,6,r)}}const Q0=new WeakMap;function Oh(e,t,n=!1){const o=n?Q0:t.emitsCache,r=o.get(e);if(r!==void 0)return r;const s=e.emits;let i={},a=!1;if(!Se(e)){const l=u=>{const c=Oh(u,t,!0);c&&(a=!0,xt(i,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(We(e)&&o.set(e,null),null):(we(s)?s.forEach(l=>i[l]=null):xt(i,s),We(e)&&o.set(e,i),i)}function Bi(e,t){return!e||!Di(t)?!1:(t=t.slice(2).replace(/Once$/,""),He(e,t[0].toLowerCase()+t.slice(1))||He(e,Kn(t))||He(e,t))}function Qu(e){const{type:t,vnode:n,proxy:o,withProxy:r,propsOptions:[s],slots:i,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:p,inheritAttrs:y}=e,$=ri(e);let b,C;try{if(n.shapeFlag&4){const D=r||o,q=D;b=Jt(u.call(q,D,c,d,h,f,p)),C=a}else{const D=t;b=Jt(D.length>1?D(d,{attrs:a,slots:i,emit:l}):D(d,null)),C=t.props?a:ev(a)}}catch(D){kr.length=0,Fi(D,e,1),b=ee($n)}let w=b;if(C&&y!==!1){const D=Object.keys(C),{shapeFlag:q}=w;D.length&&q&7&&(s&&D.some(Fl)&&(C=tv(C,s)),w=Ho(w,C,!1,!0))}return n.dirs&&(w=Ho(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&Xl(w,n.transition),b=w,ri($),b}const ev=e=>{let t;for(const n in e)(n==="class"||n==="style"||Di(n))&&((t||(t={}))[n]=e[n]);return t},tv=(e,t)=>{const n={};for(const o in e)(!Fl(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function nv(e,t,n){const{props:o,children:r,component:s}=e,{props:i,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?ec(o,i,u):!!i;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(i[f]!==o[f]&&!Bi(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===i?!1:o?i?ec(o,i,u):!0:!!i;return!1}function ec(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const s=o[r];if(t[s]!==e[s]&&!Bi(n,s))return!0}return!1}function ov({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Mh=e=>e.__isSuspense;function rv(e,t){t&&t.pendingBranch?we(e)?t.effects.push(...e):t.effects.push(e):p0(e)}const $e=Symbol.for("v-fgt"),ji=Symbol.for("v-txt"),$n=Symbol.for("v-cmt"),Rs=Symbol.for("v-stc"),kr=[];let Et=null;function M(e=!1){kr.push(Et=e?null:[])}function sv(){kr.pop(),Et=kr[kr.length-1]||null}let Vo=1;function ai(e,t=!1){Vo+=e,e<0&&Et&&t&&(Et.hasOnce=!0)}function zh(e){return e.dynamicChildren=Vo>0?Et||No:null,sv(),Vo>0&&Et&&Et.push(e),e}function L(e,t,n,o,r,s){return zh(x(e,t,n,o,r,s,!0))}function qe(e,t,n,o,r){return zh(ee(e,t,n,o,r,!0))}function Or(e){return e?e.__v_isVNode===!0:!1}function er(e,t){return e.type===t.type&&e.key===t.key}const Rh=({key:e})=>e??null,Vs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?at(e)||et(e)||Se(e)?{i:mt,r:e,k:t,f:!!n}:e:null);function x(e,t=null,n=null,o=0,r=null,s=e===$e?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Rh(t),ref:t&&Vs(t),scopeId:uh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:mt};return a?(ru(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=at(n)?8:16),Vo>0&&!i&&Et&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Et.push(l),l}const ee=iv;function iv(e,t=null,n=null,o=0,r=null,s=!1){if((!e||e===gh)&&(e=$n),Or(e)){const a=Ho(e,t,!0);return n&&ru(a,n),Vo>0&&!s&&Et&&(a.shapeFlag&6?Et[Et.indexOf(e)]=a:Et.push(a)),a.patchFlag=-2,a}if(pv(e)&&(e=e.__vccOpts),t){t=De(t);let{class:a,style:l}=t;a&&!at(a)&&(t.class=Ze(a)),We(l)&&(ql(l)&&!we(l)&&(l=xt({},l)),t.style=Ke(l))}const i=at(e)?1:Mh(e)?128:m0(e)?64:We(e)?4:Se(e)?2:0;return x(e,t,n,o,r,i,s,!0)}function De(e){return e?ql(e)||Eh(e)?xt({},e):e:null}function Ho(e,t,n=!1,o=!1){const{props:r,ref:s,patchFlag:i,children:a,transition:l}=e,u=t?zr(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Rh(u),ref:t&&t.ref?n&&s?we(s)?s.concat(Vs(t)):[s,Vs(t)]:Vs(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$e?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ho(e.ssContent),ssFallback:e.ssFallback&&Ho(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&o&&Xl(c,l.clone(c)),c}function Fe(e=" ",t=0){return ee(ji,null,e,t)}function Mr(e,t){const n=ee(Rs,null,e);return n.staticCount=t,n}function me(e="",t=!1){return t?(M(),qe($n,null,e)):ee($n,null,e)}function Jt(e){return e==null||typeof e=="boolean"?ee($n):we(e)?ee($e,null,e.slice()):Or(e)?Mn(e):ee(ji,null,String(e))}function Mn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ho(e)}function ru(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(we(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),ru(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Eh(t)?t._ctx=mt:r===3&&mt&&(mt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Se(t)?(t={default:t,_ctx:mt},n=32):(t=String(t),o&64?(n=16,t=[Fe(t)]):n=8);e.children=t,e.shapeFlag|=n}function zr(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=Ze([t.class,o.class]));else if(r==="style")t.style=Ke([t.style,o.style]);else if(Di(r)){const s=t[r],i=o[r];i&&s!==i&&!(we(s)&&s.includes(i))&&(t[r]=s?[].concat(s,i):i)}else r!==""&&(t[r]=o[r])}return t}function Yt(e,t,n,o=null){an(e,t,7,[n,o])}const av=wh();let lv=0;function uv(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||av,s={uid:lv++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ch(o,r),emitsOptions:Oh(o,r),emit:null,emitted:null,propsDefaults:Ye,inheritAttrs:o.inheritAttrs,ctx:Ye,data:Ye,props:Ye,attrs:Ye,slots:Ye,refs:Ye,setupState:Ye,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=J0.bind(null,s),e.ce&&e.ce(s),s}let _t=null;const Nn=()=>_t||mt;let li,Xa;{const e=Mi(),t=(n,o)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(o),s=>{r.length>1?r.forEach(i=>i(s)):r[0](s)}};li=t("__VUE_INSTANCE_SETTERS__",n=>_t=n),Xa=t("__VUE_SSR_SETTERS__",n=>Rr=n)}const is=e=>{const t=_t;return li(e),e.scope.on(),()=>{e.scope.off(),li(t)}},tc=()=>{_t&&_t.scope.off(),li(null)};function Vh(e){return e.vnode.shapeFlag&4}let Rr=!1;function cv(e,t=!1,n=!1){t&&Xa(t);const{props:o,children:r}=e.vnode,s=Vh(e);R0(e,o,s,t),L0(e,r,n||t);const i=s?dv(e,t):void 0;return t&&Xa(!1),i}function dv(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,C0);const{setup:o}=n;if(o){wn();const r=e.setupContext=o.length>1?Fh(e):null,s=is(e),i=ss(o,e,0,[e.props,r]),a=Df(i);if(kn(),s(),(a||e.sp)&&!Ao(e)&&ch(e),a){if(i.then(tc,tc),t)return i.then(l=>{nc(e,l)}).catch(l=>{Fi(l,e,0)});e.asyncDep=i}else nc(e,i)}else Hh(e)}function nc(e,t,n){Se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:We(t)&&(e.setupState=nh(t)),Hh(e)}function Hh(e,t,n){const o=e.type;e.render||(e.render=o.render||on);{const r=is(e);wn();try{I0(e)}finally{kn(),r()}}}const fv={get(e,t){return bt(e,"get",""),e[t]}};function Fh(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,fv),slots:e.slots,emit:e.emit,expose:t}}function Ui(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(nh(io(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in wr)return wr[n](e)},has(t,n){return n in t||n in wr}})):e.proxy}function hv(e,t=!0){return Se(e)?e.displayName||e.name:e.name||t&&e.__name}function pv(e){return Se(e)&&"__vccOpts"in e}const Q=(e,t)=>u0(e,t,Rr);function ze(e,t,n){try{ai(-1);const o=arguments.length;return o===2?We(t)&&!we(t)?Or(t)?ee(e,null,[t]):ee(e,t):ee(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Or(n)&&(n=[n]),ee(e,t,n))}finally{ai(1)}}function gv(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(_n(n[o],t[o]))return!1;return Vo>0&&Et&&Et.push(e),!0}const mv="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ja;const oc=typeof window<"u"&&window.trustedTypes;if(oc)try{Ja=oc.createPolicy("vue",{createHTML:e=>e})}catch{}const Lh=Ja?e=>Ja.createHTML(e):e=>e,vv="http://www.w3.org/2000/svg",yv="http://www.w3.org/1998/Math/MathML",pn=typeof document<"u"?document:null,rc=pn&&pn.createElement("template"),bv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t==="svg"?pn.createElementNS(vv,e):t==="mathml"?pn.createElementNS(yv,e):n?pn.createElement(e,{is:n}):pn.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>pn.createTextNode(e),createComment:e=>pn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,s){const i=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{rc.innerHTML=Lh(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const a=rc.content;if(o==="svg"||o==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},_v=Symbol("_vtc");function xv(e,t,n){const o=e[_v];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ui=Symbol("_vod"),Bh=Symbol("_vsh"),wv={name:"show",beforeMount(e,{value:t},{transition:n}){e[ui]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):tr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),tr(e,!0),o.enter(e)):o.leave(e,()=>{tr(e,!1)}):tr(e,t))},beforeUnmount(e,{value:t}){tr(e,t)}};function tr(e,t){e.style.display=t?e[ui]:"none",e[Bh]=!t}const kv=Symbol(""),$v=/(?:^|;)\s*display\s*:/;function Ev(e,t,n){const o=e.style,r=at(n);let s=!1;if(n&&!r){if(t)if(at(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Hs(o,a,"")}else for(const i in t)n[i]==null&&Hs(o,i,"");for(const i in n)i==="display"&&(s=!0),Hs(o,i,n[i])}else if(r){if(t!==n){const i=o[kv];i&&(n+=";"+i),o.cssText=n,s=$v.test(n)}}else t&&e.removeAttribute("style");ui in e&&(e[ui]=s?o.display:"",e[Bh]&&(o.display="none"))}const sc=/\s*!important$/;function Hs(e,t,n){if(we(n))n.forEach(o=>Hs(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Sv(e,t);sc.test(n)?e.setProperty(Kn(o),n.replace(sc,""),"important"):e[o]=n}}const ic=["Webkit","Moz","ms"],_a={};function Sv(e,t){const n=_a[t];if(n)return n;let o=Mt(t);if(o!=="filter"&&o in e)return _a[t]=o;o=Oi(o);for(let r=0;r<ic.length;r++){const s=ic[r]+o;if(s in e)return _a[t]=s}return t}const ac="http://www.w3.org/1999/xlink";function lc(e,t,n,o,r,s=Mm(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ac,t.slice(6,t.length)):e.setAttributeNS(ac,t,n):n==null||s&&!zf(n)?e.removeAttribute(t):e.setAttribute(t,s?"":jt(n)?String(n):n)}function uc(e,t,n,o,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Lh(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=zf(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(r||t)}function Fn(e,t,n,o){e.addEventListener(t,n,o)}function Cv(e,t,n,o){e.removeEventListener(t,n,o)}const cc=Symbol("_vei");function Nv(e,t,n,o,r=null){const s=e[cc]||(e[cc]={}),i=s[t];if(o&&i)i.value=o;else{const[a,l]=Iv(t);if(o){const u=s[t]=Dv(o,r);Fn(e,a,u,l)}else i&&(Cv(e,a,i,l),s[t]=void 0)}}const dc=/(?:Once|Passive|Capture)$/;function Iv(e){let t;if(dc.test(e)){t={};let o;for(;o=e.match(dc);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Kn(e.slice(2)),t]}let xa=0;const Tv=Promise.resolve(),Av=()=>xa||(Tv.then(()=>xa=0),xa=Date.now());function Dv(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;an(Pv(o,n.value),t,5,[o])};return n.value=e,n.attached=Av(),n}function Pv(e,t){if(we(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const fc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ov=(e,t,n,o,r,s)=>{const i=r==="svg";t==="class"?xv(e,o,i):t==="style"?Ev(e,n,o):Di(t)?Fl(t)||Nv(e,t,n,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Mv(e,t,o,i))?(uc(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&lc(e,t,o,i,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!at(o))?uc(e,Mt(t),o,s,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),lc(e,t,o,i))};function Mv(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&fc(t)&&Se(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return fc(t)&&at(n)?!1:t in e}const Fo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return we(t)?n=>zs(t,n):t};function zv(e){e.target.composing=!0}function hc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const xn=Symbol("_assign"),Qe={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e[xn]=Fo(r);const s=o||r.props&&r.props.type==="number";Fn(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=Js(a)),e[xn](a)}),n&&Fn(e,"change",()=>{e.value=e.value.trim()}),t||(Fn(e,"compositionstart",zv),Fn(e,"compositionend",hc),Fn(e,"change",hc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:r,number:s}},i){if(e[xn]=Fo(i),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?Js(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||r&&e.value.trim()===l)||(e.value=l))}},$r={deep:!0,created(e,t,n){e[xn]=Fo(n),Fn(e,"change",()=>{const o=e._modelValue,r=Vr(e),s=e.checked,i=e[xn];if(we(o)){const a=jl(o,r),l=a!==-1;if(s&&!l)i(o.concat(r));else if(!s&&l){const u=[...o];u.splice(a,1),i(u)}}else if(Ko(o)){const a=new Set(o);s?a.add(r):a.delete(r),i(a)}else i(jh(e,s))})},mounted:pc,beforeUpdate(e,t,n){e[xn]=Fo(n),pc(e,t,n)}};function pc(e,{value:t,oldValue:n},o){e._modelValue=t;let r;if(we(t))r=jl(t,o.props.value)>-1;else if(Ko(t))r=t.has(o.props.value);else{if(t===n)return;r=rs(t,jh(e,!0))}e.checked!==r&&(e.checked=r)}const Kt={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const r=Ko(t);Fn(e,"change",()=>{const s=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?Js(Vr(i)):Vr(i));e[xn](e.multiple?r?new Set(s):s:s[0]),e._assigning=!0,St(()=>{e._assigning=!1})}),e[xn]=Fo(o)},mounted(e,{value:t}){gc(e,t)},beforeUpdate(e,t,n){e[xn]=Fo(n)},updated(e,{value:t}){e._assigning||gc(e,t)}};function gc(e,t){const n=e.multiple,o=we(t);if(!(n&&!o&&!Ko(t))){for(let r=0,s=e.options.length;r<s;r++){const i=e.options[r],a=Vr(i);if(n)if(o){const l=typeof a;l==="string"||l==="number"?i.selected=t.some(u=>String(u)===String(a)):i.selected=jl(t,a)>-1}else i.selected=t.has(a);else if(rs(Vr(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Vr(e){return"_value"in e?e._value:e.value}function jh(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Rv=["ctrl","shift","alt","meta"],Vv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Rv.some(n=>e[`${n}Key`]&&!t.includes(n))},So=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((r,...s)=>{for(let i=0;i<t.length;i++){const a=Vv[t[i]];if(a&&a(r,t))return}return e(r,...s)}))},Hv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ms=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=(r=>{if(!("key"in r))return;const s=Kn(r.key);if(t.some(i=>i===s||Hv[i]===s))return e(r)}))},Fv=xt({patchProp:Ov},bv);let mc;function Lv(){return mc||(mc=j0(Fv))}const Bv=((...e)=>{const t=Lv().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=Uv(o);if(!r)return;const s=t._component;!Se(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,jv(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t});function jv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Uv(e){return at(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Uh;const Zi=e=>Uh=e,Zh=Symbol();function Qa(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Er;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Er||(Er={}));function Zv(){const e=zi(!0),t=e.run(()=>ue({}));let n=[],o=[];const r=io({install(s){Zi(r),r._a=s,s.provide(Zh,r),s.config.globalProperties.$pinia=r,o.forEach(i=>n.push(i)),o=[]},use(s){return this._a?n.push(s):o.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Wh=()=>{};function vc(e,t,n,o=Wh){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),o())};return!n&&Ri()&&yr(r),r}function xo(e,...t){e.slice().forEach(n=>{n(...t)})}const Wv=e=>e(),yc=Symbol(),wa=Symbol();function el(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],r=e[n];Qa(r)&&Qa(o)&&e.hasOwnProperty(n)&&!et(o)&&!Bn(o)?e[n]=el(r,o):e[n]=o}return e}const Gv=Symbol();function Yv(e){return!Qa(e)||!Object.prototype.hasOwnProperty.call(e,Gv)}const{assign:An}=Object;function qv(e){return!!(et(e)&&e.effect)}function Kv(e,t,n,o){const{state:r,actions:s,getters:i}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=r?r():{});const c=oh(n.state.value[e]);return An(c,s,Object.keys(i||{}).reduce((d,f)=>(d[f]=io(Q(()=>{Zi(n);const h=n._s.get(e);return i[f].call(h,h)})),d),{}))}return l=Gh(e,u,t,n,o,!0),l}function Gh(e,t,n={},o,r,s){let i;const a=An({actions:{}},n),l={deep:!0};let u,c,d=[],f=[],h;const p=o.state.value[e];!s&&!p&&(o.state.value[e]={}),ue({});let y;function $(R){let G;u=c=!1,typeof R=="function"?(R(o.state.value[e]),G={type:Er.patchFunction,storeId:e,events:h}):(el(o.state.value[e],R),G={type:Er.patchObject,payload:R,storeId:e,events:h});const j=y=Symbol();St().then(()=>{y===j&&(u=!0)}),c=!0,xo(d,G,o.state.value[e])}const b=s?function(){const{state:G}=n,j=G?G():{};this.$patch(V=>{An(V,j)})}:Wh;function C(){i.stop(),d=[],f=[],o._s.delete(e)}const w=(R,G="")=>{if(yc in R)return R[wa]=G,R;const j=function(){Zi(o);const V=Array.from(arguments),A=[],B=[];function g(z){A.push(z)}function N(z){B.push(z)}xo(f,{args:V,name:j[wa],store:q,after:g,onError:N});let S;try{S=R.apply(this&&this.$id===e?this:q,V)}catch(z){throw xo(B,z),z}return S instanceof Promise?S.then(z=>(xo(A,z),z)).catch(z=>(xo(B,z),Promise.reject(z))):(xo(A,S),S)};return j[yc]=!0,j[wa]=G,j},D={_p:o,$id:e,$onAction:vc.bind(null,f),$patch:$,$reset:b,$subscribe(R,G={}){const j=vc(d,R,G.detached,()=>V()),V=i.run(()=>Ce(()=>o.state.value[e],A=>{(G.flush==="sync"?c:u)&&R({storeId:e,type:Er.direct,events:h},A)},An({},l,G)));return j},$dispose:C},q=Xo(D);o._s.set(e,q);const U=(o._a&&o._a.runWithContext||Wv)(()=>o._e.run(()=>(i=zi()).run(()=>t({action:w}))));for(const R in U){const G=U[R];if(et(G)&&!qv(G)||Bn(G))s||(p&&Yv(G)&&(et(G)?G.value=p[R]:el(G,p[R])),o.state.value[e][R]=G);else if(typeof G=="function"){const j=w(G,R);U[R]=j,a.actions[R]=G}}return An(q,U),An(Re(q),U),Object.defineProperty(q,"$state",{get:()=>o.state.value[e],set:R=>{$(G=>{An(G,R)})}}),o._p.forEach(R=>{An(q,i.run(()=>R({store:q,app:o._a,pinia:o,options:a})))}),p&&s&&n.hydrate&&n.hydrate(q.$state,p),u=!0,c=!0,q}/*! #__NO_SIDE_EFFECTS__ */function Yh(e,t,n){let o;const r=typeof t=="function";o=r?n:t;function s(i,a){const l=z0();return i=i||(l?ht(Zh,null):null),i&&Zi(i),i=Uh,i._s.has(e)||(r?Gh(e,t,o,i):Kv(e,o,i)),i._s.get(e)}return s.$id=e,s}function Hr(e){return Ri()?(yr(e),!0):!1}function vn(e){return typeof e=="function"?e():ae(e)}const Xv=typeof window<"u"&&typeof document<"u",Jv=e=>typeof e<"u",Qv=Object.prototype.toString,ey=e=>Qv.call(e)==="[object Object]",ty=()=>{};function ny(e,t){function n(...o){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(s)})}return n}const qh=e=>e();function oy(e=qh){const t=ue(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...s)=>{t.value&&e(...s)};return{isActive:ei(t),pause:n,resume:o,eventFilter:r}}function bc(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function ry(e,t,n={}){const{eventFilter:o=qh,...r}=n;return Ce(e,ny(o,t),r)}function wo(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:s,pause:i,resume:a,isActive:l}=oy(o);return{stop:ry(e,t,{...r,eventFilter:s}),pause:i,resume:a,isActive:l}}function sy(e,t={}){if(!et(e))return oh(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=s0(()=>({get(){return e.value[o]},set(r){var s;if((s=vn(t.replaceRef))!=null?s:!0)if(Array.isArray(e.value)){const a=[...e.value];a[o]=r,e.value=a}else{const a={...e.value,[o]:r};Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[o]=r}}));return n}function tl(e,t=!1){function n(d,{flush:f="sync",deep:h=!1,timeout:p,throwOnTimeout:y}={}){let $=null;const C=[new Promise(w=>{$=Ce(e,D=>{d(D)!==t&&($?.(),w(D))},{flush:f,deep:h,immediate:!0})})];return p!=null&&C.push(bc(p,y).then(()=>vn(e)).finally(()=>$?.())),Promise.race(C)}function o(d,f){if(!et(d))return n(D=>D===d,f);const{flush:h="sync",deep:p=!1,timeout:y,throwOnTimeout:$}=f??{};let b=null;const w=[new Promise(D=>{b=Ce([e,d],([q,Y])=>{t!==(q===Y)&&(b?.(),D(q))},{flush:h,deep:p,immediate:!0})})];return y!=null&&w.push(bc(y,$).then(()=>vn(e)).finally(()=>(b?.(),vn(e)))),Promise.race(w)}function r(d){return n(f=>!!f,d)}function s(d){return o(null,d)}function i(d){return o(void 0,d)}function a(d){return n(Number.isNaN,d)}function l(d,f){return n(h=>{const p=Array.from(h);return p.includes(d)||p.includes(vn(d))},f)}function u(d){return c(1,d)}function c(d=1,f){let h=-1;return n(()=>(h+=1,h>=d),f)}return Array.isArray(vn(e))?{toMatch:n,toContains:l,changed:u,changedTimes:c,get not(){return tl(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:s,toBeNaN:a,toBeUndefined:i,changed:u,changedTimes:c,get not(){return tl(e,!t)}}}function nl(e){return tl(e)}function iy(e){var t;const n=vn(e);return(t=n?.$el)!=null?t:n}const Kh=Xv?window:void 0;function Xh(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=Kh):[t,n,o,r]=e,!t)return ty;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],i=()=>{s.forEach(c=>c()),s.length=0},a=(c,d,f,h)=>(c.addEventListener(d,f,h),()=>c.removeEventListener(d,f,h)),l=Ce(()=>[iy(t),vn(r)],([c,d])=>{if(i(),!c)return;const f=ey(d)?{...d}:d;s.push(...n.flatMap(h=>o.map(p=>a(c,h,p,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),i()};return Hr(u),u}function ay(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function _c(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=Kh,eventName:s="keydown",passive:i=!1,dedupe:a=!1}=o,l=ay(t);return Xh(r,s,c=>{c.repeat&&vn(a)||l(c)&&n(c)},i)}function ly(e){return JSON.parse(JSON.stringify(e))}function ka(e,t,n,o={}){var r,s,i;const{clone:a=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d,shouldEmit:f}=o,h=Nn(),p=n||h?.emit||((r=h?.$emit)==null?void 0:r.bind(h))||((i=(s=h?.proxy)==null?void 0:s.$emit)==null?void 0:i.bind(h?.proxy));let y=u;t||(t="modelValue"),y=y||`update:${t.toString()}`;const $=w=>a?typeof a=="function"?a(w):ly(w):w,b=()=>Jv(e[t])?$(e[t]):d,C=w=>{f?f(w)&&p(y,w):p(y,w)};if(l){const w=b(),D=ue(w);let q=!1;return Ce(()=>e[t],Y=>{q||(q=!0,D.value=$(Y),St(()=>q=!1))}),Ce(D,Y=>{!q&&(Y!==e[t]||c)&&C(Y)},{deep:c}),D}else return Q({get(){return b()},set(w){C(w)}})}var uy={value:()=>{}};function Wi(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Fs(n)}function Fs(e){this._=e}function cy(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Fs.prototype=Wi.prototype={constructor:Fs,on:function(e,t){var n=this._,o=cy(e+"",n),r,s=-1,i=o.length;if(arguments.length<2){for(;++s<i;)if((r=(e=o[s]).type)&&(r=dy(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(r=(e=o[s]).type)n[r]=xc(n[r],e.name,t);else if(t==null)for(r in n)n[r]=xc(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fs(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,s;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,r=s.length;o<r;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)}};function dy(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function xc(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=uy,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var ol="http://www.w3.org/1999/xhtml";const wc={svg:"http://www.w3.org/2000/svg",xhtml:ol,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gi(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),wc.hasOwnProperty(t)?{space:wc[t],local:e}:e}function fy(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ol&&t.documentElement.namespaceURI===ol?t.createElement(e):t.createElementNS(n,e)}}function hy(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Jh(e){var t=Gi(e);return(t.local?hy:fy)(t)}function py(){}function su(e){return e==null?py:function(){return this.querySelector(e)}}function gy(e){typeof e!="function"&&(e=su(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=new Array(i),l,u,c=0;c<i;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Dt(o,this._parents)}function my(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function vy(){return[]}function Qh(e){return e==null?vy:function(){return this.querySelectorAll(e)}}function yy(e){return function(){return my(e.apply(this,arguments))}}function by(e){typeof e=="function"?e=yy(e):e=Qh(e);for(var t=this._groups,n=t.length,o=[],r=[],s=0;s<n;++s)for(var i=t[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&(o.push(e.call(l,l.__data__,u,i)),r.push(l));return new Dt(o,r)}function ep(e){return function(){return this.matches(e)}}function tp(e){return function(t){return t.matches(e)}}var _y=Array.prototype.find;function xy(e){return function(){return _y.call(this.children,e)}}function wy(){return this.firstElementChild}function ky(e){return this.select(e==null?wy:xy(typeof e=="function"?e:tp(e)))}var $y=Array.prototype.filter;function Ey(){return Array.from(this.children)}function Sy(e){return function(){return $y.call(this.children,e)}}function Cy(e){return this.selectAll(e==null?Ey:Sy(typeof e=="function"?e:tp(e)))}function Ny(e){typeof e!="function"&&(e=ep(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Dt(o,this._parents)}function np(e){return new Array(e.length)}function Iy(){return new Dt(this._enter||this._groups.map(np),this._parents)}function ci(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ci.prototype={constructor:ci,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ty(e){return function(){return e}}function Ay(e,t,n,o,r,s){for(var i=0,a,l=t.length,u=s.length;i<u;++i)(a=t[i])?(a.__data__=s[i],o[i]=a):n[i]=new ci(e,s[i]);for(;i<l;++i)(a=t[i])&&(r[i]=a)}function Dy(e,t,n,o,r,s,i){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=i.call(l,l.__data__,a,t)+"",u.has(h)?r[a]=l:u.set(h,l));for(a=0;a<d;++a)h=i.call(e,s[a],a,s)+"",(l=u.get(h))?(o[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new ci(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(r[a]=l)}function Py(e){return e.__data__}function Oy(e,t){if(!arguments.length)return Array.from(this,Py);var n=t?Dy:Ay,o=this._parents,r=this._groups;typeof e!="function"&&(e=Ty(e));for(var s=r.length,i=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=o[u],d=r[u],f=d.length,h=My(e.call(c,c&&c.__data__,u,o)),p=h.length,y=a[u]=new Array(p),$=i[u]=new Array(p),b=l[u]=new Array(f);n(c,d,y,$,b,h,t);for(var C=0,w=0,D,q;C<p;++C)if(D=y[C]){for(C>=w&&(w=C+1);!(q=$[w])&&++w<p;);D._next=q||null}}return i=new Dt(i,o),i._enter=a,i._exit=l,i}function My(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zy(){return new Dt(this._exit||this._groups.map(np),this._parents)}function Ry(e,t,n){var o=this.enter(),r=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),o&&r?o.merge(r).order():r}function Vy(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,s=o.length,i=Math.min(r,s),a=new Array(r),l=0;l<i;++l)for(var u=n[l],c=o[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<r;++l)a[l]=n[l];return new Dt(a,this._parents)}function Hy(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,s=o[r],i;--r>=0;)(i=o[r])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function Fy(e){e||(e=Ly);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s){for(var i=n[s],a=i.length,l=r[s]=new Array(a),u,c=0;c<a;++c)(u=i[c])&&(l[c]=u);l.sort(t)}return new Dt(r,this._parents).order()}function Ly(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function By(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function jy(){return Array.from(this)}function Uy(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length;r<s;++r){var i=o[r];if(i)return i}return null}function Zy(){let e=0;for(const t of this)++e;return e}function Wy(){return!this.node()}function Gy(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],s=0,i=r.length,a;s<i;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function Yy(e){return function(){this.removeAttribute(e)}}function qy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ky(e,t){return function(){this.setAttribute(e,t)}}function Xy(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Jy(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Qy(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function eb(e,t){var n=Gi(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?qy:Yy:typeof t=="function"?n.local?Qy:Jy:n.local?Xy:Ky)(n,t))}function op(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tb(e){return function(){this.style.removeProperty(e)}}function nb(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ob(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function rb(e,t,n){return arguments.length>1?this.each((t==null?tb:typeof t=="function"?ob:nb)(e,t,n??"")):Lo(this.node(),e)}function Lo(e,t){return e.style.getPropertyValue(t)||op(e).getComputedStyle(e,null).getPropertyValue(t)}function sb(e){return function(){delete this[e]}}function ib(e,t){return function(){this[e]=t}}function ab(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function lb(e,t){return arguments.length>1?this.each((t==null?sb:typeof t=="function"?ab:ib)(e,t)):this.node()[e]}function rp(e){return e.trim().split(/^|\s+/)}function iu(e){return e.classList||new sp(e)}function sp(e){this._node=e,this._names=rp(e.getAttribute("class")||"")}sp.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ip(e,t){for(var n=iu(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function ap(e,t){for(var n=iu(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function ub(e){return function(){ip(this,e)}}function cb(e){return function(){ap(this,e)}}function db(e,t){return function(){(t.apply(this,arguments)?ip:ap)(this,e)}}function fb(e,t){var n=rp(e+"");if(arguments.length<2){for(var o=iu(this.node()),r=-1,s=n.length;++r<s;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?db:t?ub:cb)(n,t))}function hb(){this.textContent=""}function pb(e){return function(){this.textContent=e}}function gb(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function mb(e){return arguments.length?this.each(e==null?hb:(typeof e=="function"?gb:pb)(e)):this.node().textContent}function vb(){this.innerHTML=""}function yb(e){return function(){this.innerHTML=e}}function bb(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function _b(e){return arguments.length?this.each(e==null?vb:(typeof e=="function"?bb:yb)(e)):this.node().innerHTML}function xb(){this.nextSibling&&this.parentNode.appendChild(this)}function wb(){return this.each(xb)}function kb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $b(){return this.each(kb)}function Eb(e){var t=typeof e=="function"?e:Jh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Sb(){return null}function Cb(e,t){var n=typeof e=="function"?e:Jh(e),o=t==null?Sb:typeof t=="function"?t:su(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Nb(){var e=this.parentNode;e&&e.removeChild(this)}function Ib(){return this.each(Nb)}function Tb(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ab(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Db(e){return this.select(e?Ab:Tb)}function Pb(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ob(e){return function(t){e.call(this,t,this.__data__)}}function Mb(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function zb(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function Rb(e,t,n){return function(){var o=this.__on,r,s=Ob(t);if(o){for(var i=0,a=o.length;i<a;++i)if((r=o[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(r):this.__on=[r]}}function Vb(e,t,n){var o=Mb(e+""),r,s=o.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<s;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}return}for(a=t?Rb:zb,r=0;r<s;++r)this.each(a(o[r],t,n));return this}function lp(e,t,n){var o=op(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Hb(e,t){return function(){return lp(this,e,t)}}function Fb(e,t){return function(){return lp(this,e,t.apply(this,arguments))}}function Lb(e,t){return this.each((typeof t=="function"?Fb:Hb)(e,t))}function*Bb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length,i;r<s;++r)(i=o[r])&&(yield i)}var up=[null];function Dt(e,t){this._groups=e,this._parents=t}function as(){return new Dt([[document.documentElement]],up)}function jb(){return this}Dt.prototype=as.prototype={constructor:Dt,select:gy,selectAll:by,selectChild:ky,selectChildren:Cy,filter:Ny,data:Oy,enter:Iy,exit:zy,join:Ry,merge:Vy,selection:jb,order:Hy,sort:Fy,call:By,nodes:jy,node:Uy,size:Zy,empty:Wy,each:Gy,attr:eb,style:rb,property:lb,classed:fb,text:mb,html:_b,raise:wb,lower:$b,append:Eb,insert:Cb,remove:Ib,clone:Db,datum:Pb,on:Vb,dispatch:Lb,[Symbol.iterator]:Bb};function Rt(e){return typeof e=="string"?new Dt([[document.querySelector(e)]],[document.documentElement]):new Dt([[e]],up)}function Ub(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Xt(e,t){if(e=Ub(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Zb={passive:!1},Fr={capture:!0,passive:!1};function $a(e){e.stopImmediatePropagation()}function Do(e){e.preventDefault(),e.stopImmediatePropagation()}function cp(e){var t=e.document.documentElement,n=Rt(e).on("dragstart.drag",Do,Fr);"onselectstart"in t?n.on("selectstart.drag",Do,Fr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function dp(e,t){var n=e.document.documentElement,o=Rt(e).on("dragstart.drag",null);t&&(o.on("click.drag",Do,Fr),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const vs=e=>()=>e;function rl(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:s,x:i,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}rl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Wb(e){return!e.ctrlKey&&!e.button}function Gb(){return this.parentNode}function Yb(e,t){return t??{x:e.x,y:e.y}}function qb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kb(){var e=Wb,t=Gb,n=Yb,o=qb,r={},s=Wi("start","drag","end"),i=0,a,l,u,c,d=0;function f(D){D.on("mousedown.drag",h).filter(o).on("touchstart.drag",$).on("touchmove.drag",b,Zb).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(D,q){if(!(c||!e.call(this,D,q))){var Y=w(this,t.call(this,D,q),D,q,"mouse");Y&&(Rt(D.view).on("mousemove.drag",p,Fr).on("mouseup.drag",y,Fr),cp(D.view),$a(D),u=!1,a=D.clientX,l=D.clientY,Y("start",D))}}function p(D){if(Do(D),!u){var q=D.clientX-a,Y=D.clientY-l;u=q*q+Y*Y>d}r.mouse("drag",D)}function y(D){Rt(D.view).on("mousemove.drag mouseup.drag",null),dp(D.view,u),Do(D),r.mouse("end",D)}function $(D,q){if(e.call(this,D,q)){var Y=D.changedTouches,U=t.call(this,D,q),R=Y.length,G,j;for(G=0;G<R;++G)(j=w(this,U,D,q,Y[G].identifier,Y[G]))&&($a(D),j("start",D,Y[G]))}}function b(D){var q=D.changedTouches,Y=q.length,U,R;for(U=0;U<Y;++U)(R=r[q[U].identifier])&&(Do(D),R("drag",D,q[U]))}function C(D){var q=D.changedTouches,Y=q.length,U,R;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),U=0;U<Y;++U)(R=r[q[U].identifier])&&($a(D),R("end",D,q[U]))}function w(D,q,Y,U,R,G){var j=s.copy(),V=Xt(G||Y,q),A,B,g;if((g=n.call(D,new rl("beforestart",{sourceEvent:Y,target:f,identifier:R,active:i,x:V[0],y:V[1],dx:0,dy:0,dispatch:j}),U))!=null)return A=g.x-V[0]||0,B=g.y-V[1]||0,function N(S,z,H){var X=V,W;switch(S){case"start":r[R]=N,W=i++;break;case"end":delete r[R],--i;case"drag":V=Xt(H||z,q),W=i;break}j.call(S,D,new rl(S,{sourceEvent:z,subject:g,target:f,identifier:R,active:W,x:V[0]+A,y:V[1]+B,dx:V[0]-X[0],dy:V[1]-X[1],dispatch:j}),U)}}return f.filter=function(D){return arguments.length?(e=typeof D=="function"?D:vs(!!D),f):e},f.container=function(D){return arguments.length?(t=typeof D=="function"?D:vs(D),f):t},f.subject=function(D){return arguments.length?(n=typeof D=="function"?D:vs(D),f):n},f.touchable=function(D){return arguments.length?(o=typeof D=="function"?D:vs(!!D),f):o},f.on=function(){var D=s.on.apply(s,arguments);return D===s?f:D},f.clickDistance=function(D){return arguments.length?(d=(D=+D)*D,f):Math.sqrt(d)},f}function au(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fp(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function ls(){}var Lr=.7,di=1/Lr,Po="\\s*([+-]?\\d+)\\s*",Br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xb=/^#([0-9a-f]{3,8})$/,Jb=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),Qb=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),e_=new RegExp(`^rgba\\(${Po},${Po},${Po},${Br}\\)$`),t_=new RegExp(`^rgba\\(${rn},${rn},${rn},${Br}\\)$`),n_=new RegExp(`^hsl\\(${Br},${rn},${rn}\\)$`),o_=new RegExp(`^hsla\\(${Br},${rn},${rn},${Br}\\)$`),kc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};au(ls,ho,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$c,formatHex:$c,formatHex8:r_,formatHsl:s_,formatRgb:Ec,toString:Ec});function $c(){return this.rgb().formatHex()}function r_(){return this.rgb().formatHex8()}function s_(){return hp(this).formatHsl()}function Ec(){return this.rgb().formatRgb()}function ho(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Xb.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Sc(t):n===3?new Ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ys(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ys(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Jb.exec(e))?new Ct(t[1],t[2],t[3],1):(t=Qb.exec(e))?new Ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=e_.exec(e))?ys(t[1],t[2],t[3],t[4]):(t=t_.exec(e))?ys(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=n_.exec(e))?Ic(t[1],t[2]/100,t[3]/100,1):(t=o_.exec(e))?Ic(t[1],t[2]/100,t[3]/100,t[4]):kc.hasOwnProperty(e)?Sc(kc[e]):e==="transparent"?new Ct(NaN,NaN,NaN,0):null}function Sc(e){return new Ct(e>>16&255,e>>8&255,e&255,1)}function ys(e,t,n,o){return o<=0&&(e=t=n=NaN),new Ct(e,t,n,o)}function i_(e){return e instanceof ls||(e=ho(e)),e?(e=e.rgb(),new Ct(e.r,e.g,e.b,e.opacity)):new Ct}function sl(e,t,n,o){return arguments.length===1?i_(e):new Ct(e,t,n,o??1)}function Ct(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}au(Ct,sl,fp(ls,{brighter(e){return e=e==null?di:Math.pow(di,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lr:Math.pow(Lr,e),new Ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ct(lo(this.r),lo(this.g),lo(this.b),fi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cc,formatHex:Cc,formatHex8:a_,formatRgb:Nc,toString:Nc}));function Cc(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}`}function a_(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}${oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nc(){const e=fi(this.opacity);return`${e===1?"rgb(":"rgba("}${lo(this.r)}, ${lo(this.g)}, ${lo(this.b)}${e===1?")":`, ${e})`}`}function fi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oo(e){return e=lo(e),(e<16?"0":"")+e.toString(16)}function Ic(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vt(e,t,n,o)}function hp(e){if(e instanceof Vt)return new Vt(e.h,e.s,e.l,e.opacity);if(e instanceof ls||(e=ho(e)),!e)return new Vt;if(e instanceof Vt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),s=Math.max(t,n,o),i=NaN,a=s-r,l=(s+r)/2;return a?(t===s?i=(n-o)/a+(n<o)*6:n===s?i=(o-t)/a+2:i=(t-n)/a+4,a/=l<.5?s+r:2-s-r,i*=60):a=l>0&&l<1?0:i,new Vt(i,a,l,e.opacity)}function l_(e,t,n,o){return arguments.length===1?hp(e):new Vt(e,t,n,o??1)}function Vt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}au(Vt,l_,fp(ls,{brighter(e){return e=e==null?di:Math.pow(di,e),new Vt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lr:Math.pow(Lr,e),new Vt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Ct(Ea(e>=240?e-240:e+120,r,o),Ea(e,r,o),Ea(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Vt(Tc(this.h),bs(this.s),bs(this.l),fi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fi(this.opacity);return`${e===1?"hsl(":"hsla("}${Tc(this.h)}, ${bs(this.s)*100}%, ${bs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Tc(e){return e=(e||0)%360,e<0?e+360:e}function bs(e){return Math.max(0,Math.min(1,e||0))}function Ea(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const lu=e=>()=>e;function u_(e,t){return function(n){return e+n*t}}function c_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function d_(e){return(e=+e)==1?pp:function(t,n){return n-t?c_(t,n,e):lu(isNaN(t)?n:t)}}function pp(e,t){var n=t-e;return n?u_(e,n):lu(isNaN(e)?t:e)}const hi=(function e(t){var n=d_(t);function o(r,s){var i=n((r=sl(r)).r,(s=sl(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),u=pp(r.opacity,s.opacity);return function(c){return r.r=i(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return o.gamma=e,o})(1);function f_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),r;return function(s){for(r=0;r<n;++r)o[r]=e[r]*(1-s)+t[r]*s;return o}}function h_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function p_(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,r=new Array(o),s=new Array(n),i;for(i=0;i<o;++i)r[i]=Sr(e[i],t[i]);for(;i<n;++i)s[i]=t[i];return function(a){for(i=0;i<o;++i)s[i]=r[i](a);return s}}function g_(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function Qt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function m_(e,t){var n={},o={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Sr(e[r],t[r]):o[r]=t[r];return function(s){for(r in n)o[r]=n[r](s);return o}}var il=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sa=new RegExp(il.source,"g");function v_(e){return function(){return e}}function y_(e){return function(t){return e(t)+""}}function gp(e,t){var n=il.lastIndex=Sa.lastIndex=0,o,r,s,i=-1,a=[],l=[];for(e=e+"",t=t+"";(o=il.exec(e))&&(r=Sa.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(o=o[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,l.push({i,x:Qt(o,r)})),n=Sa.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?l[0]?y_(l[0].x):v_(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Sr(e,t){var n=typeof t,o;return t==null||n==="boolean"?lu(t):(n==="number"?Qt:n==="string"?(o=ho(t))?(t=o,hi):gp:t instanceof ho?hi:t instanceof Date?g_:h_(t)?f_:Array.isArray(t)?p_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?m_:Qt)(e,t)}var Ac=180/Math.PI,al={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mp(e,t,n,o,r,s){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,l/=a),e*o<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Ac,skewX:Math.atan(l)*Ac,scaleX:i,scaleY:a}}var _s;function b_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?al:mp(t.a,t.b,t.c,t.d,t.e,t.f)}function __(e){return e==null||(_s||(_s=document.createElementNS("http://www.w3.org/2000/svg","g")),_s.setAttribute("transform",e),!(e=_s.transform.baseVal.consolidate()))?al:(e=e.matrix,mp(e.a,e.b,e.c,e.d,e.e,e.f))}function vp(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,p){if(u!==d||c!==f){var y=h.push("translate(",null,t,null,n);p.push({i:y-4,x:Qt(u,d)},{i:y-2,x:Qt(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function i(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(r(d)+"rotate(",null,o)-2,x:Qt(u,c)})):c&&d.push(r(d)+"rotate("+c+o)}function a(u,c,d,f){u!==c?f.push({i:d.push(r(d)+"skewX(",null,o)-2,x:Qt(u,c)}):c&&d.push(r(d)+"skewX("+c+o)}function l(u,c,d,f,h,p){if(u!==d||c!==f){var y=h.push(r(h)+"scale(",null,",",null,")");p.push({i:y-4,x:Qt(u,d)},{i:y-2,x:Qt(c,f)})}else(d!==1||f!==1)&&h.push(r(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),i(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var p=-1,y=f.length,$;++p<y;)d[($=f[p]).i]=$.x(h);return d.join("")}}}var x_=vp(b_,"px, ","px)","deg)"),w_=vp(__,", ",")",")"),k_=1e-12;function Dc(e){return((e=Math.exp(e))+1/e)/2}function $_(e){return((e=Math.exp(e))-1/e)/2}function E_(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ls=(function e(t,n,o){function r(s,i){var a=s[0],l=s[1],u=s[2],c=i[0],d=i[1],f=i[2],h=c-a,p=d-l,y=h*h+p*p,$,b;if(y<k_)b=Math.log(f/u)/t,$=function(U){return[a+U*h,l+U*p,u*Math.exp(t*U*b)]};else{var C=Math.sqrt(y),w=(f*f-u*u+o*y)/(2*u*n*C),D=(f*f-u*u-o*y)/(2*f*n*C),q=Math.log(Math.sqrt(w*w+1)-w),Y=Math.log(Math.sqrt(D*D+1)-D);b=(Y-q)/t,$=function(U){var R=U*b,G=Dc(q),j=u/(n*C)*(G*E_(t*R+q)-$_(q));return[a+j*h,l+j*p,u*G/Dc(t*R+q)]}}return $.duration=b*1e3*t/Math.SQRT2,$}return r.rho=function(s){var i=Math.max(.001,+s),a=i*i,l=a*a;return e(i,a,l)},r})(Math.SQRT2,2,4);var Bo=0,cr=0,nr=0,yp=1e3,pi,dr,gi=0,po=0,Yi=0,jr=typeof performance=="object"&&performance.now?performance:Date,bp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function uu(){return po||(bp(S_),po=jr.now()+Yi)}function S_(){po=0}function mi(){this._call=this._time=this._next=null}mi.prototype=_p.prototype={constructor:mi,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?uu():+n)+(t==null?0:+t),!this._next&&dr!==this&&(dr?dr._next=this:pi=this,dr=this),this._call=e,this._time=n,ll()},stop:function(){this._call&&(this._call=null,this._time=1/0,ll())}};function _p(e,t,n){var o=new mi;return o.restart(e,t,n),o}function C_(){uu(),++Bo;for(var e=pi,t;e;)(t=po-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Bo}function Pc(){po=(gi=jr.now())+Yi,Bo=cr=0;try{C_()}finally{Bo=0,I_(),po=0}}function N_(){var e=jr.now(),t=e-gi;t>yp&&(Yi-=t,gi=e)}function I_(){for(var e,t=pi,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:pi=n);dr=e,ll(o)}function ll(e){if(!Bo){cr&&(cr=clearTimeout(cr));var t=e-po;t>24?(e<1/0&&(cr=setTimeout(Pc,e-jr.now()-Yi)),nr&&(nr=clearInterval(nr))):(nr||(gi=jr.now(),nr=setInterval(N_,yp)),Bo=1,bp(Pc))}}function Oc(e,t,n){var o=new mi;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var T_=Wi("start","end","cancel","interrupt"),A_=[],xp=0,Mc=1,ul=2,Bs=3,zc=4,cl=5,js=6;function qi(e,t,n,o,r,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;D_(e,n,{name:t,index:o,group:r,on:T_,tween:A_,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:xp})}function cu(e,t){var n=Zt(e,t);if(n.state>xp)throw new Error("too late; already scheduled");return n}function ln(e,t){var n=Zt(e,t);if(n.state>Bs)throw new Error("too late; already running");return n}function Zt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function D_(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=_p(s,0,n.time);function s(u){n.state=Mc,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,f,h;if(n.state!==Mc)return l();for(c in o)if(h=o[c],h.name===n.name){if(h.state===Bs)return Oc(i);h.state===zc?(h.state=js,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[c]):+c<t&&(h.state=js,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[c])}if(Oc(function(){n.state===Bs&&(n.state=zc,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=ul,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ul){for(n.state=Bs,r=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=h);r.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=cl,1),d=-1,f=r.length;++d<f;)r[d].call(e,c);n.state===cl&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=js,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Us(e,t){var n=e.__transition,o,r,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){s=!1;continue}r=o.state>ul&&o.state<cl,o.state=js,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}s&&delete e.__transition}}function P_(e){return this.each(function(){Us(this,e)})}function O_(e,t){var n,o;return function(){var r=ln(this,e),s=r.tween;if(s!==n){o=n=s;for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}r.tween=o}}function M_(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var s=ln(this,e),i=s.tween;if(i!==o){r=(o=i).slice();for(var a={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=a;break}l===u&&r.push(a)}s.tween=r}}function z_(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Zt(this.node(),n).tween,r=0,s=o.length,i;r<s;++r)if((i=o[r]).name===e)return i.value;return null}return this.each((t==null?O_:M_)(n,e,t))}function du(e,t,n){var o=e._id;return e.each(function(){var r=ln(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Zt(r,o).value[t]}}function wp(e,t){var n;return(typeof t=="number"?Qt:t instanceof ho?hi:(n=ho(t))?(t=n,hi):gp)(e,t)}function R_(e){return function(){this.removeAttribute(e)}}function V_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function H_(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttribute(e);return i===r?null:i===o?s:s=t(o=i,n)}}function F_(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===o?s:s=t(o=i,n)}}function L_(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function B_(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function j_(e,t){var n=Gi(e),o=n==="transform"?w_:wp;return this.attrTween(e,typeof t=="function"?(n.local?B_:L_)(n,o,du(this,"attr."+e,t)):t==null?(n.local?V_:R_)(n):(n.local?F_:H_)(n,o,t))}function U_(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Z_(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function W_(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&Z_(e,s)),n}return r._value=t,r}function G_(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&U_(e,s)),n}return r._value=t,r}function Y_(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Gi(e);return this.tween(n,(o.local?W_:G_)(o,t))}function q_(e,t){return function(){cu(this,e).delay=+t.apply(this,arguments)}}function K_(e,t){return t=+t,function(){cu(this,e).delay=t}}function X_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?q_:K_)(t,e)):Zt(this.node(),t).delay}function J_(e,t){return function(){ln(this,e).duration=+t.apply(this,arguments)}}function Q_(e,t){return t=+t,function(){ln(this,e).duration=t}}function e1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?J_:Q_)(t,e)):Zt(this.node(),t).duration}function t1(e,t){if(typeof t!="function")throw new Error;return function(){ln(this,e).ease=t}}function n1(e){var t=this._id;return arguments.length?this.each(t1(t,e)):Zt(this.node(),t).ease}function o1(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ln(this,e).ease=n}}function r1(e){if(typeof e!="function")throw new Error;return this.each(o1(this._id,e))}function s1(e){typeof e!="function"&&(e=ep(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new En(o,this._parents,this._name,this._id)}function i1(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),i=new Array(o),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=i[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<o;++a)i[a]=t[a];return new En(i,this._parents,this._name,this._id)}function a1(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function l1(e,t,n){var o,r,s=a1(t)?cu:ln;return function(){var i=s(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}function u1(e,t){var n=this._id;return arguments.length<2?Zt(this.node(),n).on.on(e):this.each(l1(n,e,t))}function c1(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function d1(){return this.on("end.remove",c1(this._id))}function f1(e){var t=this._name,n=this._id;typeof e!="function"&&(e=su(e));for(var o=this._groups,r=o.length,s=new Array(r),i=0;i<r;++i)for(var a=o[i],l=a.length,u=s[i]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,qi(u[f],t,n,f,u,Zt(c,n)));return new En(s,this._parents,t,n)}function h1(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Qh(e));for(var o=this._groups,r=o.length,s=[],i=[],a=0;a<r;++a)for(var l=o[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,p=Zt(c,n),y=0,$=f.length;y<$;++y)(h=f[y])&&qi(h,t,n,y,f,p);s.push(f),i.push(c)}return new En(s,i,t,n)}var p1=as.prototype.constructor;function g1(){return new p1(this._groups,this._parents)}function m1(e,t){var n,o,r;return function(){var s=Lo(this,e),i=(this.style.removeProperty(e),Lo(this,e));return s===i?null:s===n&&i===o?r:r=t(n=s,o=i)}}function kp(e){return function(){this.style.removeProperty(e)}}function v1(e,t,n){var o,r=n+"",s;return function(){var i=Lo(this,e);return i===r?null:i===o?s:s=t(o=i,n)}}function y1(e,t,n){var o,r,s;return function(){var i=Lo(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Lo(this,e))),i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a))}}function b1(e,t){var n,o,r,s="style."+t,i="end."+s,a;return function(){var l=ln(this,e),u=l.on,c=l.value[s]==null?a||(a=kp(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(i,r=c),l.on=o}}function _1(e,t,n){var o=(e+="")=="transform"?x_:wp;return t==null?this.styleTween(e,m1(e,o)).on("end.style."+e,kp(e)):typeof t=="function"?this.styleTween(e,y1(e,o,du(this,"style."+e,t))).each(b1(this._id,e)):this.styleTween(e,v1(e,o,t),n).on("end.style."+e,null)}function x1(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function w1(e,t,n){var o,r;function s(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&x1(e,i,n)),o}return s._value=t,s}function k1(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,w1(e,t,n??""))}function $1(e){return function(){this.textContent=e}}function E1(e){return function(){var t=e(this);this.textContent=t??""}}function S1(e){return this.tween("text",typeof e=="function"?E1(du(this,"text",e)):$1(e==null?"":e+""))}function C1(e){return function(t){this.textContent=e.call(this,t)}}function N1(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&C1(r)),t}return o._value=e,o}function I1(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,N1(e))}function T1(){for(var e=this._name,t=this._id,n=$p(),o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)if(l=i[u]){var c=Zt(l,t);qi(l,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new En(o,this._parents,e,n)}function A1(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(s,i){var a={value:i},l={value:function(){--r===0&&s()}};n.each(function(){var u=ln(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),r===0&&s()})}var D1=0;function En(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function $p(){return++D1}var dn=as.prototype;En.prototype={constructor:En,select:f1,selectAll:h1,selectChild:dn.selectChild,selectChildren:dn.selectChildren,filter:s1,merge:i1,selection:g1,transition:T1,call:dn.call,nodes:dn.nodes,node:dn.node,size:dn.size,empty:dn.empty,each:dn.each,on:u1,attr:j_,attrTween:Y_,style:_1,styleTween:k1,text:S1,textTween:I1,remove:d1,tween:z_,delay:X_,duration:e1,ease:n1,easeVarying:r1,end:A1,[Symbol.iterator]:dn[Symbol.iterator]};function P1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var O1={time:null,delay:0,duration:250,ease:P1};function M1(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function z1(e){var t,n;e instanceof En?(t=e._id,e=e._name):(t=$p(),(n=O1).time=uu(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&qi(l,e,t,u,i,n||M1(l,t));return new En(o,this._parents,e,t)}as.prototype.interrupt=P_;as.prototype.transition=z1;const xs=e=>()=>e;function R1(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function yn(e,t,n){this.k=e,this.x=t,this.y=n}yn.prototype={constructor:yn,scale:function(e){return e===1?this:new yn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new yn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jo=new yn(1,0,0);yn.prototype;function Ca(e){e.stopImmediatePropagation()}function or(e){e.preventDefault(),e.stopImmediatePropagation()}function V1(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function H1(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Rc(){return this.__zoom||jo}function F1(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function L1(){return navigator.maxTouchPoints||"ontouchstart"in this}function B1(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function j1(){var e=V1,t=H1,n=B1,o=F1,r=L1,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Ls,u=Wi("start","zoom","end"),c,d,f,h=500,p=150,y=0,$=10;function b(g){g.property("__zoom",Rc).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",G).on("dblclick.zoom",j).filter(r).on("touchstart.zoom",V).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(g,N,S,z){var H=g.selection?g.selection():g;H.property("__zoom",Rc),g!==H?q(g,N,S,z):H.interrupt().each(function(){Y(this,arguments).event(z).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},b.scaleBy=function(g,N,S,z){b.scaleTo(g,function(){var H=this.__zoom.k,X=typeof N=="function"?N.apply(this,arguments):N;return H*X},S,z)},b.scaleTo=function(g,N,S,z){b.transform(g,function(){var H=t.apply(this,arguments),X=this.__zoom,W=S==null?D(H):typeof S=="function"?S.apply(this,arguments):S,oe=X.invert(W),ce=typeof N=="function"?N.apply(this,arguments):N;return n(w(C(X,ce),W,oe),H,i)},S,z)},b.translateBy=function(g,N,S,z){b.transform(g,function(){return n(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),i)},null,z)},b.translateTo=function(g,N,S,z,H){b.transform(g,function(){var X=t.apply(this,arguments),W=this.__zoom,oe=z==null?D(X):typeof z=="function"?z.apply(this,arguments):z;return n(jo.translate(oe[0],oe[1]).scale(W.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof S=="function"?-S.apply(this,arguments):-S),X,i)},z,H)};function C(g,N){return N=Math.max(s[0],Math.min(s[1],N)),N===g.k?g:new yn(N,g.x,g.y)}function w(g,N,S){var z=N[0]-S[0]*g.k,H=N[1]-S[1]*g.k;return z===g.x&&H===g.y?g:new yn(g.k,z,H)}function D(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function q(g,N,S,z){g.on("start.zoom",function(){Y(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){Y(this,arguments).event(z).end()}).tween("zoom",function(){var H=this,X=arguments,W=Y(H,X).event(z),oe=t.apply(H,X),ce=S==null?D(oe):typeof S=="function"?S.apply(H,X):S,pe=Math.max(oe[1][0]-oe[0][0],oe[1][1]-oe[0][1]),ie=H.__zoom,he=typeof N=="function"?N.apply(H,X):N,fe=l(ie.invert(ce).concat(pe/ie.k),he.invert(ce).concat(pe/he.k));return function(Z){if(Z===1)Z=he;else{var te=fe(Z),ne=pe/te[2];Z=new yn(ne,ce[0]-te[0]*ne,ce[1]-te[1]*ne)}W.zoom(null,Z)}})}function Y(g,N,S){return!S&&g.__zooming||new U(g,N)}function U(g,N){this.that=g,this.args=N,this.active=0,this.sourceEvent=null,this.extent=t.apply(g,N),this.taps=0}U.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,N){return this.mouse&&g!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var N=Rt(this.that).datum();u.call(g,this.that,new R1(g,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:u}),N)}};function R(g,...N){if(!e.apply(this,arguments))return;var S=Y(this,N).event(g),z=this.__zoom,H=Math.max(s[0],Math.min(s[1],z.k*Math.pow(2,o.apply(this,arguments)))),X=Xt(g);if(S.wheel)(S.mouse[0][0]!==X[0]||S.mouse[0][1]!==X[1])&&(S.mouse[1]=z.invert(S.mouse[0]=X)),clearTimeout(S.wheel);else{if(z.k===H)return;S.mouse=[X,z.invert(X)],Us(this),S.start()}or(g),S.wheel=setTimeout(W,p),S.zoom("mouse",n(w(C(z,H),S.mouse[0],S.mouse[1]),S.extent,i));function W(){S.wheel=null,S.end()}}function G(g,...N){if(f||!e.apply(this,arguments))return;var S=g.currentTarget,z=Y(this,N,!0).event(g),H=Rt(g.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",pe,!0),X=Xt(g,S),W=g.clientX,oe=g.clientY;cp(g.view),Ca(g),z.mouse=[X,this.__zoom.invert(X)],Us(this),z.start();function ce(ie){if(or(ie),!z.moved){var he=ie.clientX-W,fe=ie.clientY-oe;z.moved=he*he+fe*fe>y}z.event(ie).zoom("mouse",n(w(z.that.__zoom,z.mouse[0]=Xt(ie,S),z.mouse[1]),z.extent,i))}function pe(ie){H.on("mousemove.zoom mouseup.zoom",null),dp(ie.view,z.moved),or(ie),z.event(ie).end()}}function j(g,...N){if(e.apply(this,arguments)){var S=this.__zoom,z=Xt(g.changedTouches?g.changedTouches[0]:g,this),H=S.invert(z),X=S.k*(g.shiftKey?.5:2),W=n(w(C(S,X),z,H),t.apply(this,N),i);or(g),a>0?Rt(this).transition().duration(a).call(q,W,z,g):Rt(this).call(b.transform,W,z,g)}}function V(g,...N){if(e.apply(this,arguments)){var S=g.touches,z=S.length,H=Y(this,N,g.changedTouches.length===z).event(g),X,W,oe,ce;for(Ca(g),W=0;W<z;++W)oe=S[W],ce=Xt(oe,this),ce=[ce,this.__zoom.invert(ce),oe.identifier],H.touch0?!H.touch1&&H.touch0[2]!==ce[2]&&(H.touch1=ce,H.taps=0):(H.touch0=ce,X=!0,H.taps=1+!!c);c&&(c=clearTimeout(c)),X&&(H.taps<2&&(d=ce[0],c=setTimeout(function(){c=null},h)),Us(this),H.start())}}function A(g,...N){if(this.__zooming){var S=Y(this,N).event(g),z=g.changedTouches,H=z.length,X,W,oe,ce;for(or(g),X=0;X<H;++X)W=z[X],oe=Xt(W,this),S.touch0&&S.touch0[2]===W.identifier?S.touch0[0]=oe:S.touch1&&S.touch1[2]===W.identifier&&(S.touch1[0]=oe);if(W=S.that.__zoom,S.touch1){var pe=S.touch0[0],ie=S.touch0[1],he=S.touch1[0],fe=S.touch1[1],Z=(Z=he[0]-pe[0])*Z+(Z=he[1]-pe[1])*Z,te=(te=fe[0]-ie[0])*te+(te=fe[1]-ie[1])*te;W=C(W,Math.sqrt(Z/te)),oe=[(pe[0]+he[0])/2,(pe[1]+he[1])/2],ce=[(ie[0]+fe[0])/2,(ie[1]+fe[1])/2]}else if(S.touch0)oe=S.touch0[0],ce=S.touch0[1];else return;S.zoom("touch",n(w(W,oe,ce),S.extent,i))}}function B(g,...N){if(this.__zooming){var S=Y(this,N).event(g),z=g.changedTouches,H=z.length,X,W;for(Ca(g),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),X=0;X<H;++X)W=z[X],S.touch0&&S.touch0[2]===W.identifier?delete S.touch0:S.touch1&&S.touch1[2]===W.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(W=Xt(W,this),Math.hypot(d[0]-W[0],d[1]-W[1])<$)){var oe=Rt(this).on("dblclick.zoom");oe&&oe.apply(this,arguments)}}}return b.wheelDelta=function(g){return arguments.length?(o=typeof g=="function"?g:xs(+g),b):o},b.filter=function(g){return arguments.length?(e=typeof g=="function"?g:xs(!!g),b):e},b.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:xs(!!g),b):r},b.extent=function(g){return arguments.length?(t=typeof g=="function"?g:xs([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),b):t},b.scaleExtent=function(g){return arguments.length?(s[0]=+g[0],s[1]=+g[1],b):[s[0],s[1]]},b.translateExtent=function(g){return arguments.length?(i[0][0]=+g[0][0],i[1][0]=+g[1][0],i[0][1]=+g[0][1],i[1][1]=+g[1][1],b):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},b.constrain=function(g){return arguments.length?(n=g,b):n},b.duration=function(g){return arguments.length?(a=+g,b):a},b.interpolate=function(g){return arguments.length?(l=g,b):l},b.on=function(){var g=u.on.apply(u,arguments);return g===u?b:g},b.clickDistance=function(g){return arguments.length?(y=(g=+g)*g,b):Math.sqrt(y)},b.tapDistance=function(g){return arguments.length?($=+g,b):$},b}var _e=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(_e||{}),fu=(e=>(e.Partial="partial",e.Full="full",e))(fu||{}),eo=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(eo||{}),Zn=(e=>(e.Strict="strict",e.Loose="loose",e))(Zn||{}),dl=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(dl||{}),Cr=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Cr||{}),Ep=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(Ep||{});const U1=["INPUT","SELECT","TEXTAREA"],Z1=typeof document<"u"?document:null;function fl(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=typeof o?.hasAttribute=="function"?o.hasAttribute("contenteditable"):!1,s=typeof o?.closest=="function"?o.closest(".nokey"):null;return U1.includes(o?.nodeName)||r||!!s}function W1(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Vc(e,t,n,o){const r=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(i=>i.trim().toLowerCase());if(r.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const s=r.every((i,a)=>n.has(i)&&Array.from(n.values())[a]===r[a]);return o&&n.delete(e.toLowerCase()),s}function G1(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=Y1(n.code,e);return Array.isArray(e)?e.some(r=>Vc(n[o],r,t,n.type==="keyup")):Vc(n[o],e,t,n.type==="keyup")}}function Y1(e,t){return t.includes(e)?"code":"key"}function Nr(e,t){const n=Q(()=>Oe(t?.target)??Z1),o=Ro(Oe(e)===!0);let r=!1;const s=new Set;let i=l(Oe(e));Ce(()=>Oe(e),(u,c)=>{typeof c=="boolean"&&typeof u!="boolean"&&a(),i=l(u)},{immediate:!0}),Xh(["blur","contextmenu"],a),_c((...u)=>i(...u),u=>{var c,d;const f=Oe(t?.actInsideInputWithModifier)??!0,h=Oe(t?.preventDefault)??!1;if(r=W1(u),(!r||r&&!f)&&fl(u))return;const y=((d=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:d[0])||u.target,$=y?.nodeName==="BUTTON"||y?.nodeName==="A";!h&&(r||!$)&&u.preventDefault(),o.value=!0},{eventName:"keydown",target:n}),_c((...u)=>i(...u),u=>{const c=Oe(t?.actInsideInputWithModifier)??!0;if(o.value){if((!r||r&&!c)&&fl(u))return;r=!1,o.value=!1}},{eventName:"keyup",target:n});function a(){r=!1,s.clear(),o.value=Oe(e)===!0}function l(u){return u===null?(a(),()=>!1):typeof u=="boolean"?(a(),o.value=u,()=>!1):Array.isArray(u)||typeof u=="string"?G1(u,s):u}return o}const Sp="vue-flow__node-desc",Cp="vue-flow__edge-desc",q1="vue-flow__aria-live",Np=["Enter"," ","Escape"],Oo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function vi(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function yi(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Ki(e){return{width:e.offsetWidth,height:e.offsetHeight}}function go(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Ip(e,t){return{x:go(e.x,t[0][0],t[1][0]),y:go(e.y,t[0][1],t[1][1])}}function Hc(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Wn(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function uo(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Wn(e)}function fr(e){return uo(e)&&"computedPosition"in e}function ws(e){return!Number.isNaN(e)&&Number.isFinite(e)}function K1(e){return ws(e.width)&&ws(e.height)&&ws(e.x)&&ws(e.y)}function X1(e,t,n){const o={id:e.id.toString(),type:e.type??"default",dimensions:io({width:0,height:0}),computedPosition:io({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:ut(e.data)?e.data:{},events:io(ut(e.events)?e.events:{})};return Object.assign(t??o,e,{id:e.id.toString(),parentNode:n})}function Tp(e,t,n){var o,r;const s={id:e.id.toString(),type:e.type??t?.type??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(r=e.targetHandle)==null?void 0:r.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:ut(e.data)?e.data:{},events:io(ut(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??s,e,{id:e.id.toString()})}function Ap(e,t,n,o){const r=typeof e=="string"?e:e.id,s=new Set,i=o==="source"?"target":"source";for(const a of n)a[i]===r&&s.add(a[o]);return t.filter(a=>s.has(a.id))}function J1(...e){if(e.length===3){const[s,i,a]=e;return Ap(s,i,a,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(s=>Wn(s)&&s.source===o).map(s=>n.find(i=>uo(i)&&i.id===s.target))}function Q1(...e){if(e.length===3){const[s,i,a]=e;return Ap(s,i,a,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(s=>Wn(s)&&s.target===o).map(s=>n.find(i=>uo(i)&&i.id===s.source))}function Dp({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function ex(e,t){return t.some(n=>Wn(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Ur({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function Zr({x:e,y:t},{x:n,y:o,zoom:r},s=!1,i=[1,1]){const a={x:(e-n)/r,y:(t-o)/r};return s?Xi(a,i):a}function Pp(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function bi({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function Op({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function tx(e,t){return Op(Pp(bi(e),bi(t)))}function hu(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=Pp(t,bi({...o.computedPosition,...o.dimensions}))}return Op(t)}function Mp(e,t,n={x:0,y:0,zoom:1},o=!1,r=!1){const s={...Zr(t,n),width:t.width/n.zoom,height:t.height/n.zoom},i=[];for(const a of e){const{dimensions:l,selectable:u=!0,hidden:c=!1}=a,d=l.width??a.width??null,f=l.height??a.height??null;if(r&&!u||c)continue;const h=yi(s,vi(a)),p=d===null||f===null,y=o&&h>0,$=(d??0)*(f??0);(p||y||h>=$||a.dragging)&&i.push(a)}return i}function to(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function ko(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return us(`The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function nx(e,t,n){if(typeof e=="string"||typeof e=="number"){const o=ko(e,n),r=ko(e,t);return{top:o,right:r,bottom:o,left:r,x:r*2,y:o*2}}if(typeof e=="object"){const o=ko(e.top??e.y??0,n),r=ko(e.bottom??e.y??0,n),s=ko(e.left??e.x??0,t),i=ko(e.right??e.x??0,t);return{top:o,right:i,bottom:r,left:s,x:s+i,y:o+r}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function ox(e,t,n,o,r,s){const{x:i,y:a}=Ur(e,{x:t,y:n,zoom:o}),{x:l,y:u}=Ur({x:e.x+e.width,y:e.y+e.height},{x:t,y:n,zoom:o}),c=r-l,d=s-u;return{left:Math.floor(i),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(d)}}function Fc(e,t,n,o,r,s=.1){const i=nx(s,t,n),a=(t-i.x)/e.width,l=(n-i.y)/e.height,u=Math.min(a,l),c=go(u,o,r),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*c,p=n/2-f*c,y=ox(e,h,p,c,t,n),$={left:Math.min(y.left-i.left,0),top:Math.min(y.top-i.top,0),right:Math.min(y.right-i.right,0),bottom:Math.min(y.bottom-i.bottom,0)};return{x:h-$.left+$.right,y:p-$.top+$.bottom,zoom:c}}function rx(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function zp(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:zp(n,t):!1}function Wr(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function hl(e){const t=e.ctrlKey&&Gr()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function Lc(e,t,n){return e<t?go(Math.abs(e-t),1,t)/t:e>n?-go(Math.abs(e-n),1,t)/t:0}function Rp(e,t,n=15,o=40){const r=Lc(e.x,o,t.width-o)*n,s=Lc(e.y,o,t.height-o)*n;return[r,s]}function Na(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let r={};if(typeof t.style=="function"?r={...t.style(t)}:t.style&&(r={...t.style}),r.width=r.width??`${t.dimensions.width}px`,r.height=r.height??`${t.dimensions.height}px`,n>0)if(typeof r.width=="string"){const s=Number(r.width.replace("px",""));r.width=`${s+n}px`}else r.width+=n;if(o>0)if(typeof r.height=="string"){const s=Number(r.height.replace("px",""));r.height=`${s+o}px`}else r.height+=o;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,typeof r.width=="string"){const i=Number(r.width.replace("px",""));r.width=`${i+s}px`}else r.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,typeof r.height=="string"){const i=Number(r.height.replace("px",""));r.height=`${i+s}px`}else r.height+=s;e.position.y=0}t.dimensions.width=Number(r.width.toString().replace("px","")),t.dimensions.height=Number(r.height.toString().replace("px","")),typeof t.style=="function"?t.style=s=>{const i=t.style;return{...i(s),...r}}:t.style={...t.style,...r}}}}function Bc(e,t){var n,o;const r=e.filter(i=>i.type==="add"||i.type==="remove");for(const i of r)if(i.type==="add")t.findIndex(l=>l.id===i.item.id)===-1&&t.push(i.item);else if(i.type==="remove"){const a=t.findIndex(l=>l.id===i.id);a!==-1&&t.splice(a,1)}const s=t.map(i=>i.id);for(const i of t)for(const a of e)if(a.id===i.id)switch(a.type){case"select":i.selected=a.selected;break;case"position":if(fr(i)&&(typeof a.position<"u"&&(i.position=a.position),typeof a.dragging<"u"&&(i.dragging=a.dragging),i.expandParent&&i.parentNode)){const l=t[s.indexOf(i.parentNode)];l&&fr(l)&&Na(i,l)}break;case"dimensions":if(fr(i)&&(typeof a.dimensions<"u"&&(i.dimensions=a.dimensions),typeof a.updateStyle<"u"&&a.updateStyle&&(i.style={...i.style||{},width:`${(n=a.dimensions)==null?void 0:n.width}px`,height:`${(o=a.dimensions)==null?void 0:o.height}px`}),typeof a.resizing<"u"&&(i.resizing=a.resizing),i.expandParent&&i.parentNode)){const l=t[s.indexOf(i.parentNode)];l&&fr(l)&&(!!l.dimensions.width&&!!l.dimensions.height?Na(i,l):St(()=>{Na(i,l)}))}break}return t}function Dn(e,t){return{id:e,type:"select",selected:t}}function jc(e){return{item:e,type:"add"}}function Uc(e){return{id:e,type:"remove"}}function Zc(e,t,n,o,r){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:r||null,type:"remove"}}function zn(e,t=new Set,n=!1){const o=[];for(const[r,s]of e){const i=t.has(r);!(s.selected===void 0&&!i)&&s.selected!==i&&(n&&(s.selected=i),o.push(Dn(s.id,i)))}return o}const Wc=()=>{};function ve(e){const t=new Set;let n=Wc,o=()=>!1;const r=()=>t.size>0||o(),s=f=>{n=f},i=()=>{n=Wc},a=f=>{o=f},l=()=>{o=()=>!1},u=f=>{t.delete(f)};return{on:f=>{t.add(f);const h=()=>u(f);return Hr(h),{off:h}},off:u,trigger:f=>{const h=[n];return r()?h.push(...t):e&&h.push(e),Promise.allSettled(h.map(p=>p(f)))},hasListeners:r,listeners:t,setEmitter:s,removeEmitter:i,setHasEmitListeners:a,removeHasEmitListeners:l}}function Gc(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function sx(e,t,n,o){var r,s;const i=new Map;for(const[a,l]of e)(l.selected||l.id===o)&&(!l.parentNode||!zp(l,e))&&(l.draggable||t&&typeof l.draggable>"u")&&e.get(a)&&i.set(a,{id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((r=l.computedPosition)==null?void 0:r.x)||0,y:n.y-((s=l.computedPosition)==null?void 0:s.y)||0},from:{x:l.computedPosition.x,y:l.computedPosition.y},extent:l.extent,parentNode:l.parentNode,dimensions:{...l.dimensions},expandParent:l.expandParent});return Array.from(i.values())}function Ia({id:e,dragItems:t,findNode:n}){const o=[];for(const r of t){const s=n(r.id);s&&o.push(s)}return[e?o.find(r=>r.id===e):o[0],o]}function Vp(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function ix(e,t,n){const[o,r,s,i]=typeof e!="string"?Vp(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+i,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-s]]:!1}function ax(e,t,n,o){let r=e.extent||n;if((r==="parent"||!Array.isArray(r)&&r?.range==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const s=ix(r,e,o);s&&(r=s)}else t(new ft(ct.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){const s=o?.computedPosition.x||0,i=o?.computedPosition.y||0;r=[[r[0][0]+s,r[0][1]+i],[r[1][0]+s,r[1][1]+i]]}else if(r!=="parent"&&r?.range&&Array.isArray(r.range)){const[s,i,a,l]=Vp(r.padding),u=o?.computedPosition.x||0,c=o?.computedPosition.y||0;r=[[r.range[0][0]+u+l,r.range[0][1]+c+s],[r.range[1][0]+u-i,r.range[1][1]+c-a]]}return r==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function lx({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function pu(e,t,n,o,r){const s=lx(e.dimensions,ax(e,n,o,r)),i=Ip(t,s);return{position:{x:i.x-(r?.computedPosition.x||0),y:i.y-(r?.computedPosition.y||0)},computedPosition:i}}function Uo(e,t,n=_e.Left,o=!1){const r=(t?.x??0)+e.computedPosition.x,s=(t?.y??0)+e.computedPosition.y,{width:i,height:a}=t??fx(e);if(o)return{x:r+i/2,y:s+a/2};switch(t?.position??n){case _e.Top:return{x:r+i/2,y:s};case _e.Right:return{x:r+i,y:s+a/2};case _e.Bottom:return{x:r+i/2,y:s+a};case _e.Left:return{x:r,y:s+a/2}}}function Yc(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ux({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:s,width:i,height:a,viewport:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=bi({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:i/l.zoom,height:a/l.zoom}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function cx(e,t,n=!1){const o=typeof e.zIndex=="number";let r=o?e.zIndex:0;const s=t(e.source),i=t(e.target);return!s||!i?0:(n&&(r=o?e.zIndex:Math.max(s.computedPosition.z||0,i.computedPosition.z||0)),r)}var ct=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(ct||{});const qc={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class ft extends Error{constructor(t,...n){var o;super((o=qc[t])==null?void 0:o.call(qc,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function gu(e){return"clientX"in e}function dx(e){return"sourceEvent"in e}function tn(e,t){const n=gu(e);let o,r;return n?(o=e.clientX,r=e.clientY):"touches"in e&&e.touches.length>0?(o=e.touches[0].clientX,r=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(o=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):(o=0,r=0),{x:o-(t?.left??0),y:r-(t?.top??0)}}const Gr=()=>{var e;return typeof navigator<"u"&&((e=navigator?.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function fx(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Xi(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const hx=()=>!0;function Ta(e){e?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function px(e,t,n){const o=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())yi(r,vi(s))>0&&o.push(s);return o}const gx=250;function mx(e,t,n,o){var r,s;let i=[],a=Number.POSITIVE_INFINITY;const l=px(e,n,t+gx);for(const u of l){const c=[...((r=u.handleBounds)==null?void 0:r.source)??[],...((s=u.handleBounds)==null?void 0:s.target)??[]];for(const d of c){if(o.nodeId===d.nodeId&&o.type===d.type&&o.id===d.id)continue;const{x:f,y:h}=Uo(u,d,d.position,!0),p=Math.sqrt((f-e.x)**2+(h-e.y)**2);p>t||(p<a?(i=[{...d,x:f,y:h}],a=p):p===a&&i.push({...d,x:f,y:h}))}}if(!i.length)return null;if(i.length>1){const u=o.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function Kc(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:r,fromType:s,doc:i,lib:a,flowId:l,isValidConnection:u=hx},c,d,f,h){const p=s==="target",y=t?i.querySelector(`.${a}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:$,y:b}=tn(e),C=i.elementFromPoint($,b),w=C?.classList.contains(`${a}-flow__handle`)?C:y,D={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const q=Hp(void 0,w),Y=w.getAttribute("data-nodeid"),U=w.getAttribute("data-handleid"),R=w.classList.contains("connectable"),G=w.classList.contains("connectableend");if(!Y||!q)return D;const j={source:p?Y:o,sourceHandle:p?U:r,target:p?o:Y,targetHandle:p?r:U};D.connection=j;const A=R&&G&&(n===Zn.Strict?p&&q==="source"||!p&&q==="target":Y!==o||U!==r);D.isValid=A&&u(j,{nodes:d,edges:c,sourceNode:f(j.source),targetNode:f(j.target)}),D.toHandle=Fp(Y,q,U,h,n,!0)}return D}function Hp(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function vx(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function yx(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function Fp(e,t,n,o,r,s=!1){var i,a,l;const u=o.get(e);if(!u)return null;const c=r===Zn.Strict?(i=u.handleBounds)==null?void 0:i[t]:[...((a=u.handleBounds)==null?void 0:a.source)??[],...((l=u.handleBounds)==null?void 0:l.target)??[]],d=(n?c?.find(f=>f.id===n):c?.[0])??null;return d&&s?{...d,...Uo(u,d,d.position,!0)}:d}const pl={[_e.Left]:_e.Right,[_e.Right]:_e.Left,[_e.Top]:_e.Bottom,[_e.Bottom]:_e.Top},bx=["production","prod"];function us(e,...t){Lp()&&console.warn(`[Vue Flow]: ${e}`,...t)}function Lp(){return!bx.includes("production")}function Xc(e,t,n,o,r){const s=t.querySelectorAll(`.vue-flow__handle.${e}`);return s?.length?Array.from(s).map(i=>{const a=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:r,position:i.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o,...Ki(i)}}):null}function gl(e,t,n,o,r,s=!1,i){r.value=!1,e.selected?(s||e.selected&&t)&&(o([e]),St(()=>{i.blur()})):n([e])}function ut(e){return typeof ae(e)<"u"}function _x(e,t,n,o){if(!e||!e.source||!e.target)return n(new ft(ct.EDGE_INVALID,e?.id??"[ID UNKNOWN]")),!1;let r;return Wn(e)?r=e:r={...e,id:Dp(e)},r=Tp(r,void 0,o),ex(r,t)?!1:r}function xx(e,t,n,o,r){if(!t.source||!t.target)return r(new ft(ct.EDGE_INVALID,e.id)),!1;if(!n)return r(new ft(ct.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...i}=e;return{...i,id:o?Dp(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function Jc(e,t,n){const o={},r=[];for(let s=0;s<e.length;++s){const i=e[s];if(!uo(i)){n(new ft(ct.NODE_INVALID,i?.id)||`[ID UNKNOWN|INDEX ${s}]`);continue}const a=X1(i,t(i.id),i.parentNode);i.parentNode&&(o[i.parentNode]=!0),r[s]=a}for(const s of r){const i=t(s.parentNode)||r.find(a=>a.id===s.parentNode);s.parentNode&&!i&&n(new ft(ct.NODE_MISSING_PARENT,s.id,s.parentNode)),(s.parentNode||o[s.id])&&(o[s.id]&&(s.isParent=!0),i&&(i.isParent=!0))}return r}function Qc(e,t,n,o,r,s){let i=r;const a=o.get(i)||new Map;o.set(i,a.set(n,t)),i=`${r}-${e}`;const l=o.get(i)||new Map;if(o.set(i,l.set(n,t)),s){i=`${r}-${e}-${s}`;const u=o.get(i)||new Map;o.set(i,u.set(n,t))}}function Aa(e,t,n){e.clear();for(const o of n){const{source:r,target:s,sourceHandle:i=null,targetHandle:a=null}=o,l={edgeId:o.id,source:r,target:s,sourceHandle:i,targetHandle:a},u=`${r}-${i}--${s}-${a}`,c=`${s}-${a}--${r}-${i}`;Qc("source",l,c,e,r,i),Qc("target",l,u,e,s,a)}}function ed(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Da(e,t,n,o,r,s,i,a){const l=[];for(const u of e){const c=Wn(u)?u:_x(u,a,r,s);if(!c)continue;const d=n(c.source),f=n(c.target);if(!d||!f){r(new ft(ct.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!d){r(new ft(ct.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!f){r(new ft(ct.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:a,nodes:i,sourceNode:d,targetNode:f})){r(new ft(ct.EDGE_INVALID,c.id));continue}const h=o(c.id);l.push({...Tp(c,h,s),sourceNode:d,targetNode:f})}return l}const td=Symbol("vueFlow"),Bp=Symbol("nodeId"),jp=Symbol("nodeRef"),wx=Symbol("edgeId"),kx=Symbol("edgeRef"),Ji=Symbol("slots");function Up(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:r,nodeLookup:s,nodeExtent:i,nodeDragThreshold:a,viewport:l,autoPanOnNodeDrag:u,autoPanSpeed:c,nodesDraggable:d,panBy:f,findNode:h,multiSelectionActive:p,nodesSelectionActive:y,selectNodesOnDrag:$,removeSelectedElements:b,addSelectedNodes:C,updateNodePositions:w,emits:D}=Ge(),{onStart:q,onDrag:Y,onStop:U,onClick:R,el:G,disabled:j,id:V,selectable:A,dragHandle:B}=e,g=Ro(!1);let N=[],S,z=null,H={x:void 0,y:void 0},X={x:0,y:0},W=null,oe=!1,ce=!1,pe=0,ie=!1;const he=Sx(),fe=({x:T,y:O})=>{H={x:T,y:O};let _=!1;if(N=N.map(k=>{const I={x:T-k.distance.x,y:O-k.distance.y},{computedPosition:m}=pu(k,n.value?Xi(I,o.value):I,D.error,i.value,k.parentNode?h(k.parentNode):void 0);return _=_||k.position.x!==m.x||k.position.y!==m.y,k.position=m,k}),ce=ce||_,!!_&&(w(N,!0,!0),g.value=!0,W)){const[k,I]=Ia({id:V,dragItems:N,findNode:h});Y({event:W,node:k,nodes:I})}},Z=()=>{if(!z)return;const[T,O]=Rp(X,z,c.value);if(T!==0||O!==0){const _={x:(H.x??0)-T/l.value.zoom,y:(H.y??0)-O/l.value.zoom};f({x:T,y:O})&&fe(_)}pe=requestAnimationFrame(Z)},te=(T,O)=>{oe=!0;const _=h(V);!$.value&&!p.value&&_&&(_.selected||b()),_&&Oe(A)&&$.value&&gl(_,p.value,C,b,y,!1,O);const k=he(T.sourceEvent);if(H=k,N=sx(s.value,d.value,k,V),N.length){const[I,m]=Ia({id:V,dragItems:N,findNode:h});q({event:T.sourceEvent,node:I,nodes:m})}},ne=(T,O)=>{var _;T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1||(ce=!1,a.value===0&&te(T,O),H=he(T.sourceEvent),z=((_=t.value)==null?void 0:_.getBoundingClientRect())||null,X=tn(T.sourceEvent,z))},de=(T,O)=>{const _=he(T.sourceEvent);if(!ie&&oe&&u.value&&(ie=!0,Z()),!oe){const k=_.xSnapped-(H.x??0),I=_.ySnapped-(H.y??0);Math.sqrt(k*k+I*I)>a.value&&te(T,O)}(H.x!==_.xSnapped||H.y!==_.ySnapped)&&N.length&&oe&&(W=T.sourceEvent,X=tn(T.sourceEvent,z),fe(_))},ye=T=>{let O=!1;if(!oe&&!g.value&&!p.value){const _=T.sourceEvent,k=he(_),I=k.xSnapped-(H.x??0),m=k.ySnapped-(H.y??0),v=Math.sqrt(I*I+m*m);v!==0&&v<=a.value&&(R?.(_),O=!0)}if(N.length&&!O){ce&&(w(N,!1,!1),ce=!1);const[_,k]=Ia({id:V,dragItems:N,findNode:h});U({event:T.sourceEvent,node:_,nodes:k})}N=[],g.value=!1,ie=!1,oe=!1,H={x:void 0,y:void 0},cancelAnimationFrame(pe)};return Ce([()=>Oe(j),G],([T,O],_,k)=>{if(O){const I=Rt(O);T||(S=Kb().on("start",m=>ne(m,O)).on("drag",m=>de(m,O)).on("end",m=>ye(m)).filter(m=>{const v=m.target,P=Oe(B);return!m.button&&(!r.value||!Gc(v,`.${r.value}`,O)&&(!P||Gc(v,P,O)))}),I.call(S)),k(()=>{I.on(".drag",null),S&&(S.on("start",null),S.on("drag",null),S.on("end",null))})}}),g}function $x(){return{doubleClick:ve(),click:ve(),mouseEnter:ve(),mouseMove:ve(),mouseLeave:ve(),contextMenu:ve(),updateStart:ve(),update:ve(),updateEnd:ve()}}function Ex(e,t){const n=$x();return n.doubleClick.on(o=>{var r,s;t.edgeDoubleClick(o),(s=(r=e.events)==null?void 0:r.doubleClick)==null||s.call(r,o)}),n.click.on(o=>{var r,s;t.edgeClick(o),(s=(r=e.events)==null?void 0:r.click)==null||s.call(r,o)}),n.mouseEnter.on(o=>{var r,s;t.edgeMouseEnter(o),(s=(r=e.events)==null?void 0:r.mouseEnter)==null||s.call(r,o)}),n.mouseMove.on(o=>{var r,s;t.edgeMouseMove(o),(s=(r=e.events)==null?void 0:r.mouseMove)==null||s.call(r,o)}),n.mouseLeave.on(o=>{var r,s;t.edgeMouseLeave(o),(s=(r=e.events)==null?void 0:r.mouseLeave)==null||s.call(r,o)}),n.contextMenu.on(o=>{var r,s;t.edgeContextMenu(o),(s=(r=e.events)==null?void 0:r.contextMenu)==null||s.call(r,o)}),n.updateStart.on(o=>{var r,s;t.edgeUpdateStart(o),(s=(r=e.events)==null?void 0:r.updateStart)==null||s.call(r,o)}),n.update.on(o=>{var r,s;t.edgeUpdate(o),(s=(r=e.events)==null?void 0:r.update)==null||s.call(r,o)}),n.updateEnd.on(o=>{var r,s;t.edgeUpdateEnd(o),(s=(r=e.events)==null?void 0:r.updateEnd)==null||s.call(r,o)}),Object.entries(n).reduce((o,[r,s])=>(o.emit[r]=s.trigger,o.on[r]=s.on,o),{emit:{},on:{}})}function Sx(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:o}=Ge();return r=>{var s;const i=((s=o.value)==null?void 0:s.getBoundingClientRect())??{left:0,top:0},a=dx(r)?r.sourceEvent:r,{x:l,y:u}=tn(a,i),c=Zr({x:l,y:u},e.value),{x:d,y:f}=n.value?Xi(c,t.value):c;return{xSnapped:d,ySnapped:f,...c}}}function ks(){return!0}function Zp({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:r,onEdgeUpdate:s,onEdgeUpdateEnd:i}){const{id:a,vueFlowRef:l,connectionMode:u,connectionRadius:c,connectOnClick:d,connectionClickStartHandle:f,nodesConnectable:h,autoPanOnConnect:p,autoPanSpeed:y,findNode:$,panBy:b,startConnection:C,updateConnection:w,endConnection:D,emits:q,viewport:Y,edges:U,nodes:R,isValidConnection:G,nodeLookup:j}=Ge();let V=null,A=!1,B=null;function g(S){var z;const H=Oe(n)==="target",X=gu(S),W=Hc(S.target),oe=S.currentTarget;if(oe&&(X&&S.button===0||!X)){let ce=function(K){_=tn(K,ye),fe=mx(Zr(_,Y.value,!1,[1,1]),c.value,j.value,m),k||(I(),k=!0);const J=Kc(K,{handle:fe,connectionMode:u.value,fromNodeId:Oe(t),fromHandleId:Oe(e),fromType:H?"target":"source",isValidConnection:he,doc:W,lib:"vue",flowId:a,nodeLookup:j.value},U.value,R.value,$,j.value);B=J.handleDomNode,V=J.connection,A=yx(!!fe,J.isValid);const se={...F,isValid:A,to:J.toHandle&&A?Ur({x:J.toHandle.x,y:J.toHandle.y},Y.value):_,toHandle:J.toHandle,toPosition:A&&J.toHandle?J.toHandle.position:pl[m.position],toNode:J.toHandle?j.value.get(J.toHandle.nodeId):null};if(A&&fe&&F?.toHandle&&se.toHandle&&F.toHandle.type===se.toHandle.type&&F.toHandle.nodeId===se.toHandle.nodeId&&F.toHandle.id===se.toHandle.id&&F.to.x===se.to.x&&F.to.y===se.to.y)return;const le=fe??J.toHandle;if(w(le&&A?Ur({x:le.x,y:le.y},Y.value):_,J.toHandle,vx(!!le,A)),F=se,!fe&&!A&&!B)return Ta(O);V&&V.source!==V.target&&B&&(Ta(O),O=B,B.classList.add("connecting","vue-flow__handle-connecting"),B.classList.toggle("valid",!!A),B.classList.toggle("vue-flow__handle-valid",!!A))},pe=function(K){"touches"in K&&K.touches.length>0||((fe||B)&&V&&A&&(s?s(K,V):q.connect(V)),q.connectEnd(K),r&&i?.(K),Ta(O),cancelAnimationFrame(Z),D(K),k=!1,A=!1,V=null,B=null,W.removeEventListener("mousemove",ce),W.removeEventListener("mouseup",pe),W.removeEventListener("touchmove",ce),W.removeEventListener("touchend",pe))};const ie=$(Oe(t));let he=Oe(o)||G.value||ks;!he&&ie&&(he=(H?ie.isValidSourcePos:ie.isValidTargetPos)||ks);let fe,Z=0;const{x:te,y:ne}=tn(S),de=Hp(Oe(r),oe),ye=(z=l.value)==null?void 0:z.getBoundingClientRect();if(!ye||!de)return;const T=Fp(Oe(t),de,Oe(e),j.value,u.value);if(!T)return;let O,_=tn(S,ye),k=!1;const I=()=>{if(!p.value)return;const[K,J]=Rp(_,ye,y.value);b({x:K,y:J}),Z=requestAnimationFrame(I)},m={...T,nodeId:Oe(t),type:de,position:T.position},v=j.value.get(Oe(t)),E={inProgress:!0,isValid:null,from:Uo(v,m,_e.Left,!0),fromHandle:m,fromPosition:m.position,fromNode:v,to:_,toHandle:null,toPosition:pl[m.position],toNode:null};C({nodeId:Oe(t),id:Oe(e),type:de,position:oe?.getAttribute("data-handlepos")||_e.Top,..._},{x:te-ye.left,y:ne-ye.top}),q.connectStart({event:S,nodeId:Oe(t),handleId:Oe(e),handleType:de});let F=E;W.addEventListener("mousemove",ce),W.addEventListener("mouseup",pe),W.addEventListener("touchmove",ce),W.addEventListener("touchend",pe)}}function N(S){var z,H;if(!d.value)return;const X=Oe(n)==="target";if(!f.value){q.clickConnectStart({event:S,nodeId:Oe(t),handleId:Oe(e)}),C({nodeId:Oe(t),type:Oe(n),id:Oe(e),position:_e.Top,...tn(S)},void 0,!0);return}let W=Oe(o)||G.value||ks;const oe=$(Oe(t));if(!W&&oe&&(W=(X?oe.isValidSourcePos:oe.isValidTargetPos)||ks),oe&&(typeof oe.connectable>"u"?h.value:oe.connectable)===!1)return;const ce=Hc(S.target),pe=Kc(S,{handle:{nodeId:Oe(t),id:Oe(e),type:Oe(n),position:_e.Top,...tn(S)},connectionMode:u.value,fromNodeId:f.value.nodeId,fromHandleId:f.value.id??null,fromType:f.value.type,isValidConnection:W,doc:ce,lib:"vue",flowId:a,nodeLookup:j.value},U.value,R.value,$,j.value),ie=((z=pe.connection)==null?void 0:z.source)===((H=pe.connection)==null?void 0:H.target);pe.isValid&&pe.connection&&!ie&&q.connect(pe.connection),q.clickConnectEnd(S),D(S,!0)}return{handlePointerDown:g,handleClick:N}}function Cx(){return ht(Bp,"")}function Wp(e){const t=e??Cx()??"",n=ht(jp,ue(null)),{findNode:o,edges:r,emits:s}=Ge(),i=o(t);return i||s.error(new ft(ct.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:i,parentNode:Q(()=>o(i.parentNode)),connectedEdges:Q(()=>to([i],r.value))}}function Nx(){return{doubleClick:ve(),click:ve(),mouseEnter:ve(),mouseMove:ve(),mouseLeave:ve(),contextMenu:ve(),dragStart:ve(),drag:ve(),dragStop:ve()}}function Ix(e,t){const n=Nx();return n.doubleClick.on(o=>{var r,s;t.nodeDoubleClick(o),(s=(r=e.events)==null?void 0:r.doubleClick)==null||s.call(r,o)}),n.click.on(o=>{var r,s;t.nodeClick(o),(s=(r=e.events)==null?void 0:r.click)==null||s.call(r,o)}),n.mouseEnter.on(o=>{var r,s;t.nodeMouseEnter(o),(s=(r=e.events)==null?void 0:r.mouseEnter)==null||s.call(r,o)}),n.mouseMove.on(o=>{var r,s;t.nodeMouseMove(o),(s=(r=e.events)==null?void 0:r.mouseMove)==null||s.call(r,o)}),n.mouseLeave.on(o=>{var r,s;t.nodeMouseLeave(o),(s=(r=e.events)==null?void 0:r.mouseLeave)==null||s.call(r,o)}),n.contextMenu.on(o=>{var r,s;t.nodeContextMenu(o),(s=(r=e.events)==null?void 0:r.contextMenu)==null||s.call(r,o)}),n.dragStart.on(o=>{var r,s;t.nodeDragStart(o),(s=(r=e.events)==null?void 0:r.dragStart)==null||s.call(r,o)}),n.drag.on(o=>{var r,s;t.nodeDrag(o),(s=(r=e.events)==null?void 0:r.drag)==null||s.call(r,o)}),n.dragStop.on(o=>{var r,s;t.nodeDragStop(o),(s=(r=e.events)==null?void 0:r.dragStop)==null||s.call(r,o)}),Object.entries(n).reduce((o,[r,s])=>(o.emit[r]=s.trigger,o.on[r]=s.on,o),{emit:{},on:{}})}function Gp(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:s,nodesDraggable:i,emits:a}=Ge();return(l,u=!1)=>{const c=s.value?r.value[0]:5,d=s.value?r.value[1]:5,f=u?4:1,h=l.x*c*f,p=l.y*d*f,y=[];for(const $ of e.value)if($.draggable||i&&typeof $.draggable>"u"){const b={x:$.computedPosition.x+h,y:$.computedPosition.y+p},{computedPosition:C}=pu($,b,a.error,t.value,$.parentNode?o($.parentNode):void 0);y.push({id:$.id,position:C,from:$.position,distance:{x:l.x,y:l.y},dimensions:$.dimensions})}n(y,!0,!1)}}const $s=.1,Tx=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function In(){return us("Viewport not initialized yet."),Promise.resolve(!1)}const Ax={zoomIn:In,zoomOut:In,zoomTo:In,fitView:In,setCenter:In,fitBounds:In,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:In,setTransform:In,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function Dx(e){function t(o,r){return new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(r?.interpolate==="linear"?Sr:Ls).scaleBy(Pa(e.d3Selection,r?.duration,r?.ease,()=>{s(!0)}),o):s(!1)})}function n(o,r,s,i){return new Promise(a=>{var l;const{x:u,y:c}=Ip({x:-o,y:-r},e.translateExtent),d=jo.translate(-u,-c).scale(s);e.d3Selection&&e.d3Zoom?(l=e.d3Zoom)==null||l.interpolate(i?.interpolate==="linear"?Sr:Ls).transform(Pa(e.d3Selection,i?.duration,i?.ease,()=>{a(!0)}),d):a(!1)})}return Q(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:r=>t(1.2,r),zoomOut:r=>t(1/1.2,r),zoomTo:(r,s)=>new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(s?.interpolate==="linear"?Sr:Ls).scaleTo(Pa(e.d3Selection,s?.duration,s?.ease,()=>{i(!0)}),r):i(!1)}),setViewport:(r,s)=>n(r.x,r.y,r.zoom,s),setTransform:(r,s)=>n(r.x,r.y,r.zoom,s),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(r={padding:$s,includeHiddenNodes:!1,duration:0})=>{var s,i;const a=[];for(const f of e.nodes)f.dimensions.width&&f.dimensions.height&&(r?.includeHiddenNodes||!f.hidden)&&(!((s=r.nodes)!=null&&s.length)||(i=r.nodes)!=null&&i.length&&r.nodes.includes(f.id))&&a.push(f);if(!a.length)return Promise.resolve(!1);const l=hu(a),{x:u,y:c,zoom:d}=Fc(l,e.dimensions.width,e.dimensions.height,r.minZoom??e.minZoom,r.maxZoom??e.maxZoom,r.padding??$s);return n(u,c,d,r)},setCenter:(r,s,i)=>{const a=typeof i?.zoom<"u"?i.zoom:e.maxZoom,l=e.dimensions.width/2-r*a,u=e.dimensions.height/2-s*a;return n(l,u,a,i)},fitBounds:(r,s={padding:$s})=>{const{x:i,y:a,zoom:l}=Fc(r,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,s.padding??$s);return n(i,a,l,s)},project:r=>Zr(r,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:r=>{if(e.vueFlowRef){const{x:s,y:i}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x-s,y:r.y-i};return Zr(a,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:r=>{if(e.vueFlowRef){const{x:s,y:i}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x+s,y:r.y+i};return Ur(a,e.viewport)}return{x:0,y:0}}}:Ax)}function Pa(e,t=0,n=Tx,o=()=>{}){const r=typeof t=="number"&&t>0;return r||o(),r?e.transition().duration(t).ease(n).on("end",o):e}function Px(e,t,n){const o=zi(!0);return o.run(()=>{const r=()=>{o.run(()=>{let y,$,b=!!(n.nodes.value.length||n.edges.value.length);y=wo([e.modelValue,()=>{var C,w;return(w=(C=e.modelValue)==null?void 0:C.value)==null?void 0:w.length}],([C])=>{C&&Array.isArray(C)&&($?.pause(),n.setElements(C),!$&&!b&&C.length?b=!0:$?.resume())}),$=wo([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([C,w])=>{var D;(D=e.modelValue)!=null&&D.value&&Array.isArray(e.modelValue.value)&&(y?.pause(),e.modelValue.value=[...C,...w],St(()=>{y?.resume()}))},{immediate:b}),yr(()=>{y?.stop(),$?.stop()})})},s=()=>{o.run(()=>{let y,$,b=!!n.nodes.value.length;y=wo([e.nodes,()=>{var C,w;return(w=(C=e.nodes)==null?void 0:C.value)==null?void 0:w.length}],([C])=>{C&&Array.isArray(C)&&($?.pause(),n.setNodes(C),!$&&!b&&C.length?b=!0:$?.resume())}),$=wo([n.nodes,()=>n.nodes.value.length],([C])=>{var w;(w=e.nodes)!=null&&w.value&&Array.isArray(e.nodes.value)&&(y?.pause(),e.nodes.value=[...C],St(()=>{y?.resume()}))},{immediate:b}),yr(()=>{y?.stop(),$?.stop()})})},i=()=>{o.run(()=>{let y,$,b=!!n.edges.value.length;y=wo([e.edges,()=>{var C,w;return(w=(C=e.edges)==null?void 0:C.value)==null?void 0:w.length}],([C])=>{C&&Array.isArray(C)&&($?.pause(),n.setEdges(C),!$&&!b&&C.length?b=!0:$?.resume())}),$=wo([n.edges,()=>n.edges.value.length],([C])=>{var w;(w=e.edges)!=null&&w.value&&Array.isArray(e.edges.value)&&(y?.pause(),e.edges.value=[...C],St(()=>{y?.resume()}))},{immediate:b}),yr(()=>{y?.stop(),$?.stop()})})},a=()=>{o.run(()=>{Ce(()=>t.maxZoom,()=>{t.maxZoom&&ut(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},l=()=>{o.run(()=>{Ce(()=>t.minZoom,()=>{t.minZoom&&ut(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},u=()=>{o.run(()=>{Ce(()=>t.translateExtent,()=>{t.translateExtent&&ut(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{o.run(()=>{Ce(()=>t.nodeExtent,()=>{t.nodeExtent&&ut(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{o.run(()=>{Ce(()=>t.applyDefault,()=>{ut(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{o.run(()=>{const y=async $=>{let b=$;typeof t.autoConnect=="function"&&(b=await t.autoConnect($)),b!==!1&&n.addEdges([b])};Ce(()=>t.autoConnect,()=>{ut(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Ce(n.autoConnect,($,b,C)=>{$?n.onConnect(y):n.hooks.value.connect.off(y),C(()=>{n.hooks.value.connect.off(y)})},{immediate:!0})})},h=()=>{const y=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const $ of Object.keys(t)){const b=$;if(!y.includes(b)){const C=Le(()=>t[b]),w=n[b];et(w)&&o.run(()=>{Ce(C,D=>{ut(D)&&(w.value=D)},{immediate:!0})})}}};(()=>{r(),s(),i(),l(),a(),u(),c(),d(),f(),h()})()}),()=>o.stop()}function Ox(){return{edgesChange:ve(),nodesChange:ve(),nodeDoubleClick:ve(),nodeClick:ve(),nodeMouseEnter:ve(),nodeMouseMove:ve(),nodeMouseLeave:ve(),nodeContextMenu:ve(),nodeDragStart:ve(),nodeDrag:ve(),nodeDragStop:ve(),nodesInitialized:ve(),miniMapNodeClick:ve(),miniMapNodeDoubleClick:ve(),miniMapNodeMouseEnter:ve(),miniMapNodeMouseMove:ve(),miniMapNodeMouseLeave:ve(),connect:ve(),connectStart:ve(),connectEnd:ve(),clickConnectStart:ve(),clickConnectEnd:ve(),paneReady:ve(),init:ve(),move:ve(),moveStart:ve(),moveEnd:ve(),selectionDragStart:ve(),selectionDrag:ve(),selectionDragStop:ve(),selectionContextMenu:ve(),selectionStart:ve(),selectionEnd:ve(),viewportChangeStart:ve(),viewportChange:ve(),viewportChangeEnd:ve(),paneScroll:ve(),paneClick:ve(),paneContextMenu:ve(),paneMouseEnter:ve(),paneMouseMove:ve(),paneMouseLeave:ve(),edgeContextMenu:ve(),edgeMouseEnter:ve(),edgeMouseMove:ve(),edgeMouseLeave:ve(),edgeDoubleClick:ve(),edgeClick:ve(),edgeUpdateStart:ve(),edgeUpdate:ve(),edgeUpdateEnd:ve(),updateNodeInternals:ve(),error:ve(e=>us(e.message))}}function Mx(e,t){const n=Nn();hh(()=>{for(const[r,s]of Object.entries(t.value)){const i=a=>{e(r,a)};s.setEmitter(i),Hr(s.removeEmitter),s.setHasEmitListeners(()=>o(r)),Hr(s.removeHasEmitListeners)}});function o(r){var s;const i=zx(r);return!!((s=n?.vnode.props)==null?void 0:s[i])}}function zx(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(r,s)=>s.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function Yp(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:fu.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Cr.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:eo.Bezier,style:{}},connectionMode:Zn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Gr()?"Meta":"Control",zoomActivationKeyCode:Gr()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Ox(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const Rx=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function Vx(e,t,n){const o=Dx(e),r=_=>{const k=_??[];e.hooks.updateNodeInternals.trigger(k)},s=_=>Q1(_,e.nodes,e.edges),i=_=>J1(_,e.nodes,e.edges),a=_=>to(_,e.edges),l=({id:_,type:k,nodeId:I})=>{var m;const v=_?`-${k}-${_}`:`-${k}`;return Array.from(((m=e.connectionLookup.get(`${I}${v}`))==null?void 0:m.values())??[])},u=_=>{if(_)return t.value.get(_)},c=_=>{if(_)return n.value.get(_)},d=(_,k,I)=>{var m,v;const P=[];for(const E of _){const F={id:E.id,type:"position",dragging:I,from:E.from};if(k&&(F.position=E.position,E.parentNode)){const K=u(E.parentNode);F.position={x:F.position.x-(((m=K?.computedPosition)==null?void 0:m.x)??0),y:F.position.y-(((v=K?.computedPosition)==null?void 0:v.y)??0)}}P.push(F)}P?.length&&e.hooks.nodesChange.trigger(P)},f=_=>{if(!e.vueFlowRef)return;const k=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!k)return;const I=window.getComputedStyle(k),{m22:m}=new window.DOMMatrixReadOnly(I.transform),v=[];for(const P of _){const E=P,F=u(E.id);if(F){const K=Ki(E.nodeElement);if(!!(K.width&&K.height&&(F.dimensions.width!==K.width||F.dimensions.height!==K.height||E.forceUpdate))){const se=E.nodeElement.getBoundingClientRect();F.dimensions=K,F.handleBounds.source=Xc("source",E.nodeElement,se,m,F.id),F.handleBounds.target=Xc("target",E.nodeElement,se,m,F.id),v.push({id:F.id,type:"dimensions",dimensions:K})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),v.length&&e.hooks.nodesChange.trigger(v)},h=(_,k)=>{const I=new Set,m=new Set;for(const E of _)uo(E)?I.add(E.id):Wn(E)&&m.add(E.id);const v=zn(t.value,I,!0),P=zn(n.value,m);if(e.multiSelectionActive){for(const E of I)v.push(Dn(E,k));for(const E of m)P.push(Dn(E,k))}v.length&&e.hooks.nodesChange.trigger(v),P.length&&e.hooks.edgesChange.trigger(P)},p=_=>{if(e.multiSelectionActive){const k=_.map(I=>Dn(I.id,!0));e.hooks.nodesChange.trigger(k);return}e.hooks.nodesChange.trigger(zn(t.value,new Set(_.map(k=>k.id)),!0)),e.hooks.edgesChange.trigger(zn(n.value))},y=_=>{if(e.multiSelectionActive){const k=_.map(I=>Dn(I.id,!0));e.hooks.edgesChange.trigger(k);return}e.hooks.edgesChange.trigger(zn(n.value,new Set(_.map(k=>k.id)))),e.hooks.nodesChange.trigger(zn(t.value,new Set,!0))},$=_=>{h(_,!0)},b=_=>{const I=(_||e.nodes).map(m=>(m.selected=!1,Dn(m.id,!1)));e.hooks.nodesChange.trigger(I)},C=_=>{const I=(_||e.edges).map(m=>(m.selected=!1,Dn(m.id,!1)));e.hooks.edgesChange.trigger(I)},w=_=>{if(!_||!_.length)return h([],!1);const k=_.reduce((I,m)=>{const v=Dn(m.id,!1);return uo(m)?I.nodes.push(v):I.edges.push(v),I},{nodes:[],edges:[]});k.nodes.length&&e.hooks.nodesChange.trigger(k.nodes),k.edges.length&&e.hooks.edgesChange.trigger(k.edges)},D=_=>{var k;(k=e.d3Zoom)==null||k.scaleExtent([_,e.maxZoom]),e.minZoom=_},q=_=>{var k;(k=e.d3Zoom)==null||k.scaleExtent([e.minZoom,_]),e.maxZoom=_},Y=_=>{var k;(k=e.d3Zoom)==null||k.translateExtent(_),e.translateExtent=_},U=_=>{e.nodeExtent=_,r()},R=_=>{var k;(k=e.d3Zoom)==null||k.clickDistance(_)},G=_=>{e.nodesDraggable=_,e.nodesConnectable=_,e.elementsSelectable=_},j=_=>{const k=_ instanceof Function?_(e.nodes):_;!e.initialized&&!k.length||(e.nodes=Jc(k,u,e.hooks.error.trigger))},V=_=>{const k=_ instanceof Function?_(e.edges):_;if(!e.initialized&&!k.length)return;const I=Da(k,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Aa(e.connectionLookup,n.value,I),e.edges=I},A=_=>{const k=_ instanceof Function?_([...e.nodes,...e.edges]):_;!e.initialized&&!k.length||(j(k.filter(uo)),V(k.filter(Wn)))},B=_=>{let k=_ instanceof Function?_(e.nodes):_;k=Array.isArray(k)?k:[k];const I=Jc(k,u,e.hooks.error.trigger),m=[];for(const v of I)m.push(jc(v));m.length&&e.hooks.nodesChange.trigger(m)},g=_=>{let k=_ instanceof Function?_(e.edges):_;k=Array.isArray(k)?k:[k];const I=Da(k,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),m=[];for(const v of I)m.push(jc(v));m.length&&e.hooks.edgesChange.trigger(m)},N=(_,k=!0,I=!1)=>{const m=_ instanceof Function?_(e.nodes):_,v=Array.isArray(m)?m:[m],P=[],E=[];function F(J){const se=a(J);for(const le of se)(!ut(le.deletable)||le.deletable)&&E.push(Zc(le.id,le.source,le.target,le.sourceHandle,le.targetHandle))}function K(J){const se=[];for(const le of e.nodes)le.parentNode===J&&se.push(le);if(se.length){for(const le of se)P.push(Uc(le.id));k&&F(se);for(const le of se)K(le.id)}}for(const J of v){const se=typeof J=="string"?u(J):J;se&&(ut(se.deletable)&&!se.deletable||(P.push(Uc(se.id)),k&&F([se]),I&&K(se.id)))}E.length&&e.hooks.edgesChange.trigger(E),P.length&&e.hooks.nodesChange.trigger(P)},S=_=>{const k=_ instanceof Function?_(e.edges):_,I=Array.isArray(k)?k:[k],m=[];for(const v of I){const P=typeof v=="string"?c(v):v;P&&(ut(P.deletable)&&!P.deletable||m.push(Zc(typeof v=="string"?v:v.id,P.source,P.target,P.sourceHandle,P.targetHandle)))}e.hooks.edgesChange.trigger(m)},z=(_,k,I=!0)=>{const m=c(_.id);if(!m)return!1;const v=e.edges.indexOf(m),P=xx(_,k,m,I,e.hooks.error.trigger);if(P){const[E]=Da([P],e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((F,K)=>K===v?E:F),Aa(e.connectionLookup,n.value,[E]),E}return!1},H=(_,k,I={replace:!1})=>{const m=c(_);if(!m)return;const v=typeof k=="function"?k(m):k;m.data=I.replace?v:{...m.data,...v}},X=_=>Bc(_,e.nodes),W=_=>{const k=Bc(_,e.edges);return Aa(e.connectionLookup,n.value,k),k},oe=(_,k,I={replace:!1})=>{const m=u(_);if(!m)return;const v=typeof k=="function"?k(m):k;I.replace?e.nodes.splice(e.nodes.indexOf(m),1,v):Object.assign(m,v)},ce=(_,k,I={replace:!1})=>{const m=u(_);if(!m)return;const v=typeof k=="function"?k(m):k;m.data=I.replace?v:{...m.data,...v}},pe=(_,k,I=!1)=>{I?e.connectionClickStartHandle=_:e.connectionStartHandle=_,e.connectionEndHandle=null,e.connectionStatus=null,k&&(e.connectionPosition=k)},ie=(_,k=null,I=null)=>{e.connectionStartHandle&&(e.connectionPosition=_,e.connectionEndHandle=k,e.connectionStatus=I)},he=(_,k)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,k?e.connectionClickStartHandle=null:e.connectionStartHandle=null},fe=_=>{const k=K1(_),I=k?null:fr(_)?_:u(_.id);return!k&&!I?[null,null,k]:[k?_:vi(I),I,k]},Z=(_,k=!0,I=e.nodes)=>{const[m,v,P]=fe(_);if(!m)return[];const E=[];for(const F of I||e.nodes){if(!P&&(F.id===v.id||!F.computedPosition))continue;const K=vi(F),J=yi(K,m);(k&&J>0||J>=K.width*K.height||J>=Number(m.width)*Number(m.height))&&E.push(F)}return E},te=(_,k,I=!0)=>{const[m]=fe(_);if(!m)return!1;const v=yi(m,k);return I&&v>0||v>=Number(m.width)*Number(m.height)},ne=_=>{const{viewport:k,dimensions:I,d3Zoom:m,d3Selection:v,translateExtent:P}=e;if(!m||!v||!_.x&&!_.y)return!1;const E=jo.translate(k.x+_.x,k.y+_.y).scale(k.zoom),F=[[0,0],[I.width,I.height]],K=m.constrain()(E,F,P),J=e.viewport.x!==K.x||e.viewport.y!==K.y||e.viewport.zoom!==K.k;return m.transform(v,K),J},de=_=>{const k=_ instanceof Function?_(e):_,I=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];ut(k.defaultEdgeOptions)&&(e.defaultEdgeOptions=k.defaultEdgeOptions);const m=k.modelValue||k.nodes||k.edges?[]:void 0;m&&(k.modelValue&&m.push(...k.modelValue),k.nodes&&m.push(...k.nodes),k.edges&&m.push(...k.edges),A(m));const v=()=>{ut(k.maxZoom)&&q(k.maxZoom),ut(k.minZoom)&&D(k.minZoom),ut(k.translateExtent)&&Y(k.translateExtent)};for(const P of Object.keys(k)){const E=P,F=k[E];![...Rx,...I].includes(E)&&ut(F)&&(e[E]=F)}nl(()=>e.d3Zoom).not.toBeNull().then(v),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:f,setElements:A,setNodes:j,setEdges:V,addNodes:B,addEdges:g,removeNodes:N,removeEdges:S,findNode:u,findEdge:c,updateEdge:z,updateEdgeData:H,updateNode:oe,updateNodeData:ce,applyEdgeChanges:W,applyNodeChanges:X,addSelectedElements:$,addSelectedNodes:p,addSelectedEdges:y,setMinZoom:D,setMaxZoom:q,setTranslateExtent:Y,setNodeExtent:U,setPaneClickDistance:R,removeSelectedElements:w,removeSelectedNodes:b,removeSelectedEdges:C,startConnection:pe,updateConnection:ie,endConnection:he,setInteractive:G,setState:de,getIntersectingNodes:Z,getIncomers:s,getOutgoers:i,getConnectedEdges:a,getHandleConnections:l,isNodeIntersecting:te,panBy:ne,fitView:_=>o.value.fitView(_),zoomIn:_=>o.value.zoomIn(_),zoomOut:_=>o.value.zoomOut(_),zoomTo:(_,k)=>o.value.zoomTo(_,k),setViewport:(_,k)=>o.value.setViewport(_,k),setTransform:(_,k)=>o.value.setTransform(_,k),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(_,k,I)=>o.value.setCenter(_,k,I),fitBounds:(_,k)=>o.value.fitBounds(_,k),project:_=>o.value.project(_),screenToFlowCoordinate:_=>o.value.screenToFlowCoordinate(_),flowToScreenCoordinate:_=>o.value.flowToScreenCoordinate(_),toObject:()=>{const _=[],k=[];for(const I of e.nodes){const{computedPosition:m,handleBounds:v,selected:P,dimensions:E,isParent:F,resizing:K,dragging:J,events:se,...le}=I;_.push(le)}for(const I of e.edges){const{selected:m,sourceNode:v,targetNode:P,events:E,...F}=I;k.push(F)}return JSON.parse(JSON.stringify({nodes:_,edges:k,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:_=>new Promise(k=>{const{nodes:I,edges:m,position:v,zoom:P,viewport:E}=_;if(I&&j(I),m&&V(m),E?.x&&E?.y||v){const F=E?.x||v[0],K=E?.y||v[1],J=E?.zoom||P||e.viewport.zoom;return nl(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:F,y:K,zoom:J}).then(()=>{k(!0)})})}else k(!0)}),updateNodeInternals:r,viewportHelper:o,$reset:()=>{const _=Yp();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const k=jo.translate(_.defaultViewport.x??0,_.defaultViewport.y??0).scale(go(_.defaultViewport.zoom??1,_.minZoom,_.maxZoom)),I=e.viewportRef.getBoundingClientRect(),m=[[0,0],[I.width,I.height]],v=e.d3Zoom.constrain()(k,m,_.translateExtent);e.d3Zoom.transform(e.d3Selection,v)}de(_)},$destroy:()=>{}}}const Hx=["data-id","data-handleid","data-nodeid","data-handlepos"],Fx={name:"Handle",compatConfig:{MODE:3}},Gn=Be({...Fx,props:{id:{default:null},type:{},position:{default:()=>_e.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=N0(e,["position","connectable","connectableStart","connectableEnd","id"]),o=Le(()=>n.type??"source"),r=Le(()=>n.isValidConnection??null),{id:s,connectionStartHandle:i,connectionClickStartHandle:a,connectionEndHandle:l,vueFlowRef:u,nodesConnectable:c,noDragClassName:d,noPanClassName:f}=Ge(),{id:h,node:p,nodeEl:y,connectedEdges:$}=Wp(),b=ue(),C=Le(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),w=Le(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),D=Le(()=>{var V,A,B,g,N,S;return((V=i.value)==null?void 0:V.nodeId)===h&&((A=i.value)==null?void 0:A.id)===e.id&&((B=i.value)==null?void 0:B.type)===o.value||((g=l.value)==null?void 0:g.nodeId)===h&&((N=l.value)==null?void 0:N.id)===e.id&&((S=l.value)==null?void 0:S.type)===o.value}),q=Le(()=>{var V,A,B;return((V=a.value)==null?void 0:V.nodeId)===h&&((A=a.value)==null?void 0:A.id)===e.id&&((B=a.value)==null?void 0:B.type)===o.value}),{handlePointerDown:Y,handleClick:U}=Zp({nodeId:h,handleId:e.id,isValidConnection:r,type:o}),R=Q(()=>typeof e.connectable=="string"&&e.connectable==="single"?!$.value.some(V=>{const A=V[`${o.value}Handle`];return V[o.value]!==h?!1:A?A===e.id:!0}):typeof e.connectable=="number"?$.value.filter(V=>{const A=V[`${o.value}Handle`];return V[o.value]!==h?!1:A?A===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(p,$.value):ut(e.connectable)?e.connectable:c.value);rt(()=>{var V;if(!p.dimensions.width||!p.dimensions.height)return;const A=(V=p.handleBounds[o.value])==null?void 0:V.find(X=>X.id===e.id);if(!u.value||A)return;const B=u.value.querySelector(".vue-flow__transformationpane");if(!y.value||!b.value||!B||!e.id)return;const g=y.value.getBoundingClientRect(),N=b.value.getBoundingClientRect(),S=window.getComputedStyle(B),{m22:z}=new window.DOMMatrixReadOnly(S.transform),H={id:e.id,position:e.position,x:(N.left-g.left)/z,y:(N.top-g.top)/z,type:o.value,nodeId:h,...Ki(b.value)};p.handleBounds[o.value]=[...p.handleBounds[o.value]??[],H]});function G(V){const A=gu(V);R.value&&C.value&&(A&&V.button===0||!A)&&Y(V)}function j(V){!h||!a.value&&!C.value||R.value&&U(V)}return t({handleClick:U,handlePointerDown:Y,onClick:j,onPointerDown:G}),(V,A)=>(M(),L("div",{ref_key:"handle",ref:b,"data-id":`${ae(s)}-${ae(h)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":ae(h),"data-handlepos":V.position,class:Ze(["vue-flow__handle",[`vue-flow__handle-${V.position}`,`vue-flow__handle-${e.id}`,ae(d),ae(f),o.value,{connectable:R.value,connecting:q.value,connectablestart:C.value,connectableend:w.value,connectionindicator:R.value&&(C.value&&!D.value||w.value&&D.value)}]]),onMousedown:G,onTouchstartPassive:G,onClick:j},[ot(V.$slots,"default",{id:V.id})],42,Hx))}}),Qi=function({sourcePosition:e=_e.Bottom,targetPosition:t=_e.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:s,data:i}){const a=i.label??n;return[ze(Gn,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof a!="string"&&a?ze(a):ze($e,[a]),ze(Gn,{type:"source",position:e,connectable:o,isValidConnection:s})]};Qi.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Qi.inheritAttrs=!1;Qi.compatConfig={MODE:3};const Lx=Qi,ea=function({targetPosition:e=_e.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:r}){const s=r.label??t;return[ze(Gn,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof s!="string"&&s?ze(s):ze($e,[s])]};ea.props=["targetPosition","label","isValidTargetPos","connectable","data"];ea.inheritAttrs=!1;ea.compatConfig={MODE:3};const Bx=ea,ta=function({sourcePosition:e=_e.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:r}){const s=r.label??t;return[typeof s!="string"&&s?ze(s):ze($e,[s]),ze(Gn,{type:"source",position:e,connectable:n,isValidConnection:o})]};ta.props=["sourcePosition","label","isValidSourcePos","connectable","data"];ta.inheritAttrs=!1;ta.compatConfig={MODE:3};const jx=ta,Ux=["transform"],Zx=["width","height","x","y","rx","ry"],Wx=["y"],Gx={name:"EdgeText",compatConfig:{MODE:3}},Yx=Be({...Gx,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=ue({x:0,y:0,width:0,height:0}),n=ue(null),o=Q(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);rt(r),Ce([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;const s=n.value.getBBox();(s.width!==t.value.width||s.height!==t.value.height)&&(t.value=s)}return(s,i)=>(M(),L("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[s.labelShowBg?(M(),L("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*s.labelBgPadding[0]}px`,height:`${t.value.height+2*s.labelBgPadding[1]}px`,x:-s.labelBgPadding[0],y:-s.labelBgPadding[1],style:Ke(s.labelBgStyle),rx:s.labelBgBorderRadius,ry:s.labelBgBorderRadius},null,12,Zx)):me("",!0),x("text",zr(s.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:s.labelStyle}),[ot(s.$slots,"default",{},()=>[typeof s.label!="string"?(M(),qe(Hn(s.label),{key:0})):(M(),L($e,{key:1},[Fe(ge(s.label),1)],64))])],16,Wx)],8,Ux))}}),qx=["id","d","marker-end","marker-start"],Kx=["d","stroke-width"],Xx={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},na=Be({...Xx,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=ue(null),o=ue(null),r=ue(null),s=eu();return t({pathEl:n,interactionEl:o,labelEl:r}),(i,a)=>(M(),L($e,null,[x("path",zr(ae(s),{id:i.id,ref_key:"pathEl",ref:n,d:i.path,class:"vue-flow__edge-path","marker-end":i.markerEnd,"marker-start":i.markerStart}),null,16,qx),i.interactionWidth?(M(),L("path",{key:0,ref_key:"interactionEl",ref:o,fill:"none",d:i.path,"stroke-width":i.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,Kx)):me("",!0),i.label&&i.labelX&&i.labelY?(M(),qe(Yx,{key:1,ref_key:"labelEl",ref:r,x:i.labelX,y:i.labelY,label:i.label,"label-show-bg":i.labelShowBg,"label-bg-style":i.labelBgStyle,"label-bg-padding":i.labelBgPadding,"label-bg-border-radius":i.labelBgBorderRadius,"label-style":i.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):me("",!0)],64))}});function qp({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,s=n<e?n+r:n-r,i=Math.abs(o-t)/2,a=o<t?o+i:o-i;return[s,a,r,i]}function Kp({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:s,targetControlX:i,targetControlY:a}){const l=e*.125+r*.375+i*.375+n*.125,u=t*.125+s*.375+a*.375+o*.125,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}function Es(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function nd({pos:e,x1:t,y1:n,x2:o,y2:r,c:s}){let i,a;switch(e){case _e.Left:i=t-Es(t-o,s),a=n;break;case _e.Right:i=t+Es(o-t,s),a=n;break;case _e.Top:i=t,a=n-Es(n-r,s);break;case _e.Bottom:i=t,a=n+Es(r-n,s);break}return[i,a]}function Xp(e){const{sourceX:t,sourceY:n,sourcePosition:o=_e.Bottom,targetX:r,targetY:s,targetPosition:i=_e.Top,curvature:a=.25}=e,[l,u]=nd({pos:o,x1:t,y1:n,x2:r,y2:s,c:a}),[c,d]=nd({pos:i,x1:r,y1:s,x2:t,y2:n,c:a}),[f,h,p,y]=Kp({sourceX:t,sourceY:n,targetX:r,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${t},${n} C${l},${u} ${c},${d} ${r},${s}`,f,h,p,y]}function od({pos:e,x1:t,y1:n,x2:o,y2:r}){let s,i;switch(e){case _e.Left:case _e.Right:s=.5*(t+o),i=n;break;case _e.Top:case _e.Bottom:s=t,i=.5*(n+r);break}return[s,i]}function Jp(e){const{sourceX:t,sourceY:n,sourcePosition:o=_e.Bottom,targetX:r,targetY:s,targetPosition:i=_e.Top}=e,[a,l]=od({pos:o,x1:t,y1:n,x2:r,y2:s}),[u,c]=od({pos:i,x1:r,y1:s,x2:t,y2:n}),[d,f,h,p]=Kp({sourceX:t,sourceY:n,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${n} C${a},${l} ${u},${c} ${r},${s}`,d,f,h,p]}const rd={[_e.Left]:{x:-1,y:0},[_e.Right]:{x:1,y:0},[_e.Top]:{x:0,y:-1},[_e.Bottom]:{x:0,y:1}};function Jx({source:e,sourcePosition:t=_e.Bottom,target:n}){return t===_e.Left||t===_e.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function sd(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Qx({source:e,sourcePosition:t=_e.Bottom,target:n,targetPosition:o=_e.Top,center:r,offset:s}){const i=rd[t],a=rd[o],l={x:e.x+i.x*s,y:e.y+i.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},c=Jx({source:l,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let h,p,y;const $={x:0,y:0},b={x:0,y:0},[C,w,D,q]=qp({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*a[d]===-1){p=r.x??C,y=r.y??w;const U=[{x:p,y:l.y},{x:p,y:u.y}],R=[{x:l.x,y},{x:u.x,y}];i[d]===f?h=d==="x"?U:R:h=d==="x"?R:U}else{const U=[{x:l.x,y:u.y}],R=[{x:u.x,y:l.y}];if(d==="x"?h=i.x===f?R:U:h=i.y===f?U:R,t===o){const B=Math.abs(e[d]-n[d]);if(B<=s){const g=Math.min(s-1,s-B);i[d]===f?$[d]=(l[d]>e[d]?-1:1)*g:b[d]=(u[d]>n[d]?-1:1)*g}}if(t!==o){const B=d==="x"?"y":"x",g=i[d]===a[B],N=l[B]>u[B],S=l[B]<u[B];(i[d]===1&&(!g&&N||g&&S)||i[d]!==1&&(!g&&S||g&&N))&&(h=d==="x"?U:R)}const G={x:l.x+$.x,y:l.y+$.y},j={x:u.x+b.x,y:u.y+b.y},V=Math.max(Math.abs(G.x-h[0].x),Math.abs(j.x-h[0].x)),A=Math.max(Math.abs(G.y-h[0].y),Math.abs(j.y-h[0].y));V>=A?(p=(G.x+j.x)/2,y=h[0].y):(p=h[0].x,y=(G.y+j.y)/2)}return[[e,{x:l.x+$.x,y:l.y+$.y},...h,{x:u.x+b.x,y:u.y+b.y},n],p,y,D,q]}function ew(e,t,n,o){const r=Math.min(sd(e,t)/2,sd(t,n)/2,o),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+r*u},${i}Q ${s},${i} ${s},${i+r*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${i+r*l}Q ${s},${i} ${s+r*a},${i}`}function ml(e){const{sourceX:t,sourceY:n,sourcePosition:o=_e.Bottom,targetX:r,targetY:s,targetPosition:i=_e.Top,borderRadius:a=5,centerX:l,centerY:u,offset:c=20}=e,[d,f,h,p,y]=Qx({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:s},targetPosition:i,center:{x:l,y:u},offset:c});return[d.reduce((b,C,w)=>{let D;return w>0&&w<d.length-1?D=ew(d[w-1],C,d[w+1],a):D=`${w===0?"M":"L"}${C.x} ${C.y}`,b+=D,b},""),f,h,p,y]}function tw(e){const{sourceX:t,sourceY:n,targetX:o,targetY:r}=e,[s,i,a,l]=qp({sourceX:t,sourceY:n,targetX:o,targetY:r});return[`M ${t},${n}L ${o},${r}`,s,i,a,l]}const nw=Be({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=tw(e);return ze(na,{path:n,labelX:o,labelY:r,...t,...e})}}}),ow=nw,rw=Be({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=ml({...e,sourcePosition:e.sourcePosition??_e.Bottom,targetPosition:e.targetPosition??_e.Top});return ze(na,{path:n,labelX:o,labelY:r,...t,...e})}}}),Qp=rw,sw=Be({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>ze(Qp,{...e,...t,borderRadius:0})}}),iw=sw,aw=Be({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=Xp({...e,sourcePosition:e.sourcePosition??_e.Bottom,targetPosition:e.targetPosition??_e.Top});return ze(na,{path:n,labelX:o,labelY:r,...t,...e})}}}),lw=aw,uw=Be({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=Jp({...e,sourcePosition:e.sourcePosition??_e.Bottom,targetPosition:e.targetPosition??_e.Top});return ze(na,{path:n,labelX:o,labelY:r,...t,...e})}}}),cw=uw,dw={input:jx,default:Lx,output:Bx},fw={default:lw,straight:ow,step:iw,smoothstep:Qp,simplebezier:cw};function hw(e,t,n){const o=Q(()=>y=>t.value.get(y)),r=Q(()=>y=>n.value.get(y)),s=Q(()=>{const y={...fw,...e.edgeTypes},$=Object.keys(y);for(const b of e.edges)b.type&&!$.includes(b.type)&&(y[b.type]=b.type);return y}),i=Q(()=>{const y={...dw,...e.nodeTypes},$=Object.keys(y);for(const b of e.nodes)b.type&&!$.includes(b.type)&&(y[b.type]=b.type);return y}),a=Q(()=>e.onlyRenderVisibleElements?Mp(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),l=Q(()=>{if(e.onlyRenderVisibleElements){const y=[];for(const $ of e.edges){const b=t.value.get($.source),C=t.value.get($.target);ux({sourcePos:b.computedPosition||{x:0,y:0},targetPos:C.computedPosition||{x:0,y:0},sourceWidth:b.dimensions.width,sourceHeight:b.dimensions.height,targetWidth:C.dimensions.width,targetHeight:C.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&y.push($)}return y}return e.edges}),u=Q(()=>[...a.value,...l.value]),c=Q(()=>{const y=[];for(const $ of e.nodes)$.selected&&y.push($);return y}),d=Q(()=>{const y=[];for(const $ of e.edges)$.selected&&y.push($);return y}),f=Q(()=>[...c.value,...d.value]),h=Q(()=>{const y=[];for(const $ of e.nodes)$.dimensions.width&&$.dimensions.height&&$.handleBounds!==void 0&&y.push($);return y}),p=Q(()=>a.value.length>0&&h.value.length===a.value.length);return{getNode:o,getEdge:r,getElements:u,getEdgeTypes:s,getNodeTypes:i,getEdges:l,getNodes:a,getSelectedElements:f,getSelectedNodes:c,getSelectedEdges:d,getNodesInitialized:h,areNodesInitialized:p}}class no{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=Nn())==null?void 0:t.appContext.app,o=n?.config.globalProperties.$vueFlowStorage??no.instance;return no.instance=o??new no,n&&(n.config.globalProperties.$vueFlowStorage=no.instance),no.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Yp(),r=Xo(o),s={};for(const[f,h]of Object.entries(r.hooks)){const p=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;s[p]=h.on}const i={};for(const[f,h]of Object.entries(r.hooks))i[f]=h.trigger;const a=Q(()=>{const f=new Map;for(const h of r.nodes)f.set(h.id,h);return f}),l=Q(()=>{const f=new Map;for(const h of r.edges)f.set(h.id,h);return f}),u=hw(r,a,l),c=Vx(r,a,l);c.setState({...r,...n});const d={...s,...u,...c,...sy(r),nodeLookup:a,edgeLookup:l,emits:i,id:t,vueFlowVersion:"1.47.0",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function Ge(e){const t=no.getInstance(),n=Ri(),o=typeof e=="object",r=o?e:{id:e},s=r.id,i=s??n?.vueFlowId;let a;if(n){const l=ht(td,null);typeof l<"u"&&l!==null&&(!i||l.id===i)&&(a=l)}if(a||i&&(a=t.get(i)),!a||i&&a.id!==i){const l=s??t.getId(),u=t.create(l,r);a=u,(n??zi(!0)).run(()=>{Ce(u.applyDefault,(d,f,h)=>{const p=$=>{u.applyNodeChanges($)},y=$=>{u.applyEdgeChanges($)};d?(u.onNodesChange(p),u.onEdgesChange(y)):(u.hooks.value.nodesChange.off(p),u.hooks.value.edgesChange.off(y)),h(()=>{u.hooks.value.nodesChange.off(p),u.hooks.value.edgesChange.off(y)})},{immediate:!0}),Hr(()=>{if(a){const d=t.get(a.id);d?d.$destroy():us(`No store instance found for id ${a.id} in storage.`)}})})}else o&&a.setState(r);if(n&&(Bt(td,a),n.vueFlowId=a.id),o){const l=Nn();l?.type.name!=="VueFlow"&&a.emits.error(new ft(ct.USEVUEFLOW_OPTIONS))}return a}function pw(e){const{emits:t,dimensions:n}=Ge();let o;rt(()=>{const r=()=>{var s,i;if(!e.value||!(((i=(s=e.value).checkVisibility)==null?void 0:i.call(s))??!0))return;const a=Ki(e.value);(a.width===0||a.height===0)&&t.error(new ft(ct.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:a.width||500,height:a.height||500}};r(),window.addEventListener("resize",r),e.value&&(o=new ResizeObserver(()=>r()),o.observe(e.value)),Jl(()=>{window.removeEventListener("resize",r),o&&e.value&&o.unobserve(e.value)})})}const gw={name:"UserSelection",compatConfig:{MODE:3}},mw=Be({...gw,props:{userSelectionRect:{}},setup(e){return(t,n)=>(M(),L("div",{class:"vue-flow__selection vue-flow__container",style:Ke({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),vw=["tabIndex"],yw={name:"NodesSelection",compatConfig:{MODE:3}},bw=Be({...yw,setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:r,disableKeyboardA11y:s,userSelectionActive:i}=Ge(),a=Gp(),l=ue(null),u=Up({el:l,onStart(p){t.selectionDragStart(p),t.nodeDragStart(p)},onDrag(p){t.selectionDrag(p),t.nodeDrag(p)},onStop(p){t.selectionDragStop(p),t.nodeDragStop(p)}});rt(()=>{var p;s.value||(p=l.value)==null||p.focus({preventScroll:!0})});const c=Q(()=>hu(o.value)),d=Q(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function f(p){t.selectionContextMenu({event:p,nodes:o.value})}function h(p){s||Oo[p.key]&&(p.preventDefault(),a({x:Oo[p.key].x,y:Oo[p.key].y},p.shiftKey))}return(p,y)=>!ae(i)&&c.value.width&&c.value.height?(M(),L("div",{key:0,class:Ze(["vue-flow__nodesselection vue-flow__container",ae(r)]),style:Ke({transform:`translate(${ae(n).x}px,${ae(n).y}px) scale(${ae(n).zoom})`})},[x("div",{ref_key:"el",ref:l,class:Ze([{dragging:ae(u)},"vue-flow__nodesselection-rect"]),style:Ke(d.value),tabIndex:ae(s)?void 0:-1,onContextmenu:f,onKeydown:h},null,46,vw)],6)):me("",!0)}});function _w(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const xw={name:"Pane",compatConfig:{MODE:3}},ww=Be({...xw,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:r,userSelectionActive:s,removeSelectedElements:i,userSelectionRect:a,elementsSelectable:l,nodesSelectionActive:u,getSelectedEdges:c,getSelectedNodes:d,removeNodes:f,removeEdges:h,selectionMode:p,deleteKeyCode:y,multiSelectionKeyCode:$,multiSelectionActive:b,edgeLookup:C,nodeLookup:w,connectionLookup:D,defaultEdgeOptions:q,connectionStartHandle:Y}=Ge(),U=ue(null),R=ue(new Set),G=ue(new Set),j=ue(),V=Le(()=>l.value&&(e.isSelecting||s.value)),A=Le(()=>Y.value!==null);let B=!1,g=!1;const N=Nr(y,{actInsideInputWithModifier:!1}),S=Nr($);Ce(N,ie=>{ie&&(f(d.value),h(c.value),u.value=!1)}),Ce(S,ie=>{b.value=ie});function z(ie,he){return fe=>{fe.target===he&&ie?.(fe)}}function H(ie){if(B||A.value){B=!1;return}r.paneClick(ie),i(),u.value=!1}function X(ie){ie.preventDefault(),ie.stopPropagation(),r.paneContextMenu(ie)}function W(ie){r.paneScroll(ie)}function oe(ie){var he,fe,Z;if(j.value=(he=t.value)==null?void 0:he.getBoundingClientRect(),!l.value||!e.isSelecting||ie.button!==0||ie.target!==U.value||!j.value)return;(Z=(fe=ie.target)==null?void 0:fe.setPointerCapture)==null||Z.call(fe,ie.pointerId);const{x:te,y:ne}=_w(ie,j.value);g=!0,B=!1,i(),a.value={width:0,height:0,startX:te,startY:ne,x:te,y:ne},r.selectionStart(ie)}function ce(ie){var he;if(!j.value||!a.value)return;B=!0;const{x:fe,y:Z}=tn(ie,j.value),{startX:te=0,startY:ne=0}=a.value,de={startX:te,startY:ne,x:fe<te?fe:te,y:Z<ne?Z:ne,width:Math.abs(fe-te),height:Math.abs(Z-ne)},ye=R.value,T=G.value;R.value=new Set(Mp(n.value,de,o.value,p.value===fu.Partial,!0).map(_=>_.id)),G.value=new Set;const O=((he=q.value)==null?void 0:he.selectable)??!0;for(const _ of R.value){const k=D.value.get(_);if(k)for(const{edgeId:I}of k.values()){const m=C.value.get(I);m&&(m.selectable??O)&&G.value.add(I)}}if(!ed(ye,R.value)){const _=zn(w.value,R.value,!0);r.nodesChange(_)}if(!ed(T,G.value)){const _=zn(C.value,G.value);r.edgesChange(_)}a.value=de,s.value=!0,u.value=!1}function pe(ie){var he;ie.button!==0||!g||((he=ie.target)==null||he.releasePointerCapture(ie.pointerId),!s.value&&a.value&&ie.target===U.value&&H(ie),s.value=!1,a.value=null,u.value=R.value.size>0,r.selectionEnd(ie),e.selectionKeyPressed&&(B=!1),g=!1)}return(ie,he)=>(M(),L("div",{ref_key:"container",ref:U,class:Ze(["vue-flow__pane vue-flow__container",{selection:ie.isSelecting}]),onClick:he[0]||(he[0]=fe=>V.value?void 0:z(H,U.value)(fe)),onContextmenu:he[1]||(he[1]=fe=>z(X,U.value)(fe)),onWheelPassive:he[2]||(he[2]=fe=>z(W,U.value)(fe)),onPointerenter:he[3]||(he[3]=fe=>V.value?void 0:ae(r).paneMouseEnter(fe)),onPointerdown:he[4]||(he[4]=fe=>V.value?oe(fe):ae(r).paneMouseMove(fe)),onPointermove:he[5]||(he[5]=fe=>V.value?ce(fe):ae(r).paneMouseMove(fe)),onPointerup:he[6]||(he[6]=fe=>V.value?pe(fe):void 0),onPointerleave:he[7]||(he[7]=fe=>ae(r).paneMouseLeave(fe))},[ot(ie.$slots,"default"),ae(s)&&ae(a)?(M(),qe(mw,{key:0,"user-selection-rect":ae(a)},null,8,["user-selection-rect"])):me("",!0),ae(u)&&ae(d).length?(M(),qe(bw,{key:1})):me("",!0)],34))}}),kw={name:"Transform",compatConfig:{MODE:3}},$w=Be({...kw,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=Ge(),r=Q(()=>n.value?!o.value:!1),s=Q(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(i,a)=>(M(),L("div",{class:"vue-flow__transformationpane vue-flow__container",style:Ke({transform:s.value,opacity:r.value?0:void 0})},[ot(i.$slots,"default")],4))}}),Ew={name:"Viewport",compatConfig:{MODE:3}},Sw=Be({...Ew,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:r,zoomActivationKeyCode:s,selectionKeyCode:i,panActivationKeyCode:a,panOnScroll:l,panOnScrollMode:u,panOnScrollSpeed:c,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:h,zoomOnScroll:p,preventScrolling:y,noWheelClassName:$,noPanClassName:b,emits:C,connectionStartHandle:w,userSelectionActive:D,paneDragging:q,d3Zoom:Y,d3Selection:U,d3ZoomHandler:R,viewport:G,viewportRef:j,paneClickDistance:V}=Ge();pw(j);const A=Ro(!1),B=Ro(!1);let g=null,N=!1,S=0,z={x:0,y:0,zoom:0};const H=Nr(a),X=Nr(i),W=Nr(s),oe=Le(()=>(!X.value||X.value&&i.value===!0)&&(H.value||d.value)),ce=Le(()=>H.value||l.value),pe=Le(()=>X.value||i.value===!0&&oe.value!==!0),ie=Le(()=>w.value!==null);rt(()=>{if(!j.value){us("Viewport element is missing");return}const ne=j.value,de=ne.getBoundingClientRect(),ye=j1().clickDistance(V.value).scaleExtent([t.value,n.value]).translateExtent(r.value),T=Rt(ne).call(ye),O=T.on("wheel.zoom"),_=jo.translate(o.value.x??0,o.value.y??0).scale(go(o.value.zoom??1,t.value,n.value)),k=[[0,0],[de.width,de.height]],I=ye.constrain()(_,k,r.value);ye.transform(T,I),ye.wheelDelta(hl),Y.value=ye,U.value=T,R.value=O,G.value={x:I.x,y:I.y,zoom:I.k},ye.on("start",m=>{var v;if(!m.sourceEvent)return null;S=m.sourceEvent.button,A.value=!0;const P=Z(m.transform);((v=m.sourceEvent)==null?void 0:v.type)==="mousedown"&&(q.value=!0),z=P,C.viewportChangeStart(P),C.moveStart({event:m,flowTransform:P})}),ye.on("end",m=>{if(!m.sourceEvent)return null;if(A.value=!1,q.value=!1,he(oe.value,S??0)&&!N&&C.paneContextMenu(m.sourceEvent),N=!1,fe(z,m.transform)){const v=Z(m.transform);z=v,C.viewportChangeEnd(v),C.moveEnd({event:m,flowTransform:v})}}),ye.filter(m=>{var v;const P=W.value||p.value,E=h.value&&m.ctrlKey,F=m.button,K=m.type==="wheel";if(F===1&&m.type==="mousedown"&&(te(m,"vue-flow__node")||te(m,"vue-flow__edge")))return!0;if(!oe.value&&!P&&!ce.value&&!f.value&&!h.value||D.value||ie.value&&!K||!f.value&&m.type==="dblclick"||te(m,$.value)&&K||te(m,b.value)&&(!K||ce.value&&K&&!W.value)||!h.value&&m.ctrlKey&&K||!P&&!ce.value&&!E&&K)return!1;if(!h&&m.type==="touchstart"&&((v=m.touches)==null?void 0:v.length)>1)return m.preventDefault(),!1;if(!oe.value&&(m.type==="mousedown"||m.type==="touchstart")||i.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&F===0||Array.isArray(d.value)&&!d.value.includes(F)&&(m.type==="mousedown"||m.type==="touchstart"))return!1;const J=Array.isArray(d.value)&&d.value.includes(F)||i.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!F||F<=1;return(!m.ctrlKey||H.value||K)&&J}),Ce([D,oe],()=>{D.value&&!A.value?ye.on("zoom",null):D.value||ye.on("zoom",m=>{G.value={x:m.transform.x,y:m.transform.y,zoom:m.transform.k};const v=Z(m.transform);N=he(oe.value,S??0),C.viewportChange(v),C.move({event:m,flowTransform:v})})},{immediate:!0}),Ce([D,ce,u,W,h,y,$],()=>{ce.value&&!W.value&&!D.value?T.on("wheel.zoom",m=>{if(te(m,$.value))return!1;const v=W.value||p.value,P=h.value&&m.ctrlKey;if(!(!y.value||ce.value||v||P))return!1;m.preventDefault(),m.stopImmediatePropagation();const F=T.property("__zoom").k||1,K=Gr();if(!H.value&&m.ctrlKey&&h.value&&K){const xe=Xt(m),Te=hl(m),it=F*2**Te;ye.scaleTo(T,it,xe,m);return}const J=m.deltaMode===1?20:1;let se=u.value===Cr.Vertical?0:m.deltaX*J,le=u.value===Cr.Horizontal?0:m.deltaY*J;!K&&m.shiftKey&&u.value!==Cr.Vertical&&!se&&le&&(se=le,le=0),ye.translateBy(T,-(se/F)*c.value,-(le/F)*c.value);const be=Z(T.property("__zoom"));g&&clearTimeout(g),B.value?(C.move({event:m,flowTransform:be}),C.viewportChange(be),g=setTimeout(()=>{C.moveEnd({event:m,flowTransform:be}),C.viewportChangeEnd(be),B.value=!1},150)):(B.value=!0,C.moveStart({event:m,flowTransform:be}),C.viewportChangeStart(be))},{passive:!1}):typeof O<"u"&&T.on("wheel.zoom",function(m,v){const P=!y.value&&m.type==="wheel"&&!m.ctrlKey,E=W.value||p.value,F=h.value&&m.ctrlKey;if(!E&&!l.value&&!F&&m.type==="wheel"||P||te(m,$.value))return null;m.preventDefault(),O.call(this,m,v)},{passive:!1})},{immediate:!0})});function he(ne,de){return de===2&&Array.isArray(ne)&&ne.includes(2)}function fe(ne,de){return ne.x!==de.x&&!Number.isNaN(de.x)||ne.y!==de.y&&!Number.isNaN(de.y)||ne.zoom!==de.k&&!Number.isNaN(de.k)}function Z(ne){return{x:ne.x,y:ne.y,zoom:ne.k}}function te(ne,de){return ne.target.closest(`.${de}`)}return(ne,de)=>(M(),L("div",{ref_key:"viewportRef",ref:j,class:"vue-flow__viewport vue-flow__container"},[ee(ww,{"is-selecting":pe.value,"selection-key-pressed":ae(X),class:Ze({connecting:ie.value,dragging:ae(q),draggable:ae(d)===!0||Array.isArray(ae(d))&&ae(d).includes(0)})},{default:Ee(()=>[ee($w,null,{default:Ee(()=>[ot(ne.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),Cw=["id"],Nw=["id"],Iw=["id"],Tw={name:"A11yDescriptions",compatConfig:{MODE:3}},Aw=Be({...Tw,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=Ge();return(r,s)=>(M(),L($e,null,[x("div",{id:`${ae(Sp)}-${ae(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+ge(ae(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,Cw),x("div",{id:`${ae(Cp)}-${ae(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,Nw),ae(n)?me("",!0):(M(),L("div",{key:0,id:`${ae(q1)}-${ae(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},ge(ae(o)),9,Iw))],64))}});function Dw(){const e=Ge();Ce(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function Pw(e,t,n){return n===_e.Left?e-t:n===_e.Right?e+t:e}function Ow(e,t,n){return n===_e.Top?e-t:n===_e.Bottom?e+t:e}const mu=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=_e.Top,type:r}){return ze("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:Pw(t,e,o),cy:Ow(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};mu.props=["radius","centerX","centerY","position","type"];mu.compatConfig={MODE:3};const id=mu,Mw=Be({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:s,nodesSelectionActive:i,noPanClassName:a,getEdgeTypes:l,removeSelectedEdges:u,findEdge:c,findNode:d,isValidConnection:f,multiSelectionActive:h,disableKeyboardA11y:p,elementsSelectable:y,edgesUpdatable:$,edgesFocusable:b,hooks:C}=Ge(),w=Q(()=>c(e.id)),{emit:D,on:q}=Ex(w.value,s),Y=ht(Ji),U=Nn(),R=ue(!1),G=ue(!1),j=ue(""),V=ue(null),A=ue("source"),B=ue(null),g=Le(()=>typeof w.value.selectable>"u"?y.value:w.value.selectable),N=Le(()=>typeof w.value.updatable>"u"?$.value:w.value.updatable),S=Le(()=>typeof w.value.focusable>"u"?b.value:w.value.focusable);Bt(wx,e.id),Bt(kx,B);const z=Q(()=>w.value.class instanceof Function?w.value.class(w.value):w.value.class),H=Q(()=>w.value.style instanceof Function?w.value.style(w.value):w.value.style),X=Q(()=>{const k=w.value.type||"default",I=Y?.[`edge-${k}`];if(I)return I;let m=w.value.template??l.value[k];if(typeof m=="string"&&U){const v=Object.keys(U.appContext.components);v&&v.includes(k)&&(m=Ql(k,!1))}return m&&typeof m!="string"?m:(s.error(new ft(ct.EDGE_TYPE_MISSING,m)),!1)}),{handlePointerDown:W}=Zp({nodeId:j,handleId:V,type:A,isValidConnection:f,edgeUpdaterType:A,onEdgeUpdate:pe,onEdgeUpdateEnd:ie});return()=>{const k=d(w.value.source),I=d(w.value.target),m="pathOptions"in w.value?w.value.pathOptions:{};if(!k&&!I)return s.error(new ft(ct.EDGE_SOURCE_TARGET_MISSING,w.value.id,w.value.source,w.value.target)),null;if(!k)return s.error(new ft(ct.EDGE_SOURCE_MISSING,w.value.id,w.value.source)),null;if(!I)return s.error(new ft(ct.EDGE_TARGET_MISSING,w.value.id,w.value.target)),null;if(!w.value||w.value.hidden||k.hidden||I.hidden)return null;let v;o.value===Zn.Strict?v=k.handleBounds.source:v=[...k.handleBounds.source||[],...k.handleBounds.target||[]];const P=Yc(v,w.value.sourceHandle);let E;o.value===Zn.Strict?E=I.handleBounds.target:E=[...I.handleBounds.target||[],...I.handleBounds.source||[]];const F=Yc(E,w.value.targetHandle),K=P?.position||_e.Bottom,J=F?.position||_e.Top,{x:se,y:le}=Uo(k,P,K),{x:be,y:xe}=Uo(I,F,J);return w.value.sourceX=se,w.value.sourceY=le,w.value.targetX=be,w.value.targetY=xe,ze("g",{ref:B,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${X.value===!1?"default":w.value.type||"default"}`,a.value,z.value,{updating:R.value,selected:w.value.selected,animated:w.value.animated,inactive:!g.value&&!C.value.edgeClick.hasListeners()}],tabIndex:S.value?0:void 0,"aria-label":w.value.ariaLabel===null?void 0:w.value.ariaLabel??`Edge from ${w.value.source} to ${w.value.target}`,"aria-describedby":S.value?`${Cp}-${t}`:void 0,"aria-roledescription":"edge",role:S.value?"group":"img",...w.value.domAttributes,onClick:fe,onContextmenu:Z,onDblclick:te,onMouseenter:ne,onMousemove:de,onMouseleave:ye,onKeyDown:S.value?_:void 0},[G.value?null:ze(X.value===!1?l.value.default:X.value,{id:e.id,sourceNode:k,targetNode:I,source:w.value.source,target:w.value.target,type:w.value.type,updatable:N.value,selected:w.value.selected,animated:w.value.animated,label:w.value.label,labelStyle:w.value.labelStyle,labelShowBg:w.value.labelShowBg,labelBgStyle:w.value.labelBgStyle,labelBgPadding:w.value.labelBgPadding,labelBgBorderRadius:w.value.labelBgBorderRadius,data:w.value.data,events:{...w.value.events,...q},style:H.value,markerStart:`url('#${Wr(w.value.markerStart,t)}')`,markerEnd:`url('#${Wr(w.value.markerEnd,t)}')`,sourcePosition:K,targetPosition:J,sourceX:se,sourceY:le,targetX:be,targetY:xe,sourceHandleId:w.value.sourceHandle,targetHandleId:w.value.targetHandle,interactionWidth:w.value.interactionWidth,...m}),[N.value==="source"||N.value===!0?[ze("g",{onMousedown:T,onMouseenter:oe,onMouseout:ce},ze(id,{position:K,centerX:se,centerY:le,radius:r.value,type:"source","data-type":"source"}))]:null,N.value==="target"||N.value===!0?[ze("g",{onMousedown:O,onMouseenter:oe,onMouseout:ce},ze(id,{position:J,centerX:be,centerY:xe,radius:r.value,type:"target","data-type":"target"}))]:null]])};function oe(){R.value=!0}function ce(){R.value=!1}function pe(k,I){D.update({event:k,edge:w.value,connection:I})}function ie(k){D.updateEnd({event:k,edge:w.value}),G.value=!1}function he(k,I){k.button===0&&(G.value=!0,j.value=I?w.value.target:w.value.source,V.value=(I?w.value.targetHandle:w.value.sourceHandle)??null,A.value=I?"target":"source",D.updateStart({event:k,edge:w.value}),W(k))}function fe(k){var I;const m={event:k,edge:w.value};g.value&&(i.value=!1,w.value.selected&&h.value?(u([w.value]),(I=B.value)==null||I.blur()):n([w.value])),D.click(m)}function Z(k){D.contextMenu({event:k,edge:w.value})}function te(k){D.doubleClick({event:k,edge:w.value})}function ne(k){D.mouseEnter({event:k,edge:w.value})}function de(k){D.mouseMove({event:k,edge:w.value})}function ye(k){D.mouseLeave({event:k,edge:w.value})}function T(k){he(k,!0)}function O(k){he(k,!1)}function _(k){var I;!p.value&&Np.includes(k.key)&&g.value&&(k.key==="Escape"?((I=B.value)==null||I.blur(),u([c(e.id)])):n([c(e.id)]))}}}),zw=Mw,Rw=Be({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:r,connectionPosition:s,connectionLineType:i,connectionLineStyle:a,connectionLineOptions:l,connectionStatus:u,viewport:c,findNode:d}=Ge(),f=(e=ht(Ji))==null?void 0:e["connection-line"],h=Q(()=>{var C;return d((C=o.value)==null?void 0:C.nodeId)}),p=Q(()=>{var C;return d((C=r.value)==null?void 0:C.nodeId)??null}),y=Q(()=>({x:(s.value.x-c.value.x)/c.value.zoom,y:(s.value.y-c.value.y)/c.value.zoom})),$=Q(()=>l.value.markerStart?`url(#${Wr(l.value.markerStart,t)})`:""),b=Q(()=>l.value.markerEnd?`url(#${Wr(l.value.markerEnd,t)})`:"");return()=>{var C,w,D;if(!h.value||!o.value)return null;const q=o.value.id,Y=o.value.type,U=h.value.handleBounds;let R=U?.[Y]??[];if(n.value===Zn.Loose){const H=U?.[Y==="source"?"target":"source"]??[];R=[...R,...H]}if(!R)return null;const G=(q?R.find(H=>H.id===q):R[0])??null,j=G?.position??_e.Top,{x:V,y:A}=Uo(h.value,G,j);let B=null;p.value&&(n.value===Zn.Strict?B=((C=p.value.handleBounds[Y==="source"?"target":"source"])==null?void 0:C.find(H=>{var X;return H.id===((X=r.value)==null?void 0:X.id)}))||null:B=((w=[...p.value.handleBounds.source??[],...p.value.handleBounds.target??[]])==null?void 0:w.find(H=>{var X;return H.id===((X=r.value)==null?void 0:X.id)}))||null);const g=((D=r.value)==null?void 0:D.position)??(j?pl[j]:null);if(!j||!g)return null;const N=i.value??l.value.type??eo.Bezier;let S="";const z={sourceX:V,sourceY:A,sourcePosition:j,targetX:y.value.x,targetY:y.value.y,targetPosition:g};return N===eo.Bezier?[S]=Xp(z):N===eo.Step?[S]=ml({...z,borderRadius:0}):N===eo.SmoothStep?[S]=ml(z):N===eo.SimpleBezier?[S]=Jp(z):S=`M${V},${A} ${y.value.x},${y.value.y}`,ze("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},ze("g",{class:"vue-flow__connection"},f?ze(f,{sourceX:V,sourceY:A,sourcePosition:j,targetX:y.value.x,targetY:y.value.y,targetPosition:g,sourceNode:h.value,sourceHandle:G,targetNode:p.value,targetHandle:B,markerEnd:b.value,markerStart:$.value,connectionStatus:u.value}):ze("path",{d:S,class:[l.value.class,u.value,"vue-flow__connection-path"],style:{...a.value,...l.value.style},"marker-end":b.value,"marker-start":$.value})))}}}),Vw=Rw,Hw=["id","markerWidth","markerHeight","markerUnits","orient"],Fw={name:"MarkerType",compatConfig:{MODE:3}},Lw=Be({...Fw,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(M(),L("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===ae(dl).ArrowClosed?(M(),L("polyline",{key:0,style:Ke({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):me("",!0),t.type===ae(dl).Arrow?(M(),L("polyline",{key:1,style:Ke({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):me("",!0)],8,Hw))}}),Bw={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},jw={name:"MarkerDefinitions",compatConfig:{MODE:3}},Uw=Be({...jw,setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:r}=Ge(),s=Q(()=>{const i=new Set,a=[],l=u=>{if(u){const c=Wr(u,t);i.has(c)||(typeof u=="object"?a.push({...u,id:c,color:u.color||r.value}):a.push({id:c,color:r.value,type:u}),i.add(c))}};for(const u of[o.value.markerEnd,o.value.markerStart])l(u);for(const u of n.value)for(const c of[u.markerStart,u.markerEnd])l(c);return a.sort((u,c)=>u.id.localeCompare(c.id))});return(i,a)=>(M(),L("svg",Bw,[x("defs",null,[(M(!0),L($e,null,Ue(s.value,l=>(M(),qe(Lw,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),Zw={name:"Edges",compatConfig:{MODE:3}},Ww=Be({...Zw,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=Ge();return(r,s)=>(M(),L($e,null,[ee(Uw),(M(!0),L($e,null,Ue(ae(n),i=>(M(),L("svg",{key:i.id,class:"vue-flow__edges vue-flow__container",style:Ke({zIndex:ae(cx)(i,ae(t),ae(o))})},[ee(ae(zw),{id:i.id},null,8,["id"])],4))),128)),ee(ae(Vw))],64))}}),Gw=Be({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:r,multiSelectionActive:s,emits:i,removeSelectedNodes:a,addSelectedNodes:l,updateNodeDimensions:u,onUpdateNodeInternals:c,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:h,disableKeyboardA11y:p,ariaLiveMessage:y,snapToGrid:$,snapGrid:b,nodeDragThreshold:C,nodesDraggable:w,elementsSelectable:D,nodesConnectable:q,nodesFocusable:Y,hooks:U}=Ge(),R=ue(null);Bt(jp,R),Bt(Bp,e.id);const G=ht(Ji),j=Nn(),V=Gp(),{node:A,parentNode:B}=Wp(e.id),{emit:g,on:N}=Ix(A,i),S=Le(()=>typeof A.draggable>"u"?w.value:A.draggable),z=Le(()=>typeof A.selectable>"u"?D.value:A.selectable),H=Le(()=>typeof A.connectable>"u"?q.value:A.connectable),X=Le(()=>typeof A.focusable>"u"?Y.value:A.focusable),W=Q(()=>z.value||S.value||U.value.nodeClick.hasListeners()||U.value.nodeDoubleClick.hasListeners()||U.value.nodeMouseEnter.hasListeners()||U.value.nodeMouseMove.hasListeners()||U.value.nodeMouseLeave.hasListeners()),oe=Le(()=>!!A.dimensions.width&&!!A.dimensions.height),ce=Q(()=>{const I=A.type||"default",m=G?.[`node-${I}`];if(m)return m;let v=A.template||d.value[I];if(typeof v=="string"&&j){const P=Object.keys(j.appContext.components);P&&P.includes(I)&&(v=Ql(I,!1))}return v&&typeof v!="string"?v:(i.error(new ft(ct.NODE_TYPE_MISSING,v)),!1)}),pe=Up({id:e.id,el:R,disabled:()=>!S.value,selectable:z,dragHandle:()=>A.dragHandle,onStart(I){g.dragStart(I)},onDrag(I){g.drag(I)},onStop(I){g.dragStop(I)},onClick(I){_(I)}}),ie=Q(()=>A.class instanceof Function?A.class(A):A.class),he=Q(()=>{const I=(A.style instanceof Function?A.style(A):A.style)||{},m=A.width instanceof Function?A.width(A):A.width,v=A.height instanceof Function?A.height(A):A.height;return!I.width&&m&&(I.width=typeof m=="string"?m:`${m}px`),!I.height&&v&&(I.height=typeof v=="string"?v:`${v}px`),I}),fe=Le(()=>Number(A.zIndex??he.value.zIndex??0));return c(I=>{(I.includes(e.id)||!I.length)&&te()}),rt(()=>{Ce(()=>A.hidden,(I=!1,m,v)=>{!I&&R.value&&(e.resizeObserver.observe(R.value),v(()=>{R.value&&e.resizeObserver.unobserve(R.value)}))},{immediate:!0,flush:"post"})}),Ce([()=>A.type,()=>A.sourcePosition,()=>A.targetPosition],()=>{St(()=>{u([{id:e.id,nodeElement:R.value,forceUpdate:!0}])})}),Ce([()=>A.position.x,()=>A.position.y,()=>{var I;return(I=B.value)==null?void 0:I.computedPosition.x},()=>{var I;return(I=B.value)==null?void 0:I.computedPosition.y},()=>{var I;return(I=B.value)==null?void 0:I.computedPosition.z},fe,()=>A.selected,()=>A.dimensions.height,()=>A.dimensions.width,()=>{var I;return(I=B.value)==null?void 0:I.dimensions.height},()=>{var I;return(I=B.value)==null?void 0:I.dimensions.width}],([I,m,v,P,E,F])=>{const K={x:I,y:m,z:F+(h.value&&A.selected?1e3:0)};typeof v<"u"&&typeof P<"u"?A.computedPosition=rx({x:v,y:P,z:E},K):A.computedPosition=K},{flush:"post",immediate:!0}),Ce([()=>A.extent,f],([I,m],[v,P])=>{(I!==v||m!==P)&&Z()}),A.extent==="parent"||typeof A.extent=="object"&&"range"in A.extent&&A.extent.range==="parent"?nl(()=>oe).toBe(!0).then(Z):Z(),()=>A.hidden?null:ze("div",{ref:R,"data-id":A.id,class:["vue-flow__node",`vue-flow__node-${ce.value===!1?"default":A.type||"default"}`,{[n.value]:S.value,dragging:pe?.value,draggable:S.value,selected:A.selected,selectable:z.value,parent:A.isParent},ie.value],style:{visibility:oe.value?"visible":"hidden",zIndex:A.computedPosition.z??fe.value,transform:`translate(${A.computedPosition.x}px,${A.computedPosition.y}px)`,pointerEvents:W.value?"all":"none",...he.value},tabIndex:X.value?0:void 0,role:X.value?"group":void 0,"aria-describedby":p.value?void 0:`${Sp}-${t}`,"aria-label":A.ariaLabel,"aria-roledescription":"node",...A.domAttributes,onMouseenter:ne,onMousemove:de,onMouseleave:ye,onContextmenu:T,onClick:_,onDblclick:O,onKeydown:k},[ze(ce.value===!1?d.value.default:ce.value,{id:A.id,type:A.type,data:A.data,events:{...A.events,...N},selected:A.selected,resizing:A.resizing,dragging:pe.value,connectable:H.value,position:A.computedPosition,dimensions:A.dimensions,isValidTargetPos:A.isValidTargetPos,isValidSourcePos:A.isValidSourcePos,parent:A.parentNode,parentNodeId:A.parentNode,zIndex:A.computedPosition.z??fe.value,targetPosition:A.targetPosition,sourcePosition:A.sourcePosition,label:A.label,dragHandle:A.dragHandle,onUpdateNodeInternals:te})]);function Z(){const I=A.computedPosition,{computedPosition:m,position:v}=pu(A,$.value?Xi(I,b.value):I,i.error,f.value,B.value);(A.computedPosition.x!==m.x||A.computedPosition.y!==m.y)&&(A.computedPosition={...A.computedPosition,...m}),(A.position.x!==v.x||A.position.y!==v.y)&&(A.position=v)}function te(){R.value&&u([{id:e.id,nodeElement:R.value,forceUpdate:!0}])}function ne(I){pe?.value||g.mouseEnter({event:I,node:A})}function de(I){pe?.value||g.mouseMove({event:I,node:A})}function ye(I){pe?.value||g.mouseLeave({event:I,node:A})}function T(I){return g.contextMenu({event:I,node:A})}function O(I){return g.doubleClick({event:I,node:A})}function _(I){z.value&&(!o.value||!S.value||C.value>0)&&gl(A,s.value,l,a,r,!1,R.value),g.click({event:I,node:A})}function k(I){if(!(fl(I)||p.value))if(Np.includes(I.key)&&z.value){const m=I.key==="Escape";gl(A,s.value,l,a,r,m,R.value)}else S.value&&A.selected&&Oo[I.key]&&(I.preventDefault(),y.value=`Moved selected node ${I.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~A.position.x}, y: ${~~A.position.y}`,V({x:Oo[I.key].x,y:Oo[I.key].y},I.shiftKey))}}}),Yw=Gw;function qw(e={includeHiddenNodes:!1}){const{nodes:t}=Ge();return Q(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const Kw={class:"vue-flow__nodes vue-flow__container"},Xw={name:"Nodes",compatConfig:{MODE:3}},Jw=Be({...Xw,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=Ge(),r=qw(),s=ue();return Ce(r,i=>{i&&St(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),rt(()=>{s.value=new ResizeObserver(i=>{const a=i.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));St(()=>n(a))})}),Jl(()=>{var i;return(i=s.value)==null?void 0:i.disconnect()}),(i,a)=>(M(),L("div",Kw,[s.value?(M(!0),L($e,{key:0},Ue(ae(t),(l,u,c,d)=>{const f=[l.id];if(d&&d.key===l.id&&gv(d,f))return d;const h=(M(),qe(ae(Yw),{id:l.id,key:l.id,"resize-observer":s.value},null,8,["id","resize-observer"]));return h.memo=f,h},a,0),128)):me("",!0)]))}});function Qw(){const{emits:e}=Ge();rt(()=>{if(Lp()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new ft(ct.MISSING_STYLES))}})}const ek=x("div",{class:"vue-flow__edge-labels"},null,-1),tk={name:"VueFlow",compatConfig:{MODE:3}},nk=Be({...tk,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,r=yh(),s=ka(o,"modelValue",n),i=ka(o,"nodes",n),a=ka(o,"edges",n),l=Ge(o),u=Px({modelValue:s,nodes:i,edges:a},o,l);return Mx(n,l.hooks),Dw(),Qw(),Bt(Ji,r),vo(u),t(l),(c,d)=>(M(),L("div",{ref:ae(l).vueFlowRef,class:"vue-flow"},[ee(Sw,null,{default:Ee(()=>[ee(Ww),ek,ee(Jw),ot(c.$slots,"zoom-pane")]),_:3}),ot(c.$slots,"default"),ee(Aw)],512))}}),ok={name:"Panel",compatConfig:{MODE:3}},eg=Be({...ok,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=Ge(),o=Q(()=>`${t.position}`.split("-"));return(r,s)=>(M(),L("div",{class:Ze(["vue-flow__panel",o.value]),style:Ke({pointerEvents:ae(n)?"none":"all"})},[ot(r.$slots,"default")],6))}});var nn=(e=>(e.Lines="lines",e.Dots="dots",e))(nn||{});const tg=function({dimensions:e,size:t,color:n}){return ze("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},ng=function({radius:e,color:t}){return ze("circle",{cx:e,cy:e,r:e,fill:t})};nn.Lines+"",nn.Dots+"";const rk={[nn.Dots]:"#81818a",[nn.Lines]:"#eee"},sk=["id","x","y","width","height","patternTransform"],ik={key:2,height:"100",width:"100"},ak=["fill"],lk=["x","y","fill"],uk={name:"Background",compatConfig:{MODE:3}},ck=Be({...uk,props:{id:{},variant:{default:()=>nn.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=Ge(),o=Q(()=>{const i=n.value.zoom,[a,l]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],u=[a*i||1,l*i||1],c=e.size*i,[d,f]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],h=[d*i||1+u[0]/2,f*i||1+u[1]/2];return{scaledGap:u,offset:h,size:c}}),r=Le(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),s=Le(()=>e.color||e.patternColor||rk[e.variant||nn.Dots]);return(i,a)=>(M(),L("svg",{class:"vue-flow__background vue-flow__container",style:Ke({height:`${i.height>100?100:i.height}%`,width:`${i.width>100?100:i.width}%`})},[ot(i.$slots,"pattern-container",{id:r.value},()=>[x("pattern",{id:r.value,x:ae(n).x%o.value.scaledGap[0],y:ae(n).y%o.value.scaledGap[1],width:o.value.scaledGap[0],height:o.value.scaledGap[1],patternTransform:`translate(-${o.value.offset[0]},-${o.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[ot(i.$slots,"pattern",{},()=>[i.variant===ae(nn).Lines?(M(),qe(ae(tg),{key:0,size:i.lineWidth,color:s.value,dimensions:o.value.scaledGap},null,8,["size","color","dimensions"])):i.variant===ae(nn).Dots?(M(),qe(ae(ng),{key:1,color:s.value,radius:o.value.size/2},null,8,["color","radius"])):me("",!0),i.bgColor?(M(),L("svg",ik,[x("rect",{width:"100%",height:"100%",fill:i.bgColor},null,8,ak)])):me("",!0)])],8,sk)]),x("rect",{x:i.x,y:i.y,width:"100%",height:"100%",fill:`url(#${r.value})`},null,8,lk),ot(i.$slots,"default",{id:r.value})],4))}}),dk={name:"ControlButton",compatConfig:{MODE:3}},fk=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},hk={type:"button",class:"vue-flow__controls-button"};function pk(e,t,n,o,r,s){return M(),L("button",hk,[ot(e.$slots,"default")])}const Ss=fk(dk,[["render",pk]]),gk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},mk=x("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),vk=[mk];function yk(e,t){return M(),L("svg",gk,vk)}const bk={render:yk},_k={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},xk=x("path",{d:"M0 0h32v4.2H0z"},null,-1),wk=[xk];function kk(e,t){return M(),L("svg",_k,wk)}const $k={render:kk},Ek={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Sk=x("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),Ck=[Sk];function Nk(e,t){return M(),L("svg",Ek,Ck)}const Ik={render:Nk},Tk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ak=x("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),Dk=[Ak];function Pk(e,t){return M(),L("svg",Tk,Dk)}const Ok={render:Pk},Mk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},zk=x("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),Rk=[zk];function Vk(e,t){return M(),L("svg",Mk,Rk)}const Hk={render:Vk},Fk={name:"Controls",compatConfig:{MODE:3}},Lk=Be({...Fk,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>Ep.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:r,setInteractive:s,zoomIn:i,zoomOut:a,fitView:l,viewport:u,minZoom:c,maxZoom:d}=Ge(),f=Le(()=>n.value||o.value||r.value),h=Le(()=>u.value.zoom<=c.value),p=Le(()=>u.value.zoom>=d.value);function y(){i(),t("zoomIn")}function $(){a(),t("zoomOut")}function b(){l(e.fitViewParams),t("fitView")}function C(){s(!f.value),t("interactionChange",!f.value)}return(w,D)=>(M(),qe(ae(eg),{class:"vue-flow__controls",position:w.position},{default:Ee(()=>[ot(w.$slots,"top"),w.showZoom?(M(),L($e,{key:0},[ot(w.$slots,"control-zoom-in",{},()=>[ee(Ss,{class:"vue-flow__controls-zoomin",disabled:p.value,onClick:y},{default:Ee(()=>[ot(w.$slots,"icon-zoom-in",{},()=>[(M(),qe(Hn(ae(bk))))])]),_:3},8,["disabled"])]),ot(w.$slots,"control-zoom-out",{},()=>[ee(Ss,{class:"vue-flow__controls-zoomout",disabled:h.value,onClick:$},{default:Ee(()=>[ot(w.$slots,"icon-zoom-out",{},()=>[(M(),qe(Hn(ae($k))))])]),_:3},8,["disabled"])])],64)):me("",!0),w.showFitView?ot(w.$slots,"control-fit-view",{key:1},()=>[ee(Ss,{class:"vue-flow__controls-fitview",onClick:b},{default:Ee(()=>[ot(w.$slots,"icon-fit-view",{},()=>[(M(),qe(Hn(ae(Ik))))])]),_:3})]):me("",!0),w.showInteractive?ot(w.$slots,"control-interactive",{key:2},()=>[w.showInteractive?(M(),qe(Ss,{key:0,class:"vue-flow__controls-interactive",onClick:C},{default:Ee(()=>[f.value?ot(w.$slots,"icon-unlock",{key:0},()=>[(M(),qe(Hn(ae(Hk))))]):me("",!0),f.value?me("",!0):ot(w.$slots,"icon-lock",{key:1},()=>[(M(),qe(Hn(ae(Ok))))])]),_:3})):me("",!0)]):me("",!0),ot(w.$slots,"default")]),_:3},8,["position"]))}});var Bk={value:()=>{}};function vu(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Zs(n)}function Zs(e){this._=e}function jk(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Zs.prototype=vu.prototype={constructor:Zs,on:function(e,t){var n=this._,o=jk(e+"",n),r,s=-1,i=o.length;if(arguments.length<2){for(;++s<i;)if((r=(e=o[s]).type)&&(r=Uk(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(r=(e=o[s]).type)n[r]=ad(n[r],e.name,t);else if(t==null)for(r in n)n[r]=ad(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zs(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,s;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,r=s.length;o<r;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)}};function Uk(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function ad(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Bk,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var vl="http://www.w3.org/1999/xhtml";const ld={svg:"http://www.w3.org/2000/svg",xhtml:vl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oa(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ld.hasOwnProperty(t)?{space:ld[t],local:e}:e}function Zk(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===vl&&t.documentElement.namespaceURI===vl?t.createElement(e):t.createElementNS(n,e)}}function Wk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function og(e){var t=oa(e);return(t.local?Wk:Zk)(t)}function Gk(){}function yu(e){return e==null?Gk:function(){return this.querySelector(e)}}function Yk(e){typeof e!="function"&&(e=yu(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=new Array(i),l,u,c=0;c<i;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Pt(o,this._parents)}function qk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Kk(){return[]}function rg(e){return e==null?Kk:function(){return this.querySelectorAll(e)}}function Xk(e){return function(){return qk(e.apply(this,arguments))}}function Jk(e){typeof e=="function"?e=Xk(e):e=rg(e);for(var t=this._groups,n=t.length,o=[],r=[],s=0;s<n;++s)for(var i=t[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&(o.push(e.call(l,l.__data__,u,i)),r.push(l));return new Pt(o,r)}function sg(e){return function(){return this.matches(e)}}function ig(e){return function(t){return t.matches(e)}}var Qk=Array.prototype.find;function e$(e){return function(){return Qk.call(this.children,e)}}function t$(){return this.firstElementChild}function n$(e){return this.select(e==null?t$:e$(typeof e=="function"?e:ig(e)))}var o$=Array.prototype.filter;function r$(){return Array.from(this.children)}function s$(e){return function(){return o$.call(this.children,e)}}function i$(e){return this.selectAll(e==null?r$:s$(typeof e=="function"?e:ig(e)))}function a$(e){typeof e!="function"&&(e=sg(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Pt(o,this._parents)}function ag(e){return new Array(e.length)}function l$(){return new Pt(this._enter||this._groups.map(ag),this._parents)}function _i(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_i.prototype={constructor:_i,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function u$(e){return function(){return e}}function c$(e,t,n,o,r,s){for(var i=0,a,l=t.length,u=s.length;i<u;++i)(a=t[i])?(a.__data__=s[i],o[i]=a):n[i]=new _i(e,s[i]);for(;i<l;++i)(a=t[i])&&(r[i]=a)}function d$(e,t,n,o,r,s,i){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=i.call(l,l.__data__,a,t)+"",u.has(h)?r[a]=l:u.set(h,l));for(a=0;a<d;++a)h=i.call(e,s[a],a,s)+"",(l=u.get(h))?(o[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new _i(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(r[a]=l)}function f$(e){return e.__data__}function h$(e,t){if(!arguments.length)return Array.from(this,f$);var n=t?d$:c$,o=this._parents,r=this._groups;typeof e!="function"&&(e=u$(e));for(var s=r.length,i=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=o[u],d=r[u],f=d.length,h=p$(e.call(c,c&&c.__data__,u,o)),p=h.length,y=a[u]=new Array(p),$=i[u]=new Array(p),b=l[u]=new Array(f);n(c,d,y,$,b,h,t);for(var C=0,w=0,D,q;C<p;++C)if(D=y[C]){for(C>=w&&(w=C+1);!(q=$[w])&&++w<p;);D._next=q||null}}return i=new Pt(i,o),i._enter=a,i._exit=l,i}function p$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g$(){return new Pt(this._exit||this._groups.map(ag),this._parents)}function m$(e,t,n){var o=this.enter(),r=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),o&&r?o.merge(r).order():r}function v$(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,s=o.length,i=Math.min(r,s),a=new Array(r),l=0;l<i;++l)for(var u=n[l],c=o[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<r;++l)a[l]=n[l];return new Pt(a,this._parents)}function y$(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,s=o[r],i;--r>=0;)(i=o[r])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function b$(e){e||(e=_$);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s){for(var i=n[s],a=i.length,l=r[s]=new Array(a),u,c=0;c<a;++c)(u=i[c])&&(l[c]=u);l.sort(t)}return new Pt(r,this._parents).order()}function _$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function x$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function w$(){return Array.from(this)}function k$(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length;r<s;++r){var i=o[r];if(i)return i}return null}function $$(){let e=0;for(const t of this)++e;return e}function E$(){return!this.node()}function S$(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],s=0,i=r.length,a;s<i;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function C$(e){return function(){this.removeAttribute(e)}}function N$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function I$(e,t){return function(){this.setAttribute(e,t)}}function T$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function A$(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function D$(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function P$(e,t){var n=oa(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?N$:C$:typeof t=="function"?n.local?D$:A$:n.local?T$:I$)(n,t))}function lg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function O$(e){return function(){this.style.removeProperty(e)}}function M$(e,t,n){return function(){this.style.setProperty(e,t,n)}}function z$(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function R$(e,t,n){return arguments.length>1?this.each((t==null?O$:typeof t=="function"?z$:M$)(e,t,n??"")):Zo(this.node(),e)}function Zo(e,t){return e.style.getPropertyValue(t)||lg(e).getComputedStyle(e,null).getPropertyValue(t)}function V$(e){return function(){delete this[e]}}function H$(e,t){return function(){this[e]=t}}function F$(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function L$(e,t){return arguments.length>1?this.each((t==null?V$:typeof t=="function"?F$:H$)(e,t)):this.node()[e]}function ug(e){return e.trim().split(/^|\s+/)}function bu(e){return e.classList||new cg(e)}function cg(e){this._node=e,this._names=ug(e.getAttribute("class")||"")}cg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function dg(e,t){for(var n=bu(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function fg(e,t){for(var n=bu(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function B$(e){return function(){dg(this,e)}}function j$(e){return function(){fg(this,e)}}function U$(e,t){return function(){(t.apply(this,arguments)?dg:fg)(this,e)}}function Z$(e,t){var n=ug(e+"");if(arguments.length<2){for(var o=bu(this.node()),r=-1,s=n.length;++r<s;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?U$:t?B$:j$)(n,t))}function W$(){this.textContent=""}function G$(e){return function(){this.textContent=e}}function Y$(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function q$(e){return arguments.length?this.each(e==null?W$:(typeof e=="function"?Y$:G$)(e)):this.node().textContent}function K$(){this.innerHTML=""}function X$(e){return function(){this.innerHTML=e}}function J$(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Q$(e){return arguments.length?this.each(e==null?K$:(typeof e=="function"?J$:X$)(e)):this.node().innerHTML}function eE(){this.nextSibling&&this.parentNode.appendChild(this)}function tE(){return this.each(eE)}function nE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oE(){return this.each(nE)}function rE(e){var t=typeof e=="function"?e:og(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function sE(){return null}function iE(e,t){var n=typeof e=="function"?e:og(e),o=t==null?sE:typeof t=="function"?t:yu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function aE(){var e=this.parentNode;e&&e.removeChild(this)}function lE(){return this.each(aE)}function uE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dE(e){return this.select(e?cE:uE)}function fE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function hE(e){return function(t){e.call(this,t,this.__data__)}}function pE(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function gE(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function mE(e,t,n){return function(){var o=this.__on,r,s=hE(t);if(o){for(var i=0,a=o.length;i<a;++i)if((r=o[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(r):this.__on=[r]}}function vE(e,t,n){var o=pE(e+""),r,s=o.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<s;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}return}for(a=t?mE:gE,r=0;r<s;++r)this.each(a(o[r],t,n));return this}function hg(e,t,n){var o=lg(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function yE(e,t){return function(){return hg(this,e,t)}}function bE(e,t){return function(){return hg(this,e,t.apply(this,arguments))}}function _E(e,t){return this.each((typeof t=="function"?bE:yE)(e,t))}function*xE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length,i;r<s;++r)(i=o[r])&&(yield i)}var pg=[null];function Pt(e,t){this._groups=e,this._parents=t}function cs(){return new Pt([[document.documentElement]],pg)}function wE(){return this}Pt.prototype=cs.prototype={constructor:Pt,select:Yk,selectAll:Jk,selectChild:n$,selectChildren:i$,filter:a$,data:h$,enter:l$,exit:g$,join:m$,merge:v$,selection:wE,order:y$,sort:b$,call:x$,nodes:w$,node:k$,size:$$,empty:E$,each:S$,attr:P$,style:R$,property:L$,classed:Z$,text:q$,html:Q$,raise:tE,lower:oE,append:rE,insert:iE,remove:lE,clone:dE,datum:fE,on:vE,dispatch:_E,[Symbol.iterator]:xE};function Ln(e){return typeof e=="string"?new Pt([[document.querySelector(e)]],[document.documentElement]):new Pt([[e]],pg)}function kE(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pn(e,t){if(e=kE(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const yl={capture:!0,passive:!1};function bl(e){e.preventDefault(),e.stopImmediatePropagation()}function $E(e){var t=e.document.documentElement,n=Ln(e).on("dragstart.drag",bl,yl);"onselectstart"in t?n.on("selectstart.drag",bl,yl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function EE(e,t){var n=e.document.documentElement,o=Ln(e).on("dragstart.drag",null);t&&(o.on("click.drag",bl,yl),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function _u(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gg(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function ds(){}var Yr=.7,xi=1/Yr,Mo="\\s*([+-]?\\d+)\\s*",qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SE=/^#([0-9a-f]{3,8})$/,CE=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),NE=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),IE=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${qr}\\)$`),TE=new RegExp(`^rgba\\(${sn},${sn},${sn},${qr}\\)$`),AE=new RegExp(`^hsl\\(${qr},${sn},${sn}\\)$`),DE=new RegExp(`^hsla\\(${qr},${sn},${sn},${qr}\\)$`),ud={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_u(ds,Kr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cd,formatHex:cd,formatHex8:PE,formatHsl:OE,formatRgb:dd,toString:dd});function cd(){return this.rgb().formatHex()}function PE(){return this.rgb().formatHex8()}function OE(){return mg(this).formatHsl()}function dd(){return this.rgb().formatRgb()}function Kr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=SE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fd(t):n===3?new Nt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Cs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Cs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CE.exec(e))?new Nt(t[1],t[2],t[3],1):(t=NE.exec(e))?new Nt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IE.exec(e))?Cs(t[1],t[2],t[3],t[4]):(t=TE.exec(e))?Cs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=AE.exec(e))?gd(t[1],t[2]/100,t[3]/100,1):(t=DE.exec(e))?gd(t[1],t[2]/100,t[3]/100,t[4]):ud.hasOwnProperty(e)?fd(ud[e]):e==="transparent"?new Nt(NaN,NaN,NaN,0):null}function fd(e){return new Nt(e>>16&255,e>>8&255,e&255,1)}function Cs(e,t,n,o){return o<=0&&(e=t=n=NaN),new Nt(e,t,n,o)}function ME(e){return e instanceof ds||(e=Kr(e)),e?(e=e.rgb(),new Nt(e.r,e.g,e.b,e.opacity)):new Nt}function _l(e,t,n,o){return arguments.length===1?ME(e):new Nt(e,t,n,o??1)}function Nt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}_u(Nt,_l,gg(ds,{brighter(e){return e=e==null?xi:Math.pow(xi,e),new Nt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yr:Math.pow(Yr,e),new Nt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nt(co(this.r),co(this.g),co(this.b),wi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hd,formatHex:hd,formatHex8:zE,formatRgb:pd,toString:pd}));function hd(){return`#${ro(this.r)}${ro(this.g)}${ro(this.b)}`}function zE(){return`#${ro(this.r)}${ro(this.g)}${ro(this.b)}${ro((isNaN(this.opacity)?1:this.opacity)*255)}`}function pd(){const e=wi(this.opacity);return`${e===1?"rgb(":"rgba("}${co(this.r)}, ${co(this.g)}, ${co(this.b)}${e===1?")":`, ${e})`}`}function wi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function co(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ro(e){return e=co(e),(e<16?"0":"")+e.toString(16)}function gd(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ht(e,t,n,o)}function mg(e){if(e instanceof Ht)return new Ht(e.h,e.s,e.l,e.opacity);if(e instanceof ds||(e=Kr(e)),!e)return new Ht;if(e instanceof Ht)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),s=Math.max(t,n,o),i=NaN,a=s-r,l=(s+r)/2;return a?(t===s?i=(n-o)/a+(n<o)*6:n===s?i=(o-t)/a+2:i=(t-n)/a+4,a/=l<.5?s+r:2-s-r,i*=60):a=l>0&&l<1?0:i,new Ht(i,a,l,e.opacity)}function RE(e,t,n,o){return arguments.length===1?mg(e):new Ht(e,t,n,o??1)}function Ht(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}_u(Ht,RE,gg(ds,{brighter(e){return e=e==null?xi:Math.pow(xi,e),new Ht(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yr:Math.pow(Yr,e),new Ht(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Nt(Oa(e>=240?e-240:e+120,r,o),Oa(e,r,o),Oa(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Ht(md(this.h),Ns(this.s),Ns(this.l),wi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wi(this.opacity);return`${e===1?"hsl(":"hsla("}${md(this.h)}, ${Ns(this.s)*100}%, ${Ns(this.l)*100}%${e===1?")":`, ${e})`}`}}));function md(e){return e=(e||0)%360,e<0?e+360:e}function Ns(e){return Math.max(0,Math.min(1,e||0))}function Oa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vg=e=>()=>e;function VE(e,t){return function(n){return e+n*t}}function HE(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function FE(e){return(e=+e)==1?yg:function(t,n){return n-t?HE(t,n,e):vg(isNaN(t)?n:t)}}function yg(e,t){var n=t-e;return n?VE(e,n):vg(isNaN(e)?t:e)}const vd=(function e(t){var n=FE(t);function o(r,s){var i=n((r=_l(r)).r,(s=_l(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),u=yg(r.opacity,s.opacity);return function(c){return r.r=i(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return o.gamma=e,o})(1);function Rn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var xl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ma=new RegExp(xl.source,"g");function LE(e){return function(){return e}}function BE(e){return function(t){return e(t)+""}}function jE(e,t){var n=xl.lastIndex=Ma.lastIndex=0,o,r,s,i=-1,a=[],l=[];for(e=e+"",t=t+"";(o=xl.exec(e))&&(r=Ma.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(o=o[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,l.push({i,x:Rn(o,r)})),n=Ma.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?l[0]?BE(l[0].x):LE(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}var yd=180/Math.PI,wl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bg(e,t,n,o,r,s){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,l/=a),e*o<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*yd,skewX:Math.atan(l)*yd,scaleX:i,scaleY:a}}var Is;function UE(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?wl:bg(t.a,t.b,t.c,t.d,t.e,t.f)}function ZE(e){return e==null||(Is||(Is=document.createElementNS("http://www.w3.org/2000/svg","g")),Is.setAttribute("transform",e),!(e=Is.transform.baseVal.consolidate()))?wl:(e=e.matrix,bg(e.a,e.b,e.c,e.d,e.e,e.f))}function _g(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,p){if(u!==d||c!==f){var y=h.push("translate(",null,t,null,n);p.push({i:y-4,x:Rn(u,d)},{i:y-2,x:Rn(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function i(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(r(d)+"rotate(",null,o)-2,x:Rn(u,c)})):c&&d.push(r(d)+"rotate("+c+o)}function a(u,c,d,f){u!==c?f.push({i:d.push(r(d)+"skewX(",null,o)-2,x:Rn(u,c)}):c&&d.push(r(d)+"skewX("+c+o)}function l(u,c,d,f,h,p){if(u!==d||c!==f){var y=h.push(r(h)+"scale(",null,",",null,")");p.push({i:y-4,x:Rn(u,d)},{i:y-2,x:Rn(c,f)})}else(d!==1||f!==1)&&h.push(r(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),i(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var p=-1,y=f.length,$;++p<y;)d[($=f[p]).i]=$.x(h);return d.join("")}}}var WE=_g(UE,"px, ","px)","deg)"),GE=_g(ZE,", ",")",")"),YE=1e-12;function bd(e){return((e=Math.exp(e))+1/e)/2}function qE(e){return((e=Math.exp(e))-1/e)/2}function KE(e){return((e=Math.exp(2*e))-1)/(e+1)}const XE=(function e(t,n,o){function r(s,i){var a=s[0],l=s[1],u=s[2],c=i[0],d=i[1],f=i[2],h=c-a,p=d-l,y=h*h+p*p,$,b;if(y<YE)b=Math.log(f/u)/t,$=function(U){return[a+U*h,l+U*p,u*Math.exp(t*U*b)]};else{var C=Math.sqrt(y),w=(f*f-u*u+o*y)/(2*u*n*C),D=(f*f-u*u-o*y)/(2*f*n*C),q=Math.log(Math.sqrt(w*w+1)-w),Y=Math.log(Math.sqrt(D*D+1)-D);b=(Y-q)/t,$=function(U){var R=U*b,G=bd(q),j=u/(n*C)*(G*KE(t*R+q)-qE(q));return[a+j*h,l+j*p,u*G/bd(t*R+q)]}}return $.duration=b*1e3*t/Math.SQRT2,$}return r.rho=function(s){var i=Math.max(.001,+s),a=i*i,l=a*a;return e(i,a,l)},r})(Math.SQRT2,2,4);var Wo=0,hr=0,rr=0,xg=1e3,ki,pr,$i=0,mo=0,ra=0,Xr=typeof performance=="object"&&performance.now?performance:Date,wg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function xu(){return mo||(wg(JE),mo=Xr.now()+ra)}function JE(){mo=0}function Ei(){this._call=this._time=this._next=null}Ei.prototype=kg.prototype={constructor:Ei,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?xu():+n)+(t==null?0:+t),!this._next&&pr!==this&&(pr?pr._next=this:ki=this,pr=this),this._call=e,this._time=n,kl()},stop:function(){this._call&&(this._call=null,this._time=1/0,kl())}};function kg(e,t,n){var o=new Ei;return o.restart(e,t,n),o}function QE(){xu(),++Wo;for(var e=ki,t;e;)(t=mo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Wo}function _d(){mo=($i=Xr.now())+ra,Wo=hr=0;try{QE()}finally{Wo=0,tS(),mo=0}}function eS(){var e=Xr.now(),t=e-$i;t>xg&&(ra-=t,$i=e)}function tS(){for(var e,t=ki,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ki=n);pr=e,kl(o)}function kl(e){if(!Wo){hr&&(hr=clearTimeout(hr));var t=e-mo;t>24?(e<1/0&&(hr=setTimeout(_d,e-Xr.now()-ra)),rr&&(rr=clearInterval(rr))):(rr||($i=Xr.now(),rr=setInterval(eS,xg)),Wo=1,wg(_d))}}function xd(e,t,n){var o=new Ei;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var nS=vu("start","end","cancel","interrupt"),oS=[],$g=0,wd=1,$l=2,Ws=3,kd=4,El=5,Gs=6;function sa(e,t,n,o,r,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;rS(e,n,{name:t,index:o,group:r,on:nS,tween:oS,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:$g})}function wu(e,t){var n=Wt(e,t);if(n.state>$g)throw new Error("too late; already scheduled");return n}function un(e,t){var n=Wt(e,t);if(n.state>Ws)throw new Error("too late; already running");return n}function Wt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function rS(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=kg(s,0,n.time);function s(u){n.state=wd,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,f,h;if(n.state!==wd)return l();for(c in o)if(h=o[c],h.name===n.name){if(h.state===Ws)return xd(i);h.state===kd?(h.state=Gs,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[c]):+c<t&&(h.state=Gs,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[c])}if(xd(function(){n.state===Ws&&(n.state=kd,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=$l,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$l){for(n.state=Ws,r=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=h);r.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=El,1),d=-1,f=r.length;++d<f;)r[d].call(e,c);n.state===El&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Gs,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Ys(e,t){var n=e.__transition,o,r,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){s=!1;continue}r=o.state>$l&&o.state<El,o.state=Gs,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}s&&delete e.__transition}}function sS(e){return this.each(function(){Ys(this,e)})}function iS(e,t){var n,o;return function(){var r=un(this,e),s=r.tween;if(s!==n){o=n=s;for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}r.tween=o}}function aS(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var s=un(this,e),i=s.tween;if(i!==o){r=(o=i).slice();for(var a={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=a;break}l===u&&r.push(a)}s.tween=r}}function lS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Wt(this.node(),n).tween,r=0,s=o.length,i;r<s;++r)if((i=o[r]).name===e)return i.value;return null}return this.each((t==null?iS:aS)(n,e,t))}function ku(e,t,n){var o=e._id;return e.each(function(){var r=un(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Wt(r,o).value[t]}}function Eg(e,t){var n;return(typeof t=="number"?Rn:t instanceof Kr?vd:(n=Kr(t))?(t=n,vd):jE)(e,t)}function uS(e){return function(){this.removeAttribute(e)}}function cS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dS(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttribute(e);return i===r?null:i===o?s:s=t(o=i,n)}}function fS(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===o?s:s=t(o=i,n)}}function hS(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function pS(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function gS(e,t){var n=oa(e),o=n==="transform"?GE:Eg;return this.attrTween(e,typeof t=="function"?(n.local?pS:hS)(n,o,ku(this,"attr."+e,t)):t==null?(n.local?cS:uS)(n):(n.local?fS:dS)(n,o,t))}function mS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function vS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function yS(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&vS(e,s)),n}return r._value=t,r}function bS(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&mS(e,s)),n}return r._value=t,r}function _S(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=oa(e);return this.tween(n,(o.local?yS:bS)(o,t))}function xS(e,t){return function(){wu(this,e).delay=+t.apply(this,arguments)}}function wS(e,t){return t=+t,function(){wu(this,e).delay=t}}function kS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xS:wS)(t,e)):Wt(this.node(),t).delay}function $S(e,t){return function(){un(this,e).duration=+t.apply(this,arguments)}}function ES(e,t){return t=+t,function(){un(this,e).duration=t}}function SS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$S:ES)(t,e)):Wt(this.node(),t).duration}function CS(e,t){if(typeof t!="function")throw new Error;return function(){un(this,e).ease=t}}function NS(e){var t=this._id;return arguments.length?this.each(CS(t,e)):Wt(this.node(),t).ease}function IS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;un(this,e).ease=n}}function TS(e){if(typeof e!="function")throw new Error;return this.each(IS(this._id,e))}function AS(e){typeof e!="function"&&(e=sg(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Sn(o,this._parents,this._name,this._id)}function DS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),i=new Array(o),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=i[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<o;++a)i[a]=t[a];return new Sn(i,this._parents,this._name,this._id)}function PS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function OS(e,t,n){var o,r,s=PS(t)?wu:un;return function(){var i=s(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}function MS(e,t){var n=this._id;return arguments.length<2?Wt(this.node(),n).on.on(e):this.each(OS(n,e,t))}function zS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function RS(){return this.on("end.remove",zS(this._id))}function VS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=yu(e));for(var o=this._groups,r=o.length,s=new Array(r),i=0;i<r;++i)for(var a=o[i],l=a.length,u=s[i]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,sa(u[f],t,n,f,u,Wt(c,n)));return new Sn(s,this._parents,t,n)}function HS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rg(e));for(var o=this._groups,r=o.length,s=[],i=[],a=0;a<r;++a)for(var l=o[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,p=Wt(c,n),y=0,$=f.length;y<$;++y)(h=f[y])&&sa(h,t,n,y,f,p);s.push(f),i.push(c)}return new Sn(s,i,t,n)}var FS=cs.prototype.constructor;function LS(){return new FS(this._groups,this._parents)}function BS(e,t){var n,o,r;return function(){var s=Zo(this,e),i=(this.style.removeProperty(e),Zo(this,e));return s===i?null:s===n&&i===o?r:r=t(n=s,o=i)}}function Sg(e){return function(){this.style.removeProperty(e)}}function jS(e,t,n){var o,r=n+"",s;return function(){var i=Zo(this,e);return i===r?null:i===o?s:s=t(o=i,n)}}function US(e,t,n){var o,r,s;return function(){var i=Zo(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Zo(this,e))),i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a))}}function ZS(e,t){var n,o,r,s="style."+t,i="end."+s,a;return function(){var l=un(this,e),u=l.on,c=l.value[s]==null?a||(a=Sg(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(i,r=c),l.on=o}}function WS(e,t,n){var o=(e+="")=="transform"?WE:Eg;return t==null?this.styleTween(e,BS(e,o)).on("end.style."+e,Sg(e)):typeof t=="function"?this.styleTween(e,US(e,o,ku(this,"style."+e,t))).each(ZS(this._id,e)):this.styleTween(e,jS(e,o,t),n).on("end.style."+e,null)}function GS(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function YS(e,t,n){var o,r;function s(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&GS(e,i,n)),o}return s._value=t,s}function qS(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,YS(e,t,n??""))}function KS(e){return function(){this.textContent=e}}function XS(e){return function(){var t=e(this);this.textContent=t??""}}function JS(e){return this.tween("text",typeof e=="function"?XS(ku(this,"text",e)):KS(e==null?"":e+""))}function QS(e){return function(t){this.textContent=e.call(this,t)}}function eC(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&QS(r)),t}return o._value=e,o}function tC(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,eC(e))}function nC(){for(var e=this._name,t=this._id,n=Cg(),o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)if(l=i[u]){var c=Wt(l,t);sa(l,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Sn(o,this._parents,e,n)}function oC(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(s,i){var a={value:i},l={value:function(){--r===0&&s()}};n.each(function(){var u=un(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),r===0&&s()})}var rC=0;function Sn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Cg(){return++rC}var fn=cs.prototype;Sn.prototype={constructor:Sn,select:VS,selectAll:HS,selectChild:fn.selectChild,selectChildren:fn.selectChildren,filter:AS,merge:DS,selection:LS,transition:nC,call:fn.call,nodes:fn.nodes,node:fn.node,size:fn.size,empty:fn.empty,each:fn.each,on:MS,attr:gS,attrTween:_S,style:WS,styleTween:qS,text:JS,textTween:tC,remove:RS,tween:lS,delay:kS,duration:SS,ease:NS,easeVarying:TS,end:oC,[Symbol.iterator]:fn[Symbol.iterator]};function sC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var iC={time:null,delay:0,duration:250,ease:sC};function aC(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function lC(e){var t,n;e instanceof Sn?(t=e._id,e=e._name):(t=Cg(),(n=iC).time=xu(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&sa(l,e,t,u,i,n||aC(l,t));return new Sn(o,this._parents,e,t)}cs.prototype.interrupt=sS;cs.prototype.transition=lC;const Ts=e=>()=>e;function uC(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function bn(e,t,n){this.k=e,this.x=t,this.y=n}bn.prototype={constructor:bn,scale:function(e){return e===1?this:new bn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $u=new bn(1,0,0);bn.prototype;function za(e){e.stopImmediatePropagation()}function sr(e){e.preventDefault(),e.stopImmediatePropagation()}function cC(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function dC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function $d(){return this.__zoom||$u}function fC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function hC(){return navigator.maxTouchPoints||"ontouchstart"in this}function pC(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function gC(){var e=cC,t=dC,n=pC,o=fC,r=hC,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=XE,u=vu("start","zoom","end"),c,d,f,h=500,p=150,y=0,$=10;function b(g){g.property("__zoom",$d).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",G).on("dblclick.zoom",j).filter(r).on("touchstart.zoom",V).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(g,N,S,z){var H=g.selection?g.selection():g;H.property("__zoom",$d),g!==H?q(g,N,S,z):H.interrupt().each(function(){Y(this,arguments).event(z).start().zoom(null,typeof N=="function"?N.apply(this,arguments):N).end()})},b.scaleBy=function(g,N,S,z){b.scaleTo(g,function(){var H=this.__zoom.k,X=typeof N=="function"?N.apply(this,arguments):N;return H*X},S,z)},b.scaleTo=function(g,N,S,z){b.transform(g,function(){var H=t.apply(this,arguments),X=this.__zoom,W=S==null?D(H):typeof S=="function"?S.apply(this,arguments):S,oe=X.invert(W),ce=typeof N=="function"?N.apply(this,arguments):N;return n(w(C(X,ce),W,oe),H,i)},S,z)},b.translateBy=function(g,N,S,z){b.transform(g,function(){return n(this.__zoom.translate(typeof N=="function"?N.apply(this,arguments):N,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),i)},null,z)},b.translateTo=function(g,N,S,z,H){b.transform(g,function(){var X=t.apply(this,arguments),W=this.__zoom,oe=z==null?D(X):typeof z=="function"?z.apply(this,arguments):z;return n($u.translate(oe[0],oe[1]).scale(W.k).translate(typeof N=="function"?-N.apply(this,arguments):-N,typeof S=="function"?-S.apply(this,arguments):-S),X,i)},z,H)};function C(g,N){return N=Math.max(s[0],Math.min(s[1],N)),N===g.k?g:new bn(N,g.x,g.y)}function w(g,N,S){var z=N[0]-S[0]*g.k,H=N[1]-S[1]*g.k;return z===g.x&&H===g.y?g:new bn(g.k,z,H)}function D(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function q(g,N,S,z){g.on("start.zoom",function(){Y(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){Y(this,arguments).event(z).end()}).tween("zoom",function(){var H=this,X=arguments,W=Y(H,X).event(z),oe=t.apply(H,X),ce=S==null?D(oe):typeof S=="function"?S.apply(H,X):S,pe=Math.max(oe[1][0]-oe[0][0],oe[1][1]-oe[0][1]),ie=H.__zoom,he=typeof N=="function"?N.apply(H,X):N,fe=l(ie.invert(ce).concat(pe/ie.k),he.invert(ce).concat(pe/he.k));return function(Z){if(Z===1)Z=he;else{var te=fe(Z),ne=pe/te[2];Z=new bn(ne,ce[0]-te[0]*ne,ce[1]-te[1]*ne)}W.zoom(null,Z)}})}function Y(g,N,S){return!S&&g.__zooming||new U(g,N)}function U(g,N){this.that=g,this.args=N,this.active=0,this.sourceEvent=null,this.extent=t.apply(g,N),this.taps=0}U.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,N){return this.mouse&&g!=="mouse"&&(this.mouse[1]=N.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=N.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=N.invert(this.touch1[0])),this.that.__zoom=N,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var N=Ln(this.that).datum();u.call(g,this.that,new uC(g,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:u}),N)}};function R(g,...N){if(!e.apply(this,arguments))return;var S=Y(this,N).event(g),z=this.__zoom,H=Math.max(s[0],Math.min(s[1],z.k*Math.pow(2,o.apply(this,arguments)))),X=Pn(g);if(S.wheel)(S.mouse[0][0]!==X[0]||S.mouse[0][1]!==X[1])&&(S.mouse[1]=z.invert(S.mouse[0]=X)),clearTimeout(S.wheel);else{if(z.k===H)return;S.mouse=[X,z.invert(X)],Ys(this),S.start()}sr(g),S.wheel=setTimeout(W,p),S.zoom("mouse",n(w(C(z,H),S.mouse[0],S.mouse[1]),S.extent,i));function W(){S.wheel=null,S.end()}}function G(g,...N){if(f||!e.apply(this,arguments))return;var S=g.currentTarget,z=Y(this,N,!0).event(g),H=Ln(g.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",pe,!0),X=Pn(g,S),W=g.clientX,oe=g.clientY;$E(g.view),za(g),z.mouse=[X,this.__zoom.invert(X)],Ys(this),z.start();function ce(ie){if(sr(ie),!z.moved){var he=ie.clientX-W,fe=ie.clientY-oe;z.moved=he*he+fe*fe>y}z.event(ie).zoom("mouse",n(w(z.that.__zoom,z.mouse[0]=Pn(ie,S),z.mouse[1]),z.extent,i))}function pe(ie){H.on("mousemove.zoom mouseup.zoom",null),EE(ie.view,z.moved),sr(ie),z.event(ie).end()}}function j(g,...N){if(e.apply(this,arguments)){var S=this.__zoom,z=Pn(g.changedTouches?g.changedTouches[0]:g,this),H=S.invert(z),X=S.k*(g.shiftKey?.5:2),W=n(w(C(S,X),z,H),t.apply(this,N),i);sr(g),a>0?Ln(this).transition().duration(a).call(q,W,z,g):Ln(this).call(b.transform,W,z,g)}}function V(g,...N){if(e.apply(this,arguments)){var S=g.touches,z=S.length,H=Y(this,N,g.changedTouches.length===z).event(g),X,W,oe,ce;for(za(g),W=0;W<z;++W)oe=S[W],ce=Pn(oe,this),ce=[ce,this.__zoom.invert(ce),oe.identifier],H.touch0?!H.touch1&&H.touch0[2]!==ce[2]&&(H.touch1=ce,H.taps=0):(H.touch0=ce,X=!0,H.taps=1+!!c);c&&(c=clearTimeout(c)),X&&(H.taps<2&&(d=ce[0],c=setTimeout(function(){c=null},h)),Ys(this),H.start())}}function A(g,...N){if(this.__zooming){var S=Y(this,N).event(g),z=g.changedTouches,H=z.length,X,W,oe,ce;for(sr(g),X=0;X<H;++X)W=z[X],oe=Pn(W,this),S.touch0&&S.touch0[2]===W.identifier?S.touch0[0]=oe:S.touch1&&S.touch1[2]===W.identifier&&(S.touch1[0]=oe);if(W=S.that.__zoom,S.touch1){var pe=S.touch0[0],ie=S.touch0[1],he=S.touch1[0],fe=S.touch1[1],Z=(Z=he[0]-pe[0])*Z+(Z=he[1]-pe[1])*Z,te=(te=fe[0]-ie[0])*te+(te=fe[1]-ie[1])*te;W=C(W,Math.sqrt(Z/te)),oe=[(pe[0]+he[0])/2,(pe[1]+he[1])/2],ce=[(ie[0]+fe[0])/2,(ie[1]+fe[1])/2]}else if(S.touch0)oe=S.touch0[0],ce=S.touch0[1];else return;S.zoom("touch",n(w(W,oe,ce),S.extent,i))}}function B(g,...N){if(this.__zooming){var S=Y(this,N).event(g),z=g.changedTouches,H=z.length,X,W;for(za(g),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),X=0;X<H;++X)W=z[X],S.touch0&&S.touch0[2]===W.identifier?delete S.touch0:S.touch1&&S.touch1[2]===W.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(W=Pn(W,this),Math.hypot(d[0]-W[0],d[1]-W[1])<$)){var oe=Ln(this).on("dblclick.zoom");oe&&oe.apply(this,arguments)}}}return b.wheelDelta=function(g){return arguments.length?(o=typeof g=="function"?g:Ts(+g),b):o},b.filter=function(g){return arguments.length?(e=typeof g=="function"?g:Ts(!!g),b):e},b.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:Ts(!!g),b):r},b.extent=function(g){return arguments.length?(t=typeof g=="function"?g:Ts([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),b):t},b.scaleExtent=function(g){return arguments.length?(s[0]=+g[0],s[1]=+g[1],b):[s[0],s[1]]},b.translateExtent=function(g){return arguments.length?(i[0][0]=+g[0][0],i[1][0]=+g[1][0],i[0][1]=+g[0][1],i[1][1]=+g[1][1],b):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},b.constrain=function(g){return arguments.length?(n=g,b):n},b.duration=function(g){return arguments.length?(a=+g,b):a},b.interpolate=function(g){return arguments.length?(l=g,b):l},b.on=function(){var g=u.on.apply(u,arguments);return g===u?b:g},b.clickDistance=function(g){return arguments.length?(y=(g=+g)*g,b):Math.sqrt(y)},b.tapDistance=function(g){return arguments.length?($=+g,b):$},b}const Ng=Symbol("MiniMapSlots"),mC=["id","x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],vC={name:"MiniMapNode",compatConfig:{MODE:3},inheritAttrs:!1},yC=Be({...vC,props:{id:{},type:{},selected:{type:Boolean},dragging:{type:Boolean},position:{},dimensions:{},borderRadius:{},color:{},shapeRendering:{},strokeColor:{},strokeWidth:{},hidden:{type:Boolean}},emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(e,{emit:t}){const n=e,o=ht(Ng),r=eu(),s=Le(()=>r.style??{});function i(d){t("click",d)}function a(d){t("dblclick",d)}function l(d){t("mouseenter",d)}function u(d){t("mousemove",d)}function c(d){t("mouseleave",d)}return(d,f)=>!d.hidden&&d.dimensions.width!==0&&d.dimensions.height!==0?(M(),L($e,{key:0},[ae(o)[`node-${n.type}`]?(M(),qe(Hn(ae(o)[`node-${n.type}`]),Ae(zr({key:0},{...n,...d.$attrs})),null,16)):(M(),L("rect",zr({key:1,id:d.id},d.$attrs,{class:["vue-flow__minimap-node",{selected:d.selected,dragging:d.dragging}],x:d.position.x,y:d.position.y,rx:d.borderRadius,ry:d.borderRadius,width:d.dimensions.width,height:d.dimensions.height,fill:d.color||s.value.background||s.value.backgroundColor,stroke:d.strokeColor,"stroke-width":d.strokeWidth,"shape-rendering":d.shapeRendering,onClick:i,onDblclick:a,onMouseenter:l,onMousemove:u,onMouseleave:c}),null,16,mC))],64)):me("",!0)}}),bC=["width","height","viewBox","aria-labelledby"],_C=["id"],xC=["d","fill","stroke","stroke-width"],wC={name:"MiniMap",compatConfig:{MODE:3}},kC=Be({...wC,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:{},height:{},ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:1},offsetScale:{default:5},maskBorderRadius:{default:0}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=yh(),o=eu(),r=200,s=150,{id:i,edges:a,viewport:l,translateExtent:u,dimensions:c,emits:d,d3Selection:f,d3Zoom:h,getNodesInitialized:p}=Ge(),y=ue();Bt(Ng,n);const $=Le(()=>{var H;return e.width??((H=o.style)==null?void 0:H.width)??r}),b=Le(()=>{var H;return e.height??((H=o.style)==null?void 0:H.height)??s}),C=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",w=Q(()=>typeof e.nodeColor=="string"?()=>e.nodeColor:e.nodeColor),D=Q(()=>typeof e.nodeStrokeColor=="string"?()=>e.nodeStrokeColor:e.nodeStrokeColor),q=Q(()=>typeof e.nodeClassName=="string"?()=>e.nodeClassName:typeof e.nodeClassName=="function"?e.nodeClassName:()=>""),Y=Q(()=>hu(p.value.filter(H=>!H.hidden))),U=Q(()=>({x:-l.value.x/l.value.zoom,y:-l.value.y/l.value.zoom,width:c.value.width/l.value.zoom,height:c.value.height/l.value.zoom})),R=Q(()=>p.value&&p.value.length?tx(Y.value,U.value):U.value),G=Q(()=>{const H=R.value.width/$.value,X=R.value.height/b.value;return Math.max(H,X)}),j=Q(()=>{const H=G.value*$.value,X=G.value*b.value,W=e.offsetScale*G.value;return{offset:W,x:R.value.x-(H-R.value.width)/2-W,y:R.value.y-(X-R.value.height)/2-W,width:H+W*2,height:X+W*2}}),V=Q(()=>!j.value.x||!j.value.y?"":`
    M${j.value.x-j.value.offset},${j.value.y-j.value.offset}
    h${j.value.width+j.value.offset*2}
    v${j.value.height+j.value.offset*2}
    h${-j.value.width-j.value.offset*2}z
    M${U.value.x+e.maskBorderRadius},${U.value.y}
    h${U.value.width-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},${e.maskBorderRadius}
    v${U.value.height-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},${e.maskBorderRadius}
    h${-(U.value.width-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},-${e.maskBorderRadius}
    v${-(U.value.height-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},-${e.maskBorderRadius}z`);q0(H=>{if(y.value){const X=Ln(y.value),W=pe=>{if(pe.sourceEvent.type!=="wheel"||!f.value||!h.value)return;const ie=pe.sourceEvent.ctrlKey&&Gr()?10:1,he=-pe.sourceEvent.deltaY*(pe.sourceEvent.deltaMode===1?.05:pe.sourceEvent.deltaMode?1:.002)*e.zoomStep,fe=l.value.zoom*2**(he*ie);h.value.scaleTo(f.value,fe)},oe=pe=>{if(pe.sourceEvent.type!=="mousemove"||!f.value||!h.value)return;const ie=G.value*Math.max(1,l.value.zoom)*(e.inversePan?-1:1),he={x:l.value.x-pe.sourceEvent.movementX*ie,y:l.value.y-pe.sourceEvent.movementY*ie},fe=[[0,0],[c.value.width,c.value.height]],Z=$u.translate(he.x,he.y).scale(l.value.zoom),te=h.value.constrain()(Z,fe,u.value);h.value.transform(f.value,te)},ce=gC().wheelDelta(pe=>hl(pe)*(e.zoomStep/10)).on("zoom",e.pannable?oe:()=>{}).on("zoom.wheel",e.zoomable?W:()=>{});X.call(ce),H(()=>{X.on("zoom",null)})}},{flush:"post"});function A(H){const[X,W]=Pn(H);t("click",{event:H,position:{x:X,y:W}})}function B(H,X){const W={event:H,node:X,connectedEdges:to([X],a.value)};d.miniMapNodeClick(W),t("nodeClick",W)}function g(H,X){const W={event:H,node:X,connectedEdges:to([X],a.value)};d.miniMapNodeDoubleClick(W),t("nodeDblclick",W)}function N(H,X){const W={event:H,node:X,connectedEdges:to([X],a.value)};d.miniMapNodeMouseEnter(W),t("nodeMouseenter",W)}function S(H,X){const W={event:H,node:X,connectedEdges:to([X],a.value)};d.miniMapNodeMouseMove(W),t("nodeMousemove",W)}function z(H,X){const W={event:H,node:X,connectedEdges:to([X],a.value)};d.miniMapNodeMouseLeave(W),t("nodeMouseleave",W)}return(H,X)=>(M(),qe(ae(eg),{position:H.position,class:Ze(["vue-flow__minimap",{pannable:H.pannable,zoomable:H.zoomable}])},{default:Ee(()=>[(M(),L("svg",{ref_key:"el",ref:y,width:$.value,height:b.value,viewBox:[j.value.x,j.value.y,j.value.width,j.value.height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${ae(i)}`,onClick:A},[H.ariaLabel?(M(),L("title",{key:0,id:`vue-flow__minimap-${ae(i)}`},ge(H.ariaLabel),9,_C)):me("",!0),(M(!0),L($e,null,Ue(ae(p),W=>(M(),qe(yC,{id:W.id,key:W.id,f:"",position:W.computedPosition,dimensions:W.dimensions,selected:W.selected,dragging:W.dragging,style:Ke(W.style),class:Ze(q.value(W)),color:w.value(W),"border-radius":H.nodeBorderRadius,"stroke-color":D.value(W),"stroke-width":H.nodeStrokeWidth,"shape-rendering":ae(C),type:W.type,hidden:W.hidden,onClick:oe=>B(oe,W),onDblclick:oe=>g(oe,W),onMouseenter:oe=>N(oe,W),onMousemove:oe=>S(oe,W),onMouseleave:oe=>z(oe,W)},null,8,["id","position","dimensions","selected","dragging","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","hidden","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),x("path",{class:"vue-flow__minimap-mask",d:V.value,fill:H.maskColor,stroke:H.maskStrokeColor,"stroke-width":H.maskStrokeWidth,"fill-rule":"evenodd"},null,8,xC)],8,bC))]),_:1},8,["position","class"]))}}),$C="modulepreload",EC=function(e){return"/"+e},Ed={},Pe=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");r=l(n.map(u=>{if(u=EC(u),u in Ed)return;Ed[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":$C,c||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function SC(e,t){const n={},o={};e.forEach(a=>{n[a.id]=[],o[a.id]=0}),t.filter(a=>a.edgeType==="data"||!a.sourceHandle?.startsWith("exec-")&&!a.targetHandle?.startsWith("exec-")).forEach(a=>{n[a.source].push(a.target),o[a.target]++});const s=[],i=[];for(Object.keys(o).forEach(a=>{o[a]===0&&s.push(a)});s.length>0;){const a=s.shift(),l=e.find(u=>u.id===a);l&&i.push(l),n[a].forEach(u=>{o[u]--,o[u]===0&&s.push(u)})}return i}class CC{constructor(t=null,n=null){this.executionResults=new Map,this.executingNodes=new Set,this.executedNodes=new Set,this.errorNodes=new Set,this.executeTimers=new Map,this.apiConfig=null,this.globalVariables={},this.nodeData=new Map,this.onStateChange=null,this.executeNodeFn=t,this.extractOutputsFn=n}setConfig(t,n={}){this.apiConfig=t,this.globalVariables=n}setNodeData(t,n){this.nodeData.set(t,n)}getNodeData(t){return this.nodeData.get(t)||{}}clearExecutionResults(){this.executionResults.clear(),this.executedNodes.clear(),this.executingNodes.clear(),this.errorNodes.clear();for(const t of this.executeTimers.values())clearTimeout(t);this.executeTimers.clear(),this._notifyStateChange()}async executeNode(t,n={}){const o=this.getNodeData(t.id);this.executingNodes.add(t.id),this.errorNodes.delete(t.id),this._notifyStateChange();try{const r={apiConfig:this.apiConfig,globalVariables:this.globalVariables,nodeId:t.id,updateNodeData:i=>{const a=this.getNodeData(t.id);this.setNodeData(t.id,{...a,...i})}},s=await this.executeNodeFn(t,o,n,r);return this.executingNodes.delete(t.id),this.executedNodes.add(t.id),this._notifyStateChange(),s}catch(r){throw this.executingNodes.delete(t.id),this.errorNodes.add(t.id),this._notifyStateChange(),console.error(`
 Execution Error`),console.error("".repeat(50)),console.error(`Node: ${t.data?.label||t.type} (${t.id})`),console.error(`Type: ${t.type}`),console.error(`Message: ${r.message}`),r.stack&&(console.error(`
Stack trace:`),console.error(r.stack)),console.error("".repeat(50)+`
`),r}}async executeFlow(t,n){this.clearExecutionResults();const o=SC(t,n),r=new Set(o.map(a=>a.id)),s=o.length+1;let i=0;for(;r.size>0&&i<s;){i++;let a=!1;for(const l of o){if(!r.has(l.id))continue;if(this._shouldSkipNode(l,n)){r.delete(l.id),a=!0;continue}if(this._hasPendingDependencies(l,n))continue;const u=this._gatherInputs(l,n);try{const c=await this.executeNode(l,u),d=this.extractOutputsFn?this.extractOutputsFn(l,c):c;this.executionResults.set(l.id,d)}catch(c){this.executionResults.set(l.id,{error:c.message}),this._notifyStateChange();return}r.delete(l.id),a=!0}if(!a)break}this._notifyStateChange()}async executeConnectedNodes(t,n,o,r=null){const s=o.filter(i=>i.source===t&&i.edgeType==="exec"&&(r===null||i.sourceHandle===r));if(s.length!==0)for(const i of s){const a=n.find(u=>u.id===i.target);if(!a)continue;const l=this._gatherInputs(a,o);try{const u=await this.executeNode(a,l);if(this.executionResults.set(a.id,u),a.type==="conditionalBranch"){const c=u?.branch;c&&await this.executeConnectedNodes(a.id,n,o,`exec-${c}`)}else a.type==="forEach"||a.type==="whileLoop"||await this.executeConnectedNodes(a.id,n,o)}catch(u){this.executionResults.set(a.id,{error:u.message})}}}async executeWhileLoop(t,n,o,r,s=1e3){let i=0,a=r;for(;a&&i<s&&(i++,await this.executeConnectedNodes(t,n,o,"exec-loop"),a=this.executionResults.get(t)?.condition??!1,!(i>=s)););await this.executeConnectedNodes(t,n,o,"exec-done")}async executeForEachLoop(t,n,o,r){const s=[];for(let i=0;i<r.length;i++){const a=r[i];this.executionResults.set(t,{currentItem:a,currentIndex:i,totalItems:r.length}),await this.executeConnectedNodes(t,n,o,"exec-loop"),s.push(a)}this.executionResults.set(t,{results:s}),await this.executeConnectedNodes(t,n,o,"exec-done")}getResult(t){return this.executionResults.get(t)}getAllResults(){return Object.fromEntries(this.executionResults)}isExecuting(t){return this.executingNodes.has(t)}hasExecuted(t){return this.executedNodes.has(t)}hasError(t){return this.errorNodes.has(t)}_gatherInputs(t,n){const o={},r=n.filter(s=>s.target===t.id&&s.edgeType==="data");for(const s of r){const i=this.executionResults.get(s.source);if(!i)continue;const a=i[s.sourceHandle];o[s.targetHandle]=a}return o}_hasPendingDependencies(t,n){const o=n.filter(r=>r.target!==t.id?!1:r.edgeType==="data"||!r.sourceHandle?.startsWith("exec-"));for(const r of o)if(!this.executionResults.get(r.source))return!0;return!1}_shouldSkipNode(t,n){return n.some(r=>r.target===t.id&&r.edgeType==="exec")}_notifyStateChange(){this.onStateChange&&this.onStateChange({executionResults:this.getAllResults(),executingNodes:Array.from(this.executingNodes),executedNodes:Array.from(this.executedNodes),errorNodes:Array.from(this.errorNodes)})}}let gr=null;async function NC(){if(gr)return gr;try{return gr=await(await fetch("/config/dataTypes.json")).json(),gr}catch{return Ig()}}function Ig(){return{types:{any:{label:"Any",color:"#3b82f6"},string:{label:"String",color:"#10b981"},number:{label:"Number",color:"#f59e0b"},integer:{label:"Integer",color:"#f97316"},float:{label:"Float",color:"#fb923c"},boolean:{label:"Boolean",color:"#8b5cf6"},array:{label:"Array",color:"#ec4899"},object:{label:"Object",color:"#06b6d4"},date:{label:"Date",color:"#14b8a6"},null:{label:"Null",color:"#6b7280"}},compatibility:{any:["any","string","number","integer","float","boolean","array","object","date","null"],string:["any","string"],number:["any","number","integer","float"],integer:["any","number","integer"],float:["any","number","float"],boolean:["any","boolean"],array:["any","array"],object:["any","object"],date:["any","date","string"],null:["any","null"]}}}function Si(e){return(gr||Ig()).types[e]?.color||"#3b82f6"}function Jr(e){return e===null||e===void 0?"null":typeof e=="string"?"string":typeof e=="boolean"?"boolean":Array.isArray(e)?"array":e instanceof Date?"date":typeof e=="object"?"object":typeof e=="number"?Number.isInteger(e)?"integer":"float":"any"}const IC=Object.assign({});let TC=class{constructor(){this.nodes=new Map,this.categories=new Map,this.methodCache=new Map}registerNode(t,n){this.nodes.set(t,n)}registerCategory(t,n){this.categories.set(t,n)}getNodeDefinition(t){const n=this.nodes.get(t);return n||null}getAllNodes(){return Array.from(this.nodes.values())}getNodesByCategory(t){return this.getAllNodes().filter(n=>n.category===t)}getAllCategories(){return Array.from(this.categories.values())}hasNode(t){return this.nodes.has(t)}async getNodeFunction(t,n="method"){const o=this.getNodeDefinition(t);if(!o)return null;const r=o[n];if(!r)return null;const s=`${t}:${n}`;if(this.methodCache.has(s))return this.methodCache.get(s);try{const[i,a]=r.split(":"),l=`../../${i}`,u=IC[l];if(!u)throw new Error(`Mdulo "${i}" no encontrado no registry`);const c=await u();if(!c[a])throw new Error(`Funo "${a}" no encontrada no mdulo "${i}"`);const d=c[a];return this.methodCache.set(s,d),d}catch{return null}}validateNodeConfig(t,n){const o=this.getNodeDefinition(t);if(!o)return{valid:!1,errors:[`Node type "${t}" no existe`]};const r=[],s=o.config||{};for(const[i,a]of Object.entries(s))if(a.required&&(n[i]===void 0||n[i]===null||n[i]==="")&&r.push(`Campo obrigatrio "${i}" est vazio`),a.condition&&n[i]!==void 0){const[l,u]=Object.entries(a.condition)[0],c=n[l];if(Array.isArray(u)){if(!u.includes(c))continue}else if(c!==u)continue}return{valid:r.length===0,errors:r}}getNodeHandles(t){const n=this.getNodeDefinition(t);return n?n.handles||{inputs:{execution:[],data:[]},outputs:{execution:[],data:[]}}:null}clear(){this.nodes.clear(),this.categories.clear(),this.methodCache.clear()}getStats(){return{totalNodes:this.nodes.size,totalCategories:this.categories.size,cachedMethods:this.methodCache.size,nodesByCategory:Array.from(this.categories.keys()).reduce((t,n)=>(t[n]=this.getNodesByCategory(n).length,t),{})}}};const AC=new TC,DC=e=>AC.getNodeDefinition(e);function PC(e,t,n){if(n?.executionResults?.[e]){const o=n.executionResults[e][t];if(o!==void 0)return Jr(o)}return n?.savedDetectedTypes?.[e]?.[t]?n.savedDetectedTypes[e][t]:"any"}function OC(e,t,n){if(!n?.edges||!n?.nodes)return"any";const o=n.edges.find(i=>i.target===e&&i.targetHandle===t&&!i.sourceHandle?.startsWith("exec-"));if(!o)return"any";const r=n.nodes.find(i=>i.id===o.source);if(!r)return"any";const s=n.nodeData?.[r.id]||{};return Ci(r.type,s,o.sourceHandle,"source",n)}function MC(e,t){const n=e?.[t];return n&&{number:"number",string:"string",boolean:"boolean",object:"object",array:"array",null:"any",integer:"integer",float:"float",date:"date"}[n]||"any"}function zC(e,t,n,o){const r=e?._nodeId,s=e?.variableName,i=e?.mode||"get";if(!o||!r)return"any";if(n==="source"&&t==="data-out"){if(i==="set"){const a=o.edges.filter(l=>l.target===r&&l.targetHandle==="data-input"&&!l.sourceHandle?.startsWith("exec-"));if(a.length>0){const l=o.nodes.find(u=>u.id===a[0].source);if(l){const u=o.nodeData[l.id];return Ci(l.type,u,a[0].sourceHandle,"source",o)}}}if(i==="get"&&s){const a=o.nodes.filter(l=>l.type==="variable"&&l.id!==r&&o.nodeData[l.id]?.mode==="set"&&o.nodeData[l.id]?.variableName===s);for(const l of a){const u=o.edges.filter(c=>c.target===l.id&&c.targetHandle==="data-input"&&!c.sourceHandle?.startsWith("exec-"));if(u.length>0){const c=o.nodes.find(d=>d.id===u[0].source);if(c){const d=o.nodeData[c.id];return Ci(c.type,d,u[0].sourceHandle,"source",o)}}}}}return"any"}function RC(e,t,n,o,r,s){const i=r?.dynamic;if(!i)return r?.type||"any";const a=t?._nodeId;switch(i.mode){case"runtime-detection":return PC(a,n,s);case"input-inference":return OC(a,i.inferFrom||n,s);case"config-based":return MC(t,i.configField);case"wildcard":return zC(t,n,o,s);default:return r?.type||"any"}}function Ci(e,t,n,o,r=null){if(e==="field-extractor"){if(n==="all-data")return"object";const l=t?.fieldTypes||{},u=n.replace("field-","").replace(/-/g,".");return l[u]||"any"}if(e==="output"){const l=t?.customInputs||[],u=parseInt(n.replace("data-input-",""));return l[u]?.type||"any"}if(e==="input"){const l=t?.parameters||[],u=parseInt(n.replace("param-output-",""));return l[u]?.type||"any"}const s=DC(e);if(!s||!s.handles)return"any";const i=o==="source"?s.handles.outputs:s.handles.inputs;if(!i||!i.data)return"any";const a=i.data.find(l=>l.id===n);return a?a.dynamic?RC(e,t,n,o,a,r):a.type||"any":"any"}class VC{constructor(){this.detectedTypes=new Map}detectType(t,n,o){const r=Jr(o);return this.detectedTypes.has(t)||this.detectedTypes.set(t,new Map),this.detectedTypes.get(t).set(n,r),r}detectAllTypes(t){const n={};for(const[o,r]of Object.entries(t))if(!(!r||typeof r!="object")){n[o]={};for(const s in r){if(s.startsWith("exec-"))continue;const i=r[s],a=this.detectType(o,s,i);n[o][s]=a}}return n}getDetectedType(t,n){const o=this.detectedTypes.get(t);return o&&o.get(n)||null}getNodeDetectedTypes(t){const n=this.detectedTypes.get(t);return n?Object.fromEntries(n):{}}loadDetectedTypes(t){this.detectedTypes.clear();for(const n in t){const o=new Map;for(const r in t[n])o.set(r,t[n][r]);this.detectedTypes.set(n,o)}}exportDetectedTypes(){const t={};for(const[n,o]of this.detectedTypes)t[n]=Object.fromEntries(o);return t}clearDetectedTypes(){this.detectedTypes.clear()}getHandleType(t,n,o={}){const r=this.getDetectedType(t.id,n.id);return r||Ci(t,n,o)}isTypeCompatible(t,n){if(t==="any"||n==="any"||t===n)return!0;const o=["number","integer","float"];return!!(o.includes(t)&&o.includes(n)||t.startsWith("array")&&n==="array"||t==="array"&&n.startsWith("array")||t.startsWith("object")&&n==="object"||t==="object"&&n.startsWith("object"))}getTypeColor(t){const n={string:"#10b981",number:"#3b82f6",integer:"#3b82f6",float:"#3b82f6",boolean:"#f59e0b",array:"#8b5cf6",object:"#ec4899",date:"#14b8a6",any:"#6b7280",exec:"#ef4444",null:"#6b7280"};return t.startsWith("array")?n.array:t.startsWith("object")?n.object:n[t]||n.any}inferTypeFromInputs(t){if(!t||Object.keys(t).length===0)return"any";const n=Object.values(t)[0];return Jr(n)}getTypeStats(){const t={totalNodes:this.detectedTypes.size,totalHandles:0,typeDistribution:{}};for(const n of this.detectedTypes.values()){t.totalHandles+=n.size;for(const o of n.values())t.typeDistribution[o]=(t.typeDistribution[o]||0)+1}return t}}class HC{constructor(){this.autoExecuteDelay=500,this.autoExecuteOnCreate=["input","constant","variable","arrayCreate","objectCreate"],this.autoExecuteOnConfigChange=["input","constant","variable","dataConnector","arrayCreate","objectCreate","arraySlice","comparison","logic","math","stringOps","typeConversion"],this.autoExecuteOnDataReceived=["arrayFilter","arrayMap","arraySort","arrayAggregate","arrayMerge","arrayDistinct","arrayGroupBy","arraySlice","objectFilter","objectPick","objectMerge","objectTransform","objectRename","objectSetProperty","objectToArray","objectKeysValues","fieldExtractor","comparison","logic","math","stringOps","typeConversion","debugViewer"]}shouldAutoExecuteOnCreate(t){return this.autoExecuteOnCreate.includes(t)}shouldAutoExecuteOnConfigChange(t){return this.autoExecuteOnConfigChange.includes(t)}shouldAutoExecuteOnDataReceived(t){return this.autoExecuteOnDataReceived.includes(t)}shouldAutoExecute(t,n){switch(n){case"create":return this.shouldAutoExecuteOnCreate(t);case"config":return this.shouldAutoExecuteOnConfigChange(t);case"data":return this.shouldAutoExecuteOnDataReceived(t);default:return!1}}getDelay(){return this.autoExecuteDelay}setDelay(t){this.autoExecuteDelay=t}hasExecInputs(t,n){return n.some(o=>o.target===t&&o.edgeType==="exec")}getAffectedNodes(t,n,o){const r=[],s=new Set,i=a=>{if(s.has(a))return;s.add(a);const l=o.filter(u=>u.source===a&&u.edgeType==="data");for(const u of l){const c=n.find(d=>d.id===u.target);c&&this.shouldAutoExecuteOnDataReceived(c.type)&&(this.hasExecInputs(c.id,o)||(r.push(c.id),i(c.id)))}};return i(t),r}determineTrigger(t,n,o){if(this.hasExecInputs(t.id,n))return null;switch(o){case"create":return this.shouldAutoExecuteOnCreate(t.type)?"create":null;case"config-change":return this.shouldAutoExecuteOnConfigChange(t.type)?"config":null;case"upstream-execution":return this.shouldAutoExecuteOnDataReceived(t.type)?"data":null;default:return null}}getExecutionPlan(t,n,o,r){const s=[];if(r==="create"||r==="config-change"){const i=n.find(a=>a.id===t);i&&this.determineTrigger(i,o,r)&&s.push(t)}if(r==="upstream-execution"){const i=this.getAffectedNodes(t,n,o);s.push(...i)}return s}addAutoExecuteRule(t,n){switch(n){case"create":this.autoExecuteOnCreate.includes(t)||this.autoExecuteOnCreate.push(t);break;case"config":this.autoExecuteOnConfigChange.includes(t)||this.autoExecuteOnConfigChange.push(t);break;case"data":this.autoExecuteOnDataReceived.includes(t)||this.autoExecuteOnDataReceived.push(t);break}}removeAutoExecuteRule(t,n){switch(n){case"create":this.autoExecuteOnCreate=this.autoExecuteOnCreate.filter(o=>o!==t);break;case"config":this.autoExecuteOnConfigChange=this.autoExecuteOnConfigChange.filter(o=>o!==t);break;case"data":this.autoExecuteOnDataReceived=this.autoExecuteOnDataReceived.filter(o=>o!==t);break}}getRules(){return{onCreate:[...this.autoExecuteOnCreate],onConfigChange:[...this.autoExecuteOnConfigChange],onDataReceived:[...this.autoExecuteOnDataReceived]}}}function FC(e){return e&&typeof e=="object"&&e.__wrapped?e.value:e}function Ni(e){if(e===null||typeof e!="object")return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e))return e.map(n=>Ni(n));const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ni(e[n]));return t}function LC(e,t){Array.isArray(e)&&e.length>0&&(e=e[0]);const n=t.split(".");let o=e;for(const r of n)if(o&&typeof o=="object"&&r in o)o=o[r];else return;return o}function re(e,t,n){function o(a,l){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(e),t(a,l);for(const c in i.prototype)c in a||Object.defineProperty(a,c,{value:i.prototype[c].bind(a)});a._zod.constr=i,a._zod.def=l}const r=n?.Parent??Object;class s extends r{}Object.defineProperty(s,"name",{value:e});function i(a){var l;const u=n?.Parent?new s:this;o(u,a),(l=u._zod).deferred??(l.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(i,"init",{value:o}),Object.defineProperty(i,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class zo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Tg extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const BC={};function Yn(e){return BC}function Sl(e,t){return typeof t=="bigint"?t.toString():t}function Eu(e){return e==null}function Su(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function jC(e,t){const n=(e.toString().split(".")[1]||"").length,o=t.toString();let r=(o.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(o)){const l=o.match(/\d?e-(\d?)/);l?.[1]&&(r=Number.parseInt(l[1]))}const s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}const Sd=Symbol("evaluating");function je(e,t,n){let o;Object.defineProperty(e,t,{get(){if(o!==Sd)return o===void 0&&(o=Sd,o=n()),o},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function UC(...e){const t={};for(const n of e){const o=Object.getOwnPropertyDescriptors(n);Object.assign(t,o)}return Object.defineProperties({},t)}const Ag="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Cd(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Ii(e){if(Cd(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Cd(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Dg(e){return Ii(e)?{...e}:Array.isArray(e)?[...e]:e}function Cu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ZC(e,t,n){const o=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(o._zod.parent=e),o}function ke(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}const WC={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Co(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function mr(e,t){return t.map(n=>{var o;return(o=n).path??(o.path=[]),n.path.unshift(e),n})}function As(e){return typeof e=="string"?e:e?.message}function qn(e,t,n){const o={...e,path:e.path??[]};if(!e.message){const r=As(e.inst?._zod.def?.error?.(e))??As(t?.error?.(e))??As(n.customError?.(e))??As(n.localeError?.(e))??"Invalid input";o.message=r}return delete o.inst,delete o.continue,t?.reportInput||delete o.input,o}function Nu(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Qr(...e){const[t,n,o]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:o}:{...t}}const Pg=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Sl,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Og=re("$ZodError",Pg),Mg=re("$ZodError",Pg,{Parent:Error});function GC(e,t=n=>n.message){const n={},o=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):o.push(t(r));return{formErrors:o,fieldErrors:n}}function YC(e,t){const n=t||function(s){return s.message},o={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>r({issues:a}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)o._errors.push(n(i));else{let a=o,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(i))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return r(e),o}const Iu=e=>(t,n,o,r)=>{const s=o?Object.assign(o,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new zo;if(i.issues.length){const a=new(r?.Err??e)(i.issues.map(l=>qn(l,s,Yn())));throw Ag(a,r?.callee),a}return i.value},Tu=e=>async(t,n,o,r)=>{const s=o?Object.assign(o,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const a=new(r?.Err??e)(i.issues.map(l=>qn(l,s,Yn())));throw Ag(a,r?.callee),a}return i.value},ia=e=>(t,n,o)=>{const r=o?{...o,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},r);if(s instanceof Promise)throw new zo;return s.issues.length?{success:!1,error:new(e??Og)(s.issues.map(i=>qn(i,r,Yn())))}:{success:!0,data:s.value}},qC=ia(Mg),aa=e=>async(t,n,o)=>{const r=o?Object.assign(o,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},r);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(i=>qn(i,r,Yn())))}:{success:!0,data:s.value}},KC=aa(Mg),XC=e=>(t,n,o)=>{const r=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Iu(e)(t,n,r)},JC=e=>(t,n,o)=>Iu(e)(t,n,o),QC=e=>async(t,n,o)=>{const r=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Tu(e)(t,n,r)},e2=e=>async(t,n,o)=>Tu(e)(t,n,o),t2=e=>(t,n,o)=>{const r=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ia(e)(t,n,r)},n2=e=>(t,n,o)=>ia(e)(t,n,o),o2=e=>async(t,n,o)=>{const r=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return aa(e)(t,n,r)},r2=e=>async(t,n,o)=>aa(e)(t,n,o),s2=/^[cC][^\s-]{8,}$/,i2=/^[0-9a-z]+$/,a2=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,l2=/^[0-9a-vA-V]{20}$/,u2=/^[A-Za-z0-9]{27}$/,c2=/^[a-zA-Z0-9_-]{21}$/,d2=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,f2=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Nd=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,h2=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,p2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function g2(){return new RegExp(p2,"u")}const m2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,v2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,y2=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,b2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_2=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,zg=/^[A-Za-z0-9_-]*$/,x2=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,w2=/^\+(?:[0-9]){6,14}[0-9]$/,Rg="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",k2=new RegExp(`^${Rg}$`);function Vg(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function $2(e){return new RegExp(`^${Vg(e)}$`)}function E2(e){const t=Vg({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${t}(?:${n.join("|")})`;return new RegExp(`^${Rg}T(?:${o})$`)}const S2=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},C2=/^-?\d+$/,N2=/^-?\d+(?:\.\d+)?/,I2=/^(?:true|false)$/i,T2=/^null$/i,A2=/^[^A-Z]*$/,D2=/^[^a-z]*$/,It=re("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Hg={number:"number",bigint:"bigint",object:"date"},Fg=re("$ZodCheckLessThan",(e,t)=>{It.init(e,t);const n=Hg[typeof t.value];e._zod.onattach.push(o=>{const r=o._zod.bag,s=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=o=>{(t.inclusive?o.value<=t.value:o.value<t.value)||o.issues.push({origin:n,code:"too_big",maximum:t.value,input:o.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Lg=re("$ZodCheckGreaterThan",(e,t)=>{It.init(e,t);const n=Hg[typeof t.value];e._zod.onattach.push(o=>{const r=o._zod.bag,s=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=o=>{(t.inclusive?o.value>=t.value:o.value>t.value)||o.issues.push({origin:n,code:"too_small",minimum:t.value,input:o.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),P2=re("$ZodCheckMultipleOf",(e,t)=>{It.init(e,t),e._zod.onattach.push(n=>{var o;(o=n._zod.bag).multipleOf??(o.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):jC(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),O2=re("$ZodCheckNumberFormat",(e,t)=>{It.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),o=n?"int":"number",[r,s]=WC[t.format];e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,a.minimum=r,a.maximum=s,n&&(a.pattern=C2)}),e._zod.check=i=>{const a=i.value;if(n){if(!Number.isInteger(a)){i.issues.push({expected:o,format:t.format,code:"invalid_type",continue:!1,input:a,inst:e});return}if(!Number.isSafeInteger(a)){a>0?i.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,continue:!t.abort}):i.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,continue:!t.abort});return}}a<r&&i.issues.push({origin:"number",input:a,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),a>s&&i.issues.push({origin:"number",input:a,code:"too_big",maximum:s,inst:e})}}),M2=re("$ZodCheckMaxLength",(e,t)=>{var n;It.init(e,t),(n=e._zod.def).when??(n.when=o=>{const r=o.value;return!Eu(r)&&r.length!==void 0}),e._zod.onattach.push(o=>{const r=o._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(o._zod.bag.maximum=t.maximum)}),e._zod.check=o=>{const r=o.value;if(r.length<=t.maximum)return;const i=Nu(r);o.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),z2=re("$ZodCheckMinLength",(e,t)=>{var n;It.init(e,t),(n=e._zod.def).when??(n.when=o=>{const r=o.value;return!Eu(r)&&r.length!==void 0}),e._zod.onattach.push(o=>{const r=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(o._zod.bag.minimum=t.minimum)}),e._zod.check=o=>{const r=o.value;if(r.length>=t.minimum)return;const i=Nu(r);o.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),R2=re("$ZodCheckLengthEquals",(e,t)=>{var n;It.init(e,t),(n=e._zod.def).when??(n.when=o=>{const r=o.value;return!Eu(r)&&r.length!==void 0}),e._zod.onattach.push(o=>{const r=o._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=o=>{const r=o.value,s=r.length;if(s===t.length)return;const i=Nu(r),a=s>t.length;o.issues.push({origin:i,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:o.value,inst:e,continue:!t.abort})}}),la=re("$ZodCheckStringFormat",(e,t)=>{var n,o;It.init(e,t),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(o=e._zod).check??(o.check=()=>{})}),V2=re("$ZodCheckRegex",(e,t)=>{la.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),H2=re("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=A2),la.init(e,t)}),F2=re("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=D2),la.init(e,t)}),L2=re("$ZodCheckIncludes",(e,t)=>{It.init(e,t);const n=Cu(t.includes),o=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=o,e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(o)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),B2=re("$ZodCheckStartsWith",(e,t)=>{It.init(e,t);const n=new RegExp(`^${Cu(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(o=>{const r=o._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=o=>{o.value.startsWith(t.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:o.value,inst:e,continue:!t.abort})}}),j2=re("$ZodCheckEndsWith",(e,t)=>{It.init(e,t);const n=new RegExp(`.*${Cu(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(o=>{const r=o._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=o=>{o.value.endsWith(t.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:o.value,inst:e,continue:!t.abort})}}),U2=re("$ZodCheckOverwrite",(e,t)=>{It.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}}),Z2={major:4,minor:1,patch:11},lt=re("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Z2;const o=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(const r of o)for(const s of r._zod.onattach)s(e);if(o.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const r=(i,a,l)=>{let u=Co(i),c;for(const d of a){if(d._zod.def.when){if(!d._zod.def.when(i))continue}else if(u)continue;const f=i.issues.length,h=d._zod.check(i);if(h instanceof Promise&&l?.async===!1)throw new zo;if(c||h instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await h,i.issues.length!==f&&(u||(u=Co(i,f)))});else{if(i.issues.length===f)continue;u||(u=Co(i,f))}}return c?c.then(()=>i):i},s=(i,a,l)=>{if(Co(i))return i.aborted=!0,i;const u=r(a,o,l);if(u instanceof Promise){if(l.async===!1)throw new zo;return u.then(c=>e._zod.parse(c,l))}return e._zod.parse(u,l)};e._zod.run=(i,a)=>{if(a.skipChecks)return e._zod.parse(i,a);if(a.direction==="backward"){const u=e._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return u instanceof Promise?u.then(c=>s(c,i,a)):s(u,i,a)}const l=e._zod.parse(i,a);if(l instanceof Promise){if(a.async===!1)throw new zo;return l.then(u=>r(u,o,a))}return r(l,o,a)}}e["~standard"]={validate:r=>{try{const s=qC(e,r);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return KC(e,r).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),Au=re("$ZodString",(e,t)=>{lt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??S2(e._zod.bag),e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),nt=re("$ZodStringFormat",(e,t)=>{la.init(e,t),Au.init(e,t)}),W2=re("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=f2),nt.init(e,t)}),G2=re("$ZodUUID",(e,t)=>{if(t.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(o===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Nd(o))}else t.pattern??(t.pattern=Nd());nt.init(e,t)}),Y2=re("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=h2),nt.init(e,t)}),q2=re("$ZodURL",(e,t)=>{nt.init(e,t),e._zod.check=n=>{try{const o=n.value.trim(),r=new URL(o);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:x2.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),K2=re("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=g2()),nt.init(e,t)}),X2=re("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=c2),nt.init(e,t)}),J2=re("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=s2),nt.init(e,t)}),Q2=re("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=i2),nt.init(e,t)}),eN=re("$ZodULID",(e,t)=>{t.pattern??(t.pattern=a2),nt.init(e,t)}),tN=re("$ZodXID",(e,t)=>{t.pattern??(t.pattern=l2),nt.init(e,t)}),nN=re("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=u2),nt.init(e,t)}),oN=re("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=E2(t)),nt.init(e,t)}),rN=re("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=k2),nt.init(e,t)}),sN=re("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=$2(t)),nt.init(e,t)}),iN=re("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=d2),nt.init(e,t)}),aN=re("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=m2),nt.init(e,t),e._zod.onattach.push(n=>{const o=n._zod.bag;o.format="ipv4"})}),lN=re("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=v2),nt.init(e,t),e._zod.onattach.push(n=>{const o=n._zod.bag;o.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),uN=re("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=y2),nt.init(e,t)}),cN=re("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=b2),nt.init(e,t),e._zod.check=n=>{const o=n.value.split("/");try{if(o.length!==2)throw new Error;const[r,s]=o;if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Bg(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const dN=re("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=_2),nt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Bg(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function fN(e){if(!zg.test(e))return!1;const t=e.replace(/[-_]/g,o=>o==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Bg(n)}const hN=re("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=zg),nt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{fN(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),pN=re("$ZodE164",(e,t)=>{t.pattern??(t.pattern=w2),nt.init(e,t)});function gN(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[o]=n;if(!o)return!1;const r=JSON.parse(atob(o));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const mN=re("$ZodJWT",(e,t)=>{nt.init(e,t),e._zod.check=n=>{gN(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),jg=re("$ZodNumber",(e,t)=>{lt.init(e,t),e._zod.pattern=e._zod.bag.pattern??N2,e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const s=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...s?{received:s}:{}}),n}}),vN=re("$ZodNumber",(e,t)=>{O2.init(e,t),jg.init(e,t)}),yN=re("$ZodBoolean",(e,t)=>{lt.init(e,t),e._zod.pattern=I2,e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),bN=re("$ZodNull",(e,t)=>{lt.init(e,t),e._zod.pattern=T2,e._zod.values=new Set([null]),e._zod.parse=(n,o)=>{const r=n.value;return r===null||n.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),n}}),_N=re("$ZodUnknown",(e,t)=>{lt.init(e,t),e._zod.parse=n=>n});function Id(e,t,n){e.issues.length&&t.issues.push(...mr(n,e.issues)),t.value[n]=e.value}const xN=re("$ZodArray",(e,t)=>{lt.init(e,t),e._zod.parse=(n,o)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const s=[];for(let i=0;i<r.length;i++){const a=r[i],l=t.element._zod.run({value:a,issues:[]},o);l instanceof Promise?s.push(l.then(u=>Id(u,n,i))):Id(l,n,i)}return s.length?Promise.all(s).then(()=>n):n}});function Td(e,t,n,o){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const r=e.filter(s=>!Co(s));return r.length===1?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(i=>qn(i,o,Yn())))}),t)}const wN=re("$ZodUnion",(e,t)=>{lt.init(e,t),je(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),je(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),je(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),je(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${r.map(s=>Su(s.source)).join("|")})$`)}});const n=t.options.length===1,o=t.options[0]._zod.run;e._zod.parse=(r,s)=>{if(n)return o(r,s);let i=!1;const a=[];for(const l of t.options){const u=l._zod.run({value:r.value,issues:[]},s);if(u instanceof Promise)a.push(u),i=!0;else{if(u.issues.length===0)return u;a.push(u)}}return i?Promise.all(a).then(l=>Td(l,r,e,s)):Td(a,r,e,s)}}),kN=re("$ZodIntersection",(e,t)=>{lt.init(e,t),e._zod.parse=(n,o)=>{const r=n.value,s=t.left._zod.run({value:r,issues:[]},o),i=t.right._zod.run({value:r,issues:[]},o);return s instanceof Promise||i instanceof Promise?Promise.all([s,i]).then(([l,u])=>Ad(n,l,u)):Ad(n,s,i)}});function Cl(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ii(e)&&Ii(t)){const n=Object.keys(t),o=Object.keys(e).filter(s=>n.indexOf(s)!==-1),r={...e,...t};for(const s of o){const i=Cl(e[s],t[s]);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};r[s]=i.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let o=0;o<e.length;o++){const r=e[o],s=t[o],i=Cl(r,s);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Ad(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Co(e))return e;const o=Cl(t.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const $N=re("$ZodRecord",(e,t)=>{lt.init(e,t),e._zod.parse=(n,o)=>{const r=n.value;if(!Ii(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:e}),n;const s=[];if(t.keyType._zod.values){const i=t.keyType._zod.values;n.value={};for(const l of i)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const u=t.valueType._zod.run({value:r[l],issues:[]},o);u instanceof Promise?s.push(u.then(c=>{c.issues.length&&n.issues.push(...mr(l,c.issues)),n.value[l]=c.value})):(u.issues.length&&n.issues.push(...mr(l,u.issues)),n.value[l]=u.value)}let a;for(const l in r)i.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:e,keys:a})}else{n.value={};for(const i of Reflect.ownKeys(r)){if(i==="__proto__")continue;const a=t.keyType._zod.run({value:i,issues:[]},o);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:a.issues.map(u=>qn(u,o,Yn())),input:i,path:[i],inst:e}),n.value[a.value]=a.value;continue}const l=t.valueType._zod.run({value:r[i],issues:[]},o);l instanceof Promise?s.push(l.then(u=>{u.issues.length&&n.issues.push(...mr(i,u.issues)),n.value[a.value]=u.value})):(l.issues.length&&n.issues.push(...mr(i,l.issues)),n.value[a.value]=l.value)}}return s.length?Promise.all(s).then(()=>n):n}}),EN=re("$ZodTransform",(e,t)=>{lt.init(e,t),e._zod.parse=(n,o)=>{if(o.direction==="backward")throw new Tg(e.constructor.name);const r=t.transform(n.value,n);if(o.async)return(r instanceof Promise?r:Promise.resolve(r)).then(i=>(n.value=i,n));if(r instanceof Promise)throw new zo;return n.value=r,n}});function Dd(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const SN=re("$ZodOptional",(e,t)=>{lt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",je(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),je(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Su(n.source)})?$`):void 0}),e._zod.parse=(n,o)=>{if(t.innerType._zod.optin==="optional"){const r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(s=>Dd(s,n.value)):Dd(r,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,o)}}),CN=re("$ZodNullable",(e,t)=>{lt.init(e,t),je(e._zod,"optin",()=>t.innerType._zod.optin),je(e._zod,"optout",()=>t.innerType._zod.optout),je(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Su(n.source)}|null)$`):void 0}),je(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,o)=>n.value===null?n:t.innerType._zod.run(n,o)}),NN=re("$ZodDefault",(e,t)=>{lt.init(e,t),e._zod.optin="optional",je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,o)=>{if(o.direction==="backward")return t.innerType._zod.run(n,o);if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(s=>Pd(s,t)):Pd(r,t)}});function Pd(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const IN=re("$ZodPrefault",(e,t)=>{lt.init(e,t),e._zod.optin="optional",je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,o)=>(o.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,o))}),TN=re("$ZodNonOptional",(e,t)=>{lt.init(e,t),je(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(o=>o!==void 0)):void 0}),e._zod.parse=(n,o)=>{const r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(s=>Od(s,e)):Od(r,e)}});function Od(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const AN=re("$ZodCatch",(e,t)=>{lt.init(e,t),je(e._zod,"optin",()=>t.innerType._zod.optin),je(e._zod,"optout",()=>t.innerType._zod.optout),je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,o)=>{if(o.direction==="backward")return t.innerType._zod.run(n,o);const r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(i=>qn(i,o,Yn()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(s=>qn(s,o,Yn()))},input:n.value}),n.issues=[]),n)}}),DN=re("$ZodPipe",(e,t)=>{lt.init(e,t),je(e._zod,"values",()=>t.in._zod.values),je(e._zod,"optin",()=>t.in._zod.optin),je(e._zod,"optout",()=>t.out._zod.optout),je(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,o)=>{if(o.direction==="backward"){const s=t.out._zod.run(n,o);return s instanceof Promise?s.then(i=>Ds(i,t.in,o)):Ds(s,t.in,o)}const r=t.in._zod.run(n,o);return r instanceof Promise?r.then(s=>Ds(s,t.out,o)):Ds(r,t.out,o)}});function Ds(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const PN=re("$ZodReadonly",(e,t)=>{lt.init(e,t),je(e._zod,"propValues",()=>t.innerType._zod.propValues),je(e._zod,"values",()=>t.innerType._zod.values),je(e._zod,"optin",()=>t.innerType._zod.optin),je(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,o)=>{if(o.direction==="backward")return t.innerType._zod.run(n,o);const r=t.innerType._zod.run(n,o);return r instanceof Promise?r.then(Md):Md(r)}});function Md(e){return e.value=Object.freeze(e.value),e}const ON=re("$ZodLazy",(e,t)=>{lt.init(e,t),je(e._zod,"innerType",()=>t.getter()),je(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),je(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),je(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),je(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(n,o)=>e._zod.innerType._zod.run(n,o)}),MN=re("$ZodCustom",(e,t)=>{It.init(e,t),lt.init(e,t),e._zod.parse=(n,o)=>n,e._zod.check=n=>{const o=n.value,r=t.fn(o);if(r instanceof Promise)return r.then(s=>zd(s,n,o,e));zd(r,n,o,e)}});function zd(e,t,n,o){if(!e){const r={code:"custom",input:n,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(r.params=o._zod.def.params),t.issues.push(Qr(r))}}class zN{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const o=n[0];if(this._map.set(t,o),o&&typeof o=="object"&&"id"in o){if(this._idmap.has(o.id))throw new Error(`ID ${o.id} already exists in the registry`);this._idmap.set(o.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const o={...this.get(n)??{}};delete o.id;const r={...o,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function RN(){return new zN}const Ps=RN();function VN(e,t){return new e({type:"string",...ke(t)})}function HN(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ke(t)})}function Rd(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ke(t)})}function FN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ke(t)})}function LN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ke(t)})}function BN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ke(t)})}function jN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ke(t)})}function UN(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ke(t)})}function ZN(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ke(t)})}function WN(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ke(t)})}function GN(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ke(t)})}function YN(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ke(t)})}function qN(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ke(t)})}function KN(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ke(t)})}function XN(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ke(t)})}function JN(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ke(t)})}function QN(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ke(t)})}function eI(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ke(t)})}function tI(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ke(t)})}function nI(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ke(t)})}function oI(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ke(t)})}function rI(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ke(t)})}function sI(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ke(t)})}function iI(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ke(t)})}function aI(e,t){return new e({type:"string",format:"date",check:"string_format",...ke(t)})}function lI(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ke(t)})}function uI(e,t){return new e({type:"string",format:"duration",check:"string_format",...ke(t)})}function cI(e,t){return new e({type:"number",checks:[],...ke(t)})}function dI(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ke(t)})}function fI(e,t){return new e({type:"boolean",...ke(t)})}function hI(e,t){return new e({type:"null",...ke(t)})}function pI(e){return new e({type:"unknown"})}function Vd(e,t){return new Fg({check:"less_than",...ke(t),value:e,inclusive:!1})}function Ra(e,t){return new Fg({check:"less_than",...ke(t),value:e,inclusive:!0})}function Hd(e,t){return new Lg({check:"greater_than",...ke(t),value:e,inclusive:!1})}function Va(e,t){return new Lg({check:"greater_than",...ke(t),value:e,inclusive:!0})}function Fd(e,t){return new P2({check:"multiple_of",...ke(t),value:e})}function Ug(e,t){return new M2({check:"max_length",...ke(t),maximum:e})}function Ti(e,t){return new z2({check:"min_length",...ke(t),minimum:e})}function Zg(e,t){return new R2({check:"length_equals",...ke(t),length:e})}function gI(e,t){return new V2({check:"string_format",format:"regex",...ke(t),pattern:e})}function mI(e){return new H2({check:"string_format",format:"lowercase",...ke(e)})}function vI(e){return new F2({check:"string_format",format:"uppercase",...ke(e)})}function yI(e,t){return new L2({check:"string_format",format:"includes",...ke(t),includes:e})}function bI(e,t){return new B2({check:"string_format",format:"starts_with",...ke(t),prefix:e})}function _I(e,t){return new j2({check:"string_format",format:"ends_with",...ke(t),suffix:e})}function fs(e){return new U2({check:"overwrite",tx:e})}function xI(e){return fs(t=>t.normalize(e))}function wI(){return fs(e=>e.trim())}function kI(){return fs(e=>e.toLowerCase())}function $I(){return fs(e=>e.toUpperCase())}function EI(e,t,n){return new e({type:"array",element:t,...ke(n)})}function SI(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ke(n)})}function CI(e){const t=NI(n=>(n.addIssue=o=>{if(typeof o=="string")n.issues.push(Qr(o,n.value,t._zod.def));else{const r=o;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Qr(r))}},e(n.value,n)));return t}function NI(e,t){const n=new It({check:"custom",...ke(t)});return n._zod.check=e,n}const II=re("ZodISODateTime",(e,t)=>{oN.init(e,t),st.init(e,t)});function TI(e){return iI(II,e)}const AI=re("ZodISODate",(e,t)=>{rN.init(e,t),st.init(e,t)});function DI(e){return aI(AI,e)}const PI=re("ZodISOTime",(e,t)=>{sN.init(e,t),st.init(e,t)});function OI(e){return lI(PI,e)}const MI=re("ZodISODuration",(e,t)=>{iN.init(e,t),st.init(e,t)});function zI(e){return uI(MI,e)}const Wg=(e,t)=>{Og.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>YC(e,n)},flatten:{value:n=>GC(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Sl,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Sl,2)}},isEmpty:{get(){return e.issues.length===0}}})},RI=re("ZodError",Wg),zt=re("ZodError",Wg,{Parent:Error}),VI=Iu(zt),HI=Tu(zt),FI=ia(zt),LI=aa(zt),BI=XC(zt),jI=JC(zt),UI=QC(zt),ZI=e2(zt),WI=t2(zt),GI=n2(zt),YI=o2(zt),qI=r2(zt),dt=re("ZodType",(e,t)=>(lt.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(UC(t,{checks:[...t.checks??[],...n.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]})),e.clone=(n,o)=>ZC(e,n,o),e.brand=()=>e,e.register=((n,o)=>(n.add(e,o),e)),e.parse=(n,o)=>VI(e,n,o,{callee:e.parse}),e.safeParse=(n,o)=>FI(e,n,o),e.parseAsync=async(n,o)=>HI(e,n,o,{callee:e.parseAsync}),e.safeParseAsync=async(n,o)=>LI(e,n,o),e.spa=e.safeParseAsync,e.encode=(n,o)=>BI(e,n,o),e.decode=(n,o)=>jI(e,n,o),e.encodeAsync=async(n,o)=>UI(e,n,o),e.decodeAsync=async(n,o)=>ZI(e,n,o),e.safeEncode=(n,o)=>WI(e,n,o),e.safeDecode=(n,o)=>GI(e,n,o),e.safeEncodeAsync=async(n,o)=>YI(e,n,o),e.safeDecodeAsync=async(n,o)=>qI(e,n,o),e.refine=(n,o)=>e.check(FT(n,o)),e.superRefine=n=>e.check(LT(n)),e.overwrite=n=>e.check(fs(n)),e.optional=()=>Yd(e),e.nullable=()=>qd(e),e.nullish=()=>Yd(qd(e)),e.nonoptional=n=>DT(e,n),e.array=()=>Nl(e),e.or=n=>Il([e,n]),e.and=n=>xT(e,n),e.transform=n=>Kd(e,$T(n)),e.default=n=>NT(e,n),e.prefault=n=>TT(e,n),e.catch=n=>OT(e,n),e.pipe=n=>Kd(e,n),e.readonly=()=>RT(e),e.describe=n=>{const o=e.clone();return Ps.add(o,{description:n}),o},Object.defineProperty(e,"description",{get(){return Ps.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Ps.get(e);const o=e.clone();return Ps.add(o,n[0]),o},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Gg=re("_ZodString",(e,t)=>{Au.init(e,t),dt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...o)=>e.check(gI(...o)),e.includes=(...o)=>e.check(yI(...o)),e.startsWith=(...o)=>e.check(bI(...o)),e.endsWith=(...o)=>e.check(_I(...o)),e.min=(...o)=>e.check(Ti(...o)),e.max=(...o)=>e.check(Ug(...o)),e.length=(...o)=>e.check(Zg(...o)),e.nonempty=(...o)=>e.check(Ti(1,...o)),e.lowercase=o=>e.check(mI(o)),e.uppercase=o=>e.check(vI(o)),e.trim=()=>e.check(wI()),e.normalize=(...o)=>e.check(xI(...o)),e.toLowerCase=()=>e.check(kI()),e.toUpperCase=()=>e.check($I())}),KI=re("ZodString",(e,t)=>{Au.init(e,t),Gg.init(e,t),e.email=n=>e.check(HN(XI,n)),e.url=n=>e.check(UN(JI,n)),e.jwt=n=>e.check(sI(hT,n)),e.emoji=n=>e.check(ZN(QI,n)),e.guid=n=>e.check(Rd(Bd,n)),e.uuid=n=>e.check(FN(Os,n)),e.uuidv4=n=>e.check(LN(Os,n)),e.uuidv6=n=>e.check(BN(Os,n)),e.uuidv7=n=>e.check(jN(Os,n)),e.nanoid=n=>e.check(WN(eT,n)),e.guid=n=>e.check(Rd(Bd,n)),e.cuid=n=>e.check(GN(tT,n)),e.cuid2=n=>e.check(YN(nT,n)),e.ulid=n=>e.check(qN(oT,n)),e.base64=n=>e.check(nI(cT,n)),e.base64url=n=>e.check(oI(dT,n)),e.xid=n=>e.check(KN(rT,n)),e.ksuid=n=>e.check(XN(sT,n)),e.ipv4=n=>e.check(JN(iT,n)),e.ipv6=n=>e.check(QN(aT,n)),e.cidrv4=n=>e.check(eI(lT,n)),e.cidrv6=n=>e.check(tI(uT,n)),e.e164=n=>e.check(rI(fT,n)),e.datetime=n=>e.check(TI(n)),e.date=n=>e.check(DI(n)),e.time=n=>e.check(OI(n)),e.duration=n=>e.check(zI(n))});function Ld(e){return VN(KI,e)}const st=re("ZodStringFormat",(e,t)=>{nt.init(e,t),Gg.init(e,t)}),XI=re("ZodEmail",(e,t)=>{Y2.init(e,t),st.init(e,t)}),Bd=re("ZodGUID",(e,t)=>{W2.init(e,t),st.init(e,t)}),Os=re("ZodUUID",(e,t)=>{G2.init(e,t),st.init(e,t)}),JI=re("ZodURL",(e,t)=>{q2.init(e,t),st.init(e,t)}),QI=re("ZodEmoji",(e,t)=>{K2.init(e,t),st.init(e,t)}),eT=re("ZodNanoID",(e,t)=>{X2.init(e,t),st.init(e,t)}),tT=re("ZodCUID",(e,t)=>{J2.init(e,t),st.init(e,t)}),nT=re("ZodCUID2",(e,t)=>{Q2.init(e,t),st.init(e,t)}),oT=re("ZodULID",(e,t)=>{eN.init(e,t),st.init(e,t)}),rT=re("ZodXID",(e,t)=>{tN.init(e,t),st.init(e,t)}),sT=re("ZodKSUID",(e,t)=>{nN.init(e,t),st.init(e,t)}),iT=re("ZodIPv4",(e,t)=>{aN.init(e,t),st.init(e,t)}),aT=re("ZodIPv6",(e,t)=>{lN.init(e,t),st.init(e,t)}),lT=re("ZodCIDRv4",(e,t)=>{uN.init(e,t),st.init(e,t)}),uT=re("ZodCIDRv6",(e,t)=>{cN.init(e,t),st.init(e,t)}),cT=re("ZodBase64",(e,t)=>{dN.init(e,t),st.init(e,t)}),dT=re("ZodBase64URL",(e,t)=>{hN.init(e,t),st.init(e,t)}),fT=re("ZodE164",(e,t)=>{pN.init(e,t),st.init(e,t)}),hT=re("ZodJWT",(e,t)=>{mN.init(e,t),st.init(e,t)}),Yg=re("ZodNumber",(e,t)=>{jg.init(e,t),dt.init(e,t),e.gt=(o,r)=>e.check(Hd(o,r)),e.gte=(o,r)=>e.check(Va(o,r)),e.min=(o,r)=>e.check(Va(o,r)),e.lt=(o,r)=>e.check(Vd(o,r)),e.lte=(o,r)=>e.check(Ra(o,r)),e.max=(o,r)=>e.check(Ra(o,r)),e.int=o=>e.check(Ud(o)),e.safe=o=>e.check(Ud(o)),e.positive=o=>e.check(Hd(0,o)),e.nonnegative=o=>e.check(Va(0,o)),e.negative=o=>e.check(Vd(0,o)),e.nonpositive=o=>e.check(Ra(0,o)),e.multipleOf=(o,r)=>e.check(Fd(o,r)),e.step=(o,r)=>e.check(Fd(o,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function jd(e){return cI(Yg,e)}const pT=re("ZodNumberFormat",(e,t)=>{vN.init(e,t),Yg.init(e,t)});function Ud(e){return dI(pT,e)}const gT=re("ZodBoolean",(e,t)=>{yN.init(e,t),dt.init(e,t)});function Zd(e){return fI(gT,e)}const mT=re("ZodNull",(e,t)=>{bN.init(e,t),dt.init(e,t)});function Wd(e){return hI(mT,e)}const vT=re("ZodUnknown",(e,t)=>{_N.init(e,t),dt.init(e,t)});function Ms(){return pI(vT)}const yT=re("ZodArray",(e,t)=>{xN.init(e,t),dt.init(e,t),e.element=t.element,e.min=(n,o)=>e.check(Ti(n,o)),e.nonempty=n=>e.check(Ti(1,n)),e.max=(n,o)=>e.check(Ug(n,o)),e.length=(n,o)=>e.check(Zg(n,o)),e.unwrap=()=>e.element});function Nl(e,t){return EI(yT,e,t)}const bT=re("ZodUnion",(e,t)=>{wN.init(e,t),dt.init(e,t),e.options=t.options});function Il(e,t){return new bT({type:"union",options:e,...ke(t)})}const _T=re("ZodIntersection",(e,t)=>{kN.init(e,t),dt.init(e,t)});function xT(e,t){return new _T({type:"intersection",left:e,right:t})}const wT=re("ZodRecord",(e,t)=>{$N.init(e,t),dt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Gd(e,t,n){return new wT({type:"record",keyType:e,valueType:t,...ke(n)})}const kT=re("ZodTransform",(e,t)=>{EN.init(e,t),dt.init(e,t),e._zod.parse=(n,o)=>{if(o.direction==="backward")throw new Tg(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Qr(s,n.value,t));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),n.issues.push(Qr(i))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(s=>(n.value=s,n)):(n.value=r,n)}});function $T(e){return new kT({type:"transform",transform:e})}const ET=re("ZodOptional",(e,t)=>{SN.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Yd(e){return new ET({type:"optional",innerType:e})}const ST=re("ZodNullable",(e,t)=>{CN.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function qd(e){return new ST({type:"nullable",innerType:e})}const CT=re("ZodDefault",(e,t)=>{NN.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function NT(e,t){return new CT({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Dg(t)}})}const IT=re("ZodPrefault",(e,t)=>{IN.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function TT(e,t){return new IT({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Dg(t)}})}const AT=re("ZodNonOptional",(e,t)=>{TN.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function DT(e,t){return new AT({type:"nonoptional",innerType:e,...ke(t)})}const PT=re("ZodCatch",(e,t)=>{AN.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function OT(e,t){return new PT({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const MT=re("ZodPipe",(e,t)=>{DN.init(e,t),dt.init(e,t),e.in=t.in,e.out=t.out});function Kd(e,t){return new MT({type:"pipe",in:e,out:t})}const zT=re("ZodReadonly",(e,t)=>{PN.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function RT(e){return new zT({type:"readonly",innerType:e})}const VT=re("ZodLazy",(e,t)=>{ON.init(e,t),dt.init(e,t),e.unwrap=()=>e._zod.def.getter()});function Xd(e){return new VT({type:"lazy",getter:e})}const HT=re("ZodCustom",(e,t)=>{MN.init(e,t),dt.init(e,t)});function FT(e,t={}){return SI(HT,e,t)}function LT(e){return CI(e)}const en=10,qg=1024*1024;function BT(e){if(typeof e!="string"||e.length>qg)return!1;try{return JSON.parse(e),!0}catch{return!1}}function fo(e,t=0){if(t>en||e===null||typeof e!="object")return t;if(Array.isArray(e))return e.length===0?t+1:Math.max(...e.map(o=>fo(o,t+1)));const n=Object.values(e);return n.length===0?t+1:Math.max(...n.map(o=>fo(o,t+1)))}function z6(e,t=null,n={}){const o=n.maxDepth||en,r=n.maxSize||qg;if(typeof e!="string")throw new Error("Input must be a string");if(e.length>r)throw new Error(`JSON string exceeds maximum size of ${r} bytes`);if(!BT(e))throw new Error("Invalid JSON syntax");let s;try{s=JSON.parse(e)}catch(a){throw new Error(`JSON parse error: ${a.message}`)}if(fo(s)>o)throw new Error(`Object nesting exceeds maximum depth of ${o}`);if(t)try{return t.parse(s)}catch(a){if(a instanceof RI){const l=a.errors.map(u=>`${u.path.join(".")}: ${u.message}`).join(", ");throw new Error(`Schema validation failed: ${l}`)}throw a}return s}function R6(e){if(typeof e!="string")throw new Error("Input must be a string");return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const V6={safeObject:Gd(Ms()).refine(e=>fo(e)<=en,{message:`Object depth exceeds ${en} levels`}),safeArray:Nl(Ms()).refine(e=>fo(e)<=en,{message:`Array depth exceeds ${en} levels`}),primitive:Il([Ld(),jd(),Zd(),Wd()]),safeValue:Il([Ld(),jd(),Zd(),Wd(),Xd(()=>Gd(Ms())),Xd(()=>Nl(Ms()))]).refine(e=>fo(e)<=en,{message:`Value depth exceeds ${en} levels`})};function H6(e){if(fo(e)>en)throw new Error(`Value nesting exceeds maximum depth of ${en}`);if(typeof e=="object"&&e!==null){const n=Object.keys(e),o=["__proto__","constructor","prototype"];for(const r of n)if(o.includes(r))throw new Error(`Dangerous key detected: ${r}`)}}const jT=Object.assign({"../methods/connectors/connector.js":()=>Pe(()=>import("./connector-BkE1kCba.js"),[]),"../methods/io/output.js":()=>Pe(()=>import("./output-ZDlitetI.js"),[])}),UT={"lib/methods/comparison/comparison.js":()=>Pe(()=>import("./comparison-hT5xc0HR.js"),__vite__mapDeps([0,1])),"lib/methods/constants/constant.js":()=>Pe(()=>import("./constant-Cye2F8VD.js"),[]),"lib/methods/conversion/typeConversion.js":()=>Pe(()=>import("./typeConversion-BrC0PkWz.js"),__vite__mapDeps([2,1])),"lib/methods/io/input.js":()=>Pe(()=>import("./input-DVnGe8RW.js"),[]),"lib/methods/iteration/forEach.js":()=>Pe(()=>import("./forEach-GsX7twqW.js"),__vite__mapDeps([3,1])),"lib/methods/iteration/whileLoop.js":()=>Pe(()=>import("./whileLoop-DNyQgx_E.js"),__vite__mapDeps([4,1])),"lib/methods/logic/conditionalBranch.js":()=>Pe(()=>import("./conditionalBranch-CiS-lDpM.js"),__vite__mapDeps([5,1])),"lib/methods/logic/logic.js":()=>Pe(()=>import("./logic-S8BuQDHJ.js"),__vite__mapDeps([6,1])),"lib/methods/organization/marker.js":()=>Pe(()=>import("./marker-BauP6ejb.js"),[]),"lib/methods/processors/arrayAggregate.js":()=>Pe(()=>import("./arrayAggregate-BSf_8Mbv.js"),__vite__mapDeps([7,1,8])),"lib/methods/processors/arrayCreate.js":()=>Pe(()=>import("./arrayCreate-CLLfy14F.js"),__vite__mapDeps([9,1])),"lib/methods/processors/arrayDistinct.js":()=>Pe(()=>import("./arrayDistinct-Bf1N4_FB.js"),__vite__mapDeps([10,1,8])),"lib/methods/processors/arrayFilter.js":()=>Pe(()=>import("./arrayFilter-j02JTk9B.js"),__vite__mapDeps([11,1,8])),"lib/methods/processors/arrayGroupBy.js":()=>Pe(()=>import("./arrayGroupBy-CYZry6bD.js"),__vite__mapDeps([12,1,8])),"lib/methods/processors/arrayMap.js":()=>Pe(()=>import("./arrayMap-DWFtFIhW.js"),__vite__mapDeps([13,1,8])),"lib/methods/processors/arrayMerge.js":()=>Pe(()=>import("./arrayMerge-Cl9TrGGz.js"),__vite__mapDeps([14,1])),"lib/methods/processors/arrayProcessor.js":()=>Pe(()=>import("./arrayProcessor-C6b8_Oda.js"),__vite__mapDeps([15,1])),"lib/methods/processors/arraySlice.js":()=>Pe(()=>import("./arraySlice-D77JXKA-.js"),__vite__mapDeps([16,1])),"lib/methods/processors/arraySort.js":()=>Pe(()=>import("./arraySort-Doii3Pk3.js"),__vite__mapDeps([17,1,8])),"lib/methods/processors/debugViewer.js":()=>Pe(()=>import("./debugViewer-DqKLMWib.js"),__vite__mapDeps([18,1])),"lib/methods/processors/fieldExtractor.js":()=>Pe(()=>import("./fieldExtractor-CNYhCYFV.js"),__vite__mapDeps([19,1,8])),"lib/methods/processors/math.js":()=>Pe(()=>import("./math-CR5OuORF.js"),__vite__mapDeps([20,1])),"lib/methods/processors/objectCreate.js":()=>Pe(()=>import("./objectCreate-BPGDvu4M.js"),__vite__mapDeps([21,1])),"lib/methods/processors/objectFilter.js":()=>Pe(()=>import("./objectFilter-BOJwLyhr.js"),__vite__mapDeps([22,1])),"lib/methods/processors/objectKeysValues.js":()=>Pe(()=>import("./objectKeysValues-Duw9chPy.js"),__vite__mapDeps([23,1])),"lib/methods/processors/objectMerge.js":()=>Pe(()=>import("./objectMerge-DksscP9W.js"),__vite__mapDeps([24,1])),"lib/methods/processors/objectPick.js":()=>Pe(()=>import("./objectPick-DLDm1m5n.js"),__vite__mapDeps([25,1,8])),"lib/methods/processors/objectRename.js":()=>Pe(()=>import("./objectRename-BHSghX53.js"),__vite__mapDeps([26,1])),"lib/methods/processors/objectSetProperty.js":()=>Pe(()=>import("./objectSetProperty-CkdrH5YP.js"),__vite__mapDeps([27,1])),"lib/methods/processors/objectToArray.js":()=>Pe(()=>import("./objectToArray-BDeo5lv_.js"),__vite__mapDeps([28,1])),"lib/methods/processors/objectTransform.js":()=>Pe(()=>import("./objectTransform-BnKl-s9_.js"),__vite__mapDeps([29,1,8])),"lib/methods/storage/variable.js":()=>Pe(()=>import("./variable-DPKdo5Bk.js"),[]),"lib/methods/string/stringOps.js":()=>Pe(()=>import("./stringOps-ExVbYJxP.js"),__vite__mapDeps([30,1]))},Jd={...UT,...jT};class ZT{constructor(){this.nodes=new Map,this.categories=new Map,this.methodCache=new Map}registerNode(t,n){this.nodes.set(t,n)}registerCategory(t,n){this.categories.set(t,n)}getNodeDefinition(t){const n=this.nodes.get(t);return n||null}getAllNodes(){return Array.from(this.nodes.values())}getNodesByCategory(t){return this.getAllNodes().filter(n=>n.category===t)}getAllCategories(){return Array.from(this.categories.values())}hasNode(t){return this.nodes.has(t)}async getNodeFunction(t,n="method"){const o=this.getNodeDefinition(t);if(!o)return null;const r=o[n];if(!r)return null;const s=`${t}:${n}`;if(this.methodCache.has(s))return this.methodCache.get(s);try{const[i,a]=r.split(":");let l=null,u=null;const c=i.replace("lib/methods/","../methods/");if(l=Jd[c],u=c,l||(u=i,l=Jd[u]),!l)throw new Error(`Mdulo "${i}" no encontrado no registry`);const d=await l();if(!d[a])throw new Error(`Funo "${a}" no encontrada no mdulo "${i}"`);const f=d[a];return this.methodCache.set(s,f),f}catch{return null}}validateNodeConfig(t,n){const o=this.getNodeDefinition(t);if(!o)return{valid:!1,errors:[`Node type "${t}" no existe`]};const r=[],s=o.config||{};for(const[i,a]of Object.entries(s))if(a.required&&(n[i]===void 0||n[i]===null||n[i]==="")&&r.push(`Campo obrigatrio "${i}" est vazio`),a.condition&&n[i]!==void 0){const[l,u]=Object.entries(a.condition)[0],c=n[l];if(Array.isArray(u)){if(!u.includes(c))continue}else if(c!==u)continue}return{valid:r.length===0,errors:r}}getNodeHandles(t){const n=this.getNodeDefinition(t);return n?n.handles||{inputs:{execution:[],data:[]},outputs:{execution:[],data:[]}}:null}clear(){this.nodes.clear(),this.categories.clear(),this.methodCache.clear()}getStats(){return{totalNodes:this.nodes.size,totalCategories:this.categories.size,cachedMethods:this.methodCache.size,nodesByCategory:Array.from(this.categories.keys()).reduce((t,n)=>(t[n]=this.getNodesByCategory(n).length,t),{})}}}const yo=new ZT,F6=(e,t)=>yo.registerNode(e,t),L6=(e,t)=>yo.registerCategory(e,t),bo=e=>yo.getNodeDefinition(e),WT=()=>yo.getAllNodes(),GT=e=>yo.getNodesByCategory(e),Kg=()=>yo.getAllCategories(),YT=(e,t)=>yo.getNodeFunction(e,t);async function qT(e,t,n,o={}){const{type:r,id:s}=e,i=bo(r);if(!i)throw new Error(`Node type "${r}" no encontrado no catlogo`);const a=i.execution?.async!==!1,l=await YT(r,"method");if(!l)throw new Error(`Mtodo de execuo no encontrado para node type "${r}"`);try{const u={...t};t.exposedFields&&n&&Object.keys(t.exposedFields).forEach(h=>{const p=`exposed-${h}`.replace("data-","");n[p]!==void 0&&(u[h]=n[p])});const c={nodeData:u,inputs:n,context:o,nodeId:s},d=i.execution?.timeout||3e4;return a?await KT(l(c),d):l(c)}catch(u){throw u}}function KT(e,t){return Promise.race([e,new Promise((n,o)=>setTimeout(()=>o(new Error(`Timeout aps ${t}ms`)),t))])}function Tl(e,t){const n=bo(e.type);if(!n)return{};const o={};if(e.type==="connector"||["constant","array-filter","array-aggregate","array-slice","array-merge","array-create","object-create"].includes(e.type))return o["data-out"]=t,o;if(e.type==="input")return(e.data?.parameters||[]).forEach((i,a)=>{const l=`param-output-${a}`,u=i.name,c=t[u];o[l]=c}),o;if(e.type==="field-extractor"){const s=e.data?.selectedFields||[],i=t?.__wrapped?t.__originalData:t;return o["data-out"]=t?.__wrapped?t.value:t,s.length>1&&(o["all-data"]=t),s.forEach(a=>{const l=`field-${a.replace(/\./g,"-")}`;let u;if(Array.isArray(i))u=i.map(c=>{const d=a.split(".");let f=c;for(const h of d)f=f?.[h];return f});else if(typeof i=="object"&&i!==null){const c=a.split(".");let d=i;for(const f of c)d=d?.[f];u=d}o[l]=u}),o}let r=n.handles?.outputs?.data||[];if(n.dynamicHandles&&e.data){const s=n.dynamicHandles.mode,i=e.data[s]||s;n.dynamicHandles[i]&&(r=n.dynamicHandles[i].outputs?.data||[])}if(r.length===1){const s=r[0].id;o[s]=t}else r.length>1&&typeof t=="object"&&t!==null&&r.forEach(s=>{const i=s.id.replace("data-","");t[i]!==void 0&&(o[s.id]=t[i])});return o}const B6={unwrapData:FC};function XT(e,t,n,o,r){t?.type,e.sourceHandle,e.targetHandle}const vt=Yh("flow",()=>{const e=new CC(qT,Tl),t=new VC,n=new HC,o=ue([]),r=ue([]),s=ue({}),i=ue({}),a=ue(null),l=ue(!1),u=ue({}),c=ue(new Set),d=ue(new Set),f=ue(new Set),h=ue({}),p=ue([]),y=ue(-1),$=50,b=ue(!1),C=ue({token:null,flowId:null,flowDataId:null,baseUrl:"http://localhost:3001"}),w=ue("offline"),D=ue(null);let q=null;const Y=1e3,U=Q(()=>r.value.filter(m=>m.edgeType==="flow"||m.sourceHandle?.startsWith("exec-"))),R=Q(()=>r.value.filter(m=>m.edgeType==="data"||!m.sourceHandle?.startsWith("exec-"))),G=Q(()=>({nodes:WT(),categories:Kg()}));e.onStateChange=m=>{u.value=m.executionResults,c.value=new Set(m.executingNodes),d.value=new Set(m.executedNodes),f.value=new Set(m.errorNodes)},Ce(s,m=>{for(const v in m)e.setNodeData(v,m[v])},{deep:!0}),Ce([C,i],()=>{e.setConfig(C.value,i.value)},{deep:!0}),Ce(r,()=>{r.value.forEach(m=>{if(!m.edgeType){const v=m.sourceHandle?.startsWith("exec-")||m.targetHandle?.startsWith("exec-");m.edgeType=v?"flow":"data"}})},{immediate:!0});const V=()=>{if(b.value)return;const m={nodes:JSON.parse(JSON.stringify(o.value)),edges:JSON.parse(JSON.stringify(r.value)),nodeData:JSON.parse(JSON.stringify(s.value))};y.value<p.value.length-1&&(p.value=p.value.slice(0,y.value+1)),p.value.push(m),y.value=p.value.length-1,p.value.length>$&&(p.value.shift(),y.value--)},A=()=>{if(y.value<=0)return!1;b.value=!0,y.value--;const m=p.value[y.value];return o.value=JSON.parse(JSON.stringify(m.nodes)),r.value=JSON.parse(JSON.stringify(m.edges)),s.value=JSON.parse(JSON.stringify(m.nodeData)),b.value=!1,!0},B=()=>{if(y.value>=p.value.length-1)return!1;b.value=!0,y.value++;const m=p.value[y.value];return o.value=JSON.parse(JSON.stringify(m.nodes)),r.value=JSON.parse(JSON.stringify(m.edges)),s.value=JSON.parse(JSON.stringify(m.nodeData)),b.value=!1,!0},g=m=>{o.value.push(m),s.value[m.id]={},V(),n.shouldAutoExecuteOnCreate(m.type)&&setTimeout(()=>pe(m.id),n.getDelay())},N=m=>{o.value=o.value.filter(v=>v.id!==m),delete s.value[m],r.value=r.value.filter(v=>v.source!==m&&v.target!==m),delete u.value[m],V()},S=(m,v)=>{const P=o.value.findIndex(E=>E.id===m);P!==-1&&(o.value[P].position=v)},z=m=>{l.value=m},H=(m,v)=>{s.value[m]={...s.value[m],...v};const P=o.value.find(E=>E.id===m);P&&n.shouldAutoExecuteOnConfigChange(P.type)&&setTimeout(()=>pe(m),n.getDelay())},X=m=>{const v=m.sourceHandle?.startsWith("exec-")||m.targetHandle?.startsWith("exec-");if(m.edgeType=v?"flow":"data",r.value.push(m),XT(m,o.value),V(),o.value.find(E=>E.id===m.target)&&m.edgeType==="data"){const E=n.getExecutionPlan(m.source,o.value,r.value,"upstream-execution");for(const F of E)setTimeout(()=>pe(F),n.getDelay())}},W=m=>{r.value=r.value.filter(v=>v.id!==m),V()},oe=m=>{const v={},P=R.value.filter(E=>E.target===m);for(const E of P){const F=u.value[E.source];if(F!==void 0){const K=typeof F=="object"&&F!==null&&E.sourceHandle in F?F[E.sourceHandle]:F,J=E.targetHandle?.replace("data-","")||"input";v[J]=K}}return v},ce=(m,v)=>{u.value[m]=v,e.executionResults.set(m,v)},pe=async m=>{const v=o.value.find(E=>E.id===m);if(!v)return;const P=oe(m);try{const E=await e.executeNode(v,P);if(u.value[m]=E,E&&typeof E=="object")for(const K in E)K.startsWith("exec-")||t.detectType(m,K,E[K]);const F=n.getExecutionPlan(m,o.value,r.value,"upstream-execution");for(const K of F)setTimeout(()=>pe(K),100);return E}catch(E){throw E}},ie=async()=>{await e.executeFlow(o.value,r.value),u.value=e.getAllResults(),t.detectAllTypes(u.value),h.value=t.exportDetectedTypes()},he=async(m,v=null)=>{await e.executeConnectedNodes(m,o.value,r.value,v),u.value=e.getAllResults()},fe=async(m,v={})=>{try{const P=await e.executeNode(m,v);if(u.value[m.id]=P,P&&typeof P=="object")for(const E in P)E.startsWith("exec-")||t.detectType(m.id,E,P[E]);return P}catch(P){throw P}},Z=async m=>{const v=o.value.find(F=>F.id===m.target);if(!v)return;const P=oe(m.target);if(["add","subtract","multiply","divide","variable","field-extractor","connector","input","array-filter","array-aggregate","array-slice","array-sort","array-map","array-groupby","array-distinct","array-merge","array-create","object-merge","object-pick","object-keys-values","object-rename","object-set-property","object-to-array","object-transform","object-create","constant","compare","type-conversion","logic","string-ops","debug-viewer"].includes(v.type))try{const F=await fe(v,P),K={...v,data:s.value[v.id]},J=Tl(K,F);ce(m.target,J);const se=R.value.filter(le=>le.source===m.target);for(const le of se)await Z(le)}catch{}},te=()=>{e.clearExecutionResults(),t.clearDetectedTypes(),u.value={},c.value=new Set,d.value=new Set,f.value=new Set},ne=()=>{const m=t.exportDetectedTypes(),v={nodes:o.value,edges:r.value,nodeData:s.value,detectedTypes:m,timestamp:new Date().toISOString(),version:"2.0"},P=JSON.stringify(v,null,2),E=new Blob([P],{type:"application/json"}),F=URL.createObjectURL(E),K=document.createElement("a");return K.href=F,K.download=`flow-forge-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.json`,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(F),v},de=m=>{try{if(!m.nodes||!m.edges)throw new Error("Invalid flow data format");te(),o.value=[],r.value=[],s.value={},s.value={...m.nodeData||{}},m.detectedTypes&&(t.loadDetectedTypes(m.detectedTypes),h.value=m.detectedTypes),setTimeout(()=>{o.value=m.nodes.map(v=>({...v})),r.value=m.edges.map(v=>({...v}))},100)}catch(v){throw v}},ye=async()=>{if(C.value.flowDataId)try{w.value="syncing";const m={nodes:o.value,edges:r.value,nodeData:s.value,detectedTypes:t.exportDetectedTypes()};if(!(await fetch(`${C.value.baseUrl}/api/flow-data/${C.value.flowDataId}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C.value.token}`},body:JSON.stringify({data:m})})).ok)throw new Error("Sync failed");w.value="synced",D.value=null}catch(m){w.value="error",D.value=m.message}},T=async m=>{try{const v=await fetch(`${C.value.baseUrl}/api/flow-data/${m}`,{headers:{Authorization:`Bearer ${C.value.token}`}});if(!v.ok)throw new Error("Load failed");const P=await v.json();de(P.flowData),C.value.flowDataId=m,w.value="synced"}catch(v){throw v}},O=async()=>{const m=await NC();a.value=m,e.setConfig(C.value,i.value)},_=()=>{const m=new URLSearchParams(window.location.search),v=m.get("authToken")||m.get("token"),P=m.get("flowId");let E=localStorage.getItem("flowforge_token"),F=localStorage.getItem("flowforge_flowId");if(v&&P){E=v,F=P,localStorage.setItem("flowforge_token",E),localStorage.setItem("flowforge_flowId",F);const K=window.location.protocol+"//"+window.location.host+window.location.pathname;window.history.replaceState({},document.title,K)}E&&F?(C.value.token=E,C.value.flowId=F,k()):w.value="offline"},k=async()=>{if(!C.value.token||!C.value.flowId)return w.value="offline",!1;w.value="syncing";try{const m=await fetch(`${C.value.baseUrl}/api/flow-data/by-flow/${C.value.flowId}`,{method:"GET",headers:{Authorization:`Bearer ${C.value.token}`,"Content-Type":"application/json"}});if(!m.ok){if(m.status===401||m.status===403)return w.value="error",!1;throw new Error(`HTTP error! status: ${m.status}`)}const v=await m.json();if(v.success&&v.data){if(C.value.flowDataId=v.data._id,v.data.data&&v.data.data.nodes&&v.data.data.edges){const P={nodes:v.data.data.nodes,edges:v.data.data.edges,nodeData:v.data.data.nodeData||{},detectedTypes:v.data.data.detectedTypes||{},variables:v.data.data.variables||{}};de(P),v.data.data.variables&&Object.assign(i.value,v.data.data.variables)}else te();return w.value="synced",I(),!0}else throw new Error("Invalid response format")}catch(m){return w.value="error",D.value=m.message,!1}},I=()=>{Ce([o,r,s],()=>{q&&clearTimeout(q),q=setTimeout(()=>{C.value.flowDataId&&ye()},Y)},{deep:!0})};return{flowEngine:e,typeEngine:t,autoExecEngine:n,nodes:o,edges:r,nodeData:s,executionResults:u,executingNodes:c,executedNodes:d,errorNodes:f,savedDetectedTypes:h,globalVariables:i,dataTypes:a,isDragging:l,apiConfig:C,syncStatus:w,lastSyncError:D,flowEdges:U,dataEdges:R,nodeCatalog:G,addNode:g,removeNode:N,updateNodePosition:S,setDragging:z,updateNodeData:H,addEdge:X,removeEdge:W,executeNode:fe,executeNodeById:pe,executeFlow:ie,executeConnectedNodes:he,propagateDataToTarget:Z,clearExecutionResults:te,getNodeDataInputs:oe,setExecutionResult:ce,saveFlow:ne,loadFlow:de,syncToAPI:ye,loadFromAPI:T,undo:A,redo:B,saveSnapshot:V,initialize:O,initializeFromUrl:_,fetchFlowData:k}});function JT(){const e=ue(!1),t=ue({x:0,y:0}),n=ue({x:0,y:0}),o=(i,a)=>{t.value={x:i,y:a},n.value={x:i,y:a},e.value=!0};return{showContextMenu:e,contextMenuPosition:t,lastRightClickPosition:n,openContextMenu:o,closeContextMenu:()=>{e.value=!1},handleContextMenu:i=>{i.preventDefault(),o(i.clientX,i.clientY)}}}function QT(e,t,n){if(n?.executionResults?.[e]){const o=n.executionResults[e][t];if(o!==void 0)return Jr(o)}return n?.savedDetectedTypes?.[e]?.[t]?n.savedDetectedTypes[e][t]:"any"}function e3(e,t,n){if(!n?.edges||!n?.nodes)return"any";const o=n.edges.find(i=>i.target===e&&i.targetHandle===t&&!i.sourceHandle?.startsWith("exec-"));if(!o)return"any";const r=n.nodes.find(i=>i.id===o.source);if(!r)return"any";const s=n.nodeData?.[r.id]||{};return jn(r.type,s,o.sourceHandle,"source",n)}function t3(e,t){const n=e?.[t];return n&&{number:"number",string:"string",boolean:"boolean",object:"object",array:"array",null:"any",integer:"integer",float:"float",date:"date"}[n]||"any"}function n3(e,t,n,o){const r=e?._nodeId,s=e?.variableName,i=e?.mode||"get";if(!o||!r)return"any";if(n==="source"&&t==="data-out"){if(i==="set"){const a=o.edges.filter(l=>l.target===r&&l.targetHandle==="data-input"&&!l.sourceHandle?.startsWith("exec-"));if(a.length>0){const l=o.nodes.find(u=>u.id===a[0].source);if(l){const u=o.nodeData[l.id];return jn(l.type,u,a[0].sourceHandle,"source",o)}}}if(i==="get"&&s){const a=o.nodes.filter(l=>l.type==="variable"&&l.id!==r&&o.nodeData[l.id]?.mode==="set"&&o.nodeData[l.id]?.variableName===s);for(const l of a){const u=o.edges.filter(c=>c.target===l.id&&c.targetHandle==="data-input"&&!c.sourceHandle?.startsWith("exec-"));if(u.length>0){const c=o.nodes.find(d=>d.id===u[0].source);if(c){const d=o.nodeData[c.id];return jn(c.type,d,u[0].sourceHandle,"source",o)}}}}}return"any"}function o3(e,t,n,o,r,s){const i=r?.dynamic;if(!i)return r?.type||"any";const a=t?._nodeId;switch(i.mode){case"runtime-detection":return QT(a,n,s);case"input-inference":return e3(a,i.inferFrom||n,s);case"config-based":return t3(t,i.configField);case"wildcard":return n3(t,n,o,s);default:return r?.type||"any"}}function jn(e,t,n,o,r=null){if(e==="field-extractor"){if(n==="all-data")return"object";const l=t?.fieldTypes||{},u=n.replace("field-","").replace(/-/g,".");return l[u]||"any"}if(e==="output"){const l=t?.customInputs||[],u=parseInt(n.replace("data-input-",""));return l[u]?.type||"any"}if(e==="input"){const l=t?.parameters||[],u=parseInt(n.replace("param-output-",""));return l[u]?.type||"any"}const s=bo(e);if(!s||!s.handles)return"any";let i=o==="source"?s.handles.outputs:s.handles.inputs;if(s.dynamicHandles&&t){const l=s.dynamicHandles.mode;let u="mode";s.dynamicHandles[l]||(u=l);const c=t[u]||l,d=s.dynamicHandles[c];d&&(i=o==="source"?d.outputs:d.inputs)}if(!i||!i.data)return"any";const a=i.data.find(l=>l.id===n);return a?a.dynamic?o3(e,t,n,o,a,r):a.type||"any":"any"}function Al(e,t){if(t.startsWith("exec-"))return["exec"];const n=bo(e);if(!n||!n.handles||!n.handles.inputs||!n.handles.inputs.data)return["any"];const o=n.handles.inputs.data.find(r=>r.id===t);return!o||!o.type?["any"]:Array.isArray(o.type)?o.type:[o.type]}function Xg(e,t){if(e==="exec"||t.includes("exec"))return e==="exec"&&t.includes("exec");if(t.includes("any")||e==="any"||t.includes(e))return!0;const n=["number","integer","float"];return n.includes(e)?t.some(o=>n.includes(o)):!1}function r3(e,t,n,o,r){const s={...r.nodeData[e.id]||{},_nodeId:e.id};if({...r.nodeData[n.id]||{},_nodeId:n.id},t.startsWith("exec-"))return!0;const i=jn(e.type,s,t,"source",r),a=Al(n.type,o);return Xg(i,a)}const Ft=ue(!1),s3=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,i3=()=>{const e=localStorage.getItem("flow-forge-theme");e?Ft.value=e==="dark":Ft.value=s3(),Jg()},Jg=()=>{const e=document.documentElement;Ft.value?e.classList.add("dark"):e.classList.remove("dark")};Ce(Ft,()=>{localStorage.setItem("flow-forge-theme",Ft.value?"dark":"light"),Jg()});window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("flow-forge-theme")||(Ft.value=e.matches)});const Qg=()=>{const e=()=>{Ft.value=!Ft.value},t=o=>{Ft.value=o==="dark"},n=Q(()=>Ft.value?"dark":"light");return{isDark:Ft,theme:n,toggleTheme:e,setTheme:t,initTheme:i3}},em=/^[a-z0-9]+(-[a-z0-9]+)*$/,ua=(e,t,n,o="")=>{const r=e.split(":");if(e.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const a=r.pop(),l=r.pop(),u={provider:r.length>0?r[0]:o,prefix:l,name:a};return t&&!qs(u)?null:u}const s=r[0],i=s.split("-");if(i.length>1){const a={provider:o,prefix:i.shift(),name:i.join("-")};return t&&!qs(a)?null:a}if(n&&o===""){const a={provider:o,prefix:"",name:s};return t&&!qs(a,n)?null:a}return null},qs=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,tm=Object.freeze({left:0,top:0,width:16,height:16}),Ai=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ca=Object.freeze({...tm,...Ai}),Dl=Object.freeze({...ca,body:"",hidden:!1});function a3(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const o=((e.rotate||0)+(t.rotate||0))%4;return o&&(n.rotate=o),n}function Qd(e,t){const n=a3(e,t);for(const o in Dl)o in Ai?o in e&&!(o in n)&&(n[o]=Ai[o]):o in t?n[o]=t[o]:o in e&&(n[o]=e[o]);return n}function l3(e,t){const n=e.icons,o=e.aliases||Object.create(null),r=Object.create(null);function s(i){if(n[i])return r[i]=[];if(!(i in r)){r[i]=null;const a=o[i]&&o[i].parent,l=a&&s(a);l&&(r[i]=[a].concat(l))}return r[i]}return Object.keys(n).concat(Object.keys(o)).forEach(s),r}function u3(e,t,n){const o=e.icons,r=e.aliases||Object.create(null);let s={};function i(a){s=Qd(o[a]||r[a],s)}return i(t),n.forEach(i),Qd(e,s)}function nm(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(r=>{t(r,null),n.push(r)});const o=l3(e);for(const r in o){const s=o[r];s&&(t(r,u3(e,r,s)),n.push(r))}return n}const c3={provider:"",aliases:{},not_found:{},...tm};function Ha(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function om(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!Ha(e,c3))return null;const n=t.icons;for(const r in n){const s=n[r];if(!r||typeof s.body!="string"||!Ha(s,Dl))return null}const o=t.aliases||Object.create(null);for(const r in o){const s=o[r],i=s.parent;if(!r||typeof i!="string"||!n[i]&&!o[i]||!Ha(s,Dl))return null}return t}const ef=Object.create(null);function d3(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Go(e,t){const n=ef[e]||(ef[e]=Object.create(null));return n[t]||(n[t]=d3(e,t))}function rm(e,t){return om(t)?nm(t,(n,o)=>{o?e.icons[n]=o:e.missing.add(n)}):[]}function f3(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let es=!1;function sm(e){return typeof e=="boolean"&&(es=e),es}function h3(e){const t=typeof e=="string"?ua(e,!0,es):e;if(t){const n=Go(t.provider,t.prefix),o=t.name;return n.icons[o]||(n.missing.has(o)?null:void 0)}}function p3(e,t){const n=ua(e,!0,es);if(!n)return!1;const o=Go(n.provider,n.prefix);return t?f3(o,n.name,t):(o.missing.add(n.name),!0)}function g3(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),es&&!t&&!e.prefix){let r=!1;return om(e)&&(e.prefix="",nm(e,(s,i)=>{p3(s,i)&&(r=!0)})),r}const n=e.prefix;if(!qs({prefix:n,name:"a"}))return!1;const o=Go(t,n);return!!rm(o,e)}const im=Object.freeze({width:null,height:null}),am=Object.freeze({...im,...Ai}),m3=/(-?[0-9.]*[0-9]+[0-9.]*)/g,v3=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function tf(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const o=e.split(m3);if(o===null||!o.length)return e;const r=[];let s=o.shift(),i=v3.test(s);for(;;){if(i){const a=parseFloat(s);isNaN(a)?r.push(s):r.push(Math.ceil(a*t*n)/n)}else r.push(s);if(s=o.shift(),s===void 0)return r.join("");i=!i}}function y3(e,t="defs"){let n="";const o=e.indexOf("<"+t);for(;o>=0;){const r=e.indexOf(">",o),s=e.indexOf("</"+t);if(r===-1||s===-1)break;const i=e.indexOf(">",s);if(i===-1)break;n+=e.slice(r+1,s).trim(),e=e.slice(0,o).trim()+e.slice(i+1)}return{defs:n,content:e}}function b3(e,t){return e?"<defs>"+e+"</defs>"+t:t}function _3(e,t,n){const o=y3(e);return b3(o.defs,t+o.content+n)}const x3=e=>e==="unset"||e==="undefined"||e==="none";function w3(e,t){const n={...ca,...e},o={...am,...t},r={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,o].forEach(y=>{const $=[],b=y.hFlip,C=y.vFlip;let w=y.rotate;b?C?w+=2:($.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),$.push("scale(-1 1)"),r.top=r.left=0):C&&($.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),$.push("scale(1 -1)"),r.top=r.left=0);let D;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:D=r.height/2+r.top,$.unshift("rotate(90 "+D.toString()+" "+D.toString()+")");break;case 2:$.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:D=r.width/2+r.left,$.unshift("rotate(-90 "+D.toString()+" "+D.toString()+")");break}w%2===1&&(r.left!==r.top&&(D=r.left,r.left=r.top,r.top=D),r.width!==r.height&&(D=r.width,r.width=r.height,r.height=D)),$.length&&(s=_3(s,'<g transform="'+$.join(" ")+'">',"</g>"))});const i=o.width,a=o.height,l=r.width,u=r.height;let c,d;i===null?(d=a===null?"1em":a==="auto"?u:a,c=tf(d,l/u)):(c=i==="auto"?l:i,d=a===null?tf(c,u/l):a==="auto"?u:a);const f={},h=(y,$)=>{x3($)||(f[y]=$.toString())};h("width",c),h("height",d);const p=[r.left,r.top,l,u];return f.viewBox=p.join(" "),{attributes:f,viewBox:p,body:s}}const k3=/\sid="(\S+)"/g,$3="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let E3=0;function S3(e,t=$3){const n=[];let o;for(;o=k3.exec(e);)n.push(o[1]);if(!n.length)return e;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const i=typeof t=="function"?t(s):t+(E3++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+i+r+"$3")}),e=e.replace(new RegExp(r,"g"),""),e}const Pl=Object.create(null);function C3(e,t){Pl[e]=t}function Ol(e){return Pl[e]||Pl[""]}function Du(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Pu=Object.create(null),ir=["https://api.simplesvg.com","https://api.unisvg.com"],Ks=[];for(;ir.length>0;)ir.length===1||Math.random()>.5?Ks.push(ir.shift()):Ks.push(ir.pop());Pu[""]=Du({resources:["https://api.iconify.design"].concat(Ks)});function N3(e,t){const n=Du(t);return n===null?!1:(Pu[e]=n,!0)}function Ou(e){return Pu[e]}const I3=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let nf=I3();function T3(e,t){const n=Ou(e);if(!n)return 0;let o;if(!n.maxURL)o=0;else{let r=0;n.resources.forEach(i=>{r=Math.max(r,i.length)});const s=t+".json?icons=";o=n.maxURL-r-n.path.length-s.length}return o}function A3(e){return e===404}const D3=(e,t,n)=>{const o=[],r=T3(e,t),s="icons";let i={type:s,provider:e,prefix:t,icons:[]},a=0;return n.forEach((l,u)=>{a+=l.length+1,a>=r&&u>0&&(o.push(i),i={type:s,provider:e,prefix:t,icons:[]},a=l.length),i.icons.push(l)}),o.push(i),o};function P3(e){if(typeof e=="string"){const t=Ou(e);if(t)return t.path}return"/"}const O3=(e,t,n)=>{if(!nf){n("abort",424);return}let o=P3(t.provider);switch(t.type){case"icons":{const s=t.prefix,a=t.icons.join(","),l=new URLSearchParams({icons:a});o+=s+".json?"+l.toString();break}case"custom":{const s=t.uri;o+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let r=503;nf(e+o).then(s=>{const i=s.status;if(i!==200){setTimeout(()=>{n(A3(i)?"abort":"next",i)});return}return r=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",r)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",r)})},M3={prepare:D3,send:O3};function z3(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((r,s)=>r.provider!==s.provider?r.provider.localeCompare(s.provider):r.prefix!==s.prefix?r.prefix.localeCompare(s.prefix):r.name.localeCompare(s.name));let o={provider:"",prefix:"",name:""};return e.forEach(r=>{if(o.name===r.name&&o.prefix===r.prefix&&o.provider===r.provider)return;o=r;const s=r.provider,i=r.prefix,a=r.name,l=n[s]||(n[s]=Object.create(null)),u=l[i]||(l[i]=Go(s,i));let c;a in u.icons?c=t.loaded:i===""||u.missing.has(a)?c=t.missing:c=t.pending;const d={provider:s,prefix:i,name:a};c.push(d)}),t}function lm(e,t){e.forEach(n=>{const o=n.loaderCallbacks;o&&(n.loaderCallbacks=o.filter(r=>r.id!==t))})}function R3(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const o=e.provider,r=e.prefix;t.forEach(s=>{const i=s.icons,a=i.pending.length;i.pending=i.pending.filter(l=>{if(l.prefix!==r)return!0;const u=l.name;if(e.icons[u])i.loaded.push({provider:o,prefix:r,name:u});else if(e.missing.has(u))i.missing.push({provider:o,prefix:r,name:u});else return n=!0,!0;return!1}),i.pending.length!==a&&(n||lm([e],s.id),s.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),s.abort))})}))}let V3=0;function H3(e,t,n){const o=V3++,r=lm.bind(null,n,o);if(!t.pending.length)return r;const s={id:o,icons:t,callback:e,abort:r};return n.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(s)}),r}function F3(e,t=!0,n=!1){const o=[];return e.forEach(r=>{const s=typeof r=="string"?ua(r,t,n):r;s&&o.push(s)}),o}var L3={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function B3(e,t,n,o){const r=e.resources.length,s=e.random?Math.floor(Math.random()*r):e.index;let i;if(e.random){let Y=e.resources.slice(0);for(i=[];Y.length>1;){const U=Math.floor(Math.random()*Y.length);i.push(Y[U]),Y=Y.slice(0,U).concat(Y.slice(U+1))}i=i.concat(Y)}else i=e.resources.slice(s).concat(e.resources.slice(0,s));const a=Date.now();let l="pending",u=0,c,d=null,f=[],h=[];typeof o=="function"&&h.push(o);function p(){d&&(clearTimeout(d),d=null)}function y(){l==="pending"&&(l="aborted"),p(),f.forEach(Y=>{Y.status==="pending"&&(Y.status="aborted")}),f=[]}function $(Y,U){U&&(h=[]),typeof Y=="function"&&h.push(Y)}function b(){return{startTime:a,payload:t,status:l,queriesSent:u,queriesPending:f.length,subscribe:$,abort:y}}function C(){l="failed",h.forEach(Y=>{Y(void 0,c)})}function w(){f.forEach(Y=>{Y.status==="pending"&&(Y.status="aborted")}),f=[]}function D(Y,U,R){const G=U!=="success";switch(f=f.filter(j=>j!==Y),l){case"pending":break;case"failed":if(G||!e.dataAfterTimeout)return;break;default:return}if(U==="abort"){c=R,C();return}if(G){c=R,f.length||(i.length?q():C());return}if(p(),w(),!e.random){const j=e.resources.indexOf(Y.resource);j!==-1&&j!==e.index&&(e.index=j)}l="completed",h.forEach(j=>{j(R)})}function q(){if(l!=="pending")return;p();const Y=i.shift();if(Y===void 0){if(f.length){d=setTimeout(()=>{p(),l==="pending"&&(w(),C())},e.timeout);return}C();return}const U={status:"pending",resource:Y,callback:(R,G)=>{D(U,R,G)}};f.push(U),u++,d=setTimeout(q,e.rotate),n(Y,t,U.callback)}return setTimeout(q),b}function um(e){const t={...L3,...e};let n=[];function o(){n=n.filter(a=>a().status==="pending")}function r(a,l,u){const c=B3(t,a,l,(d,f)=>{o(),u&&u(d,f)});return n.push(c),c}function s(a){return n.find(l=>a(l))||null}return{query:r,find:s,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:o}}function of(){}const Fa=Object.create(null);function j3(e){if(!Fa[e]){const t=Ou(e);if(!t)return;const n=um(t),o={config:t,redundancy:n};Fa[e]=o}return Fa[e]}function U3(e,t,n){let o,r;if(typeof e=="string"){const s=Ol(e);if(!s)return n(void 0,424),of;r=s.send;const i=j3(e);i&&(o=i.redundancy)}else{const s=Du(e);if(s){o=um(s);const i=e.resources?e.resources[0]:"",a=Ol(i);a&&(r=a.send)}}return!o||!r?(n(void 0,424),of):o.query(t,r,n)().abort}function rf(){}function Z3(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,R3(e)}))}function W3(e){const t=[],n=[];return e.forEach(o=>{(o.match(em)?t:n).push(o)}),{valid:t,invalid:n}}function ar(e,t,n){function o(){const r=e.pendingIcons;t.forEach(s=>{r&&r.delete(s),e.icons[s]||e.missing.add(s)})}if(n&&typeof n=="object")try{if(!rm(e,n).length){o();return}}catch(r){console.error(r)}o(),Z3(e)}function sf(e,t){e instanceof Promise?e.then(n=>{t(n)}).catch(()=>{t(null)}):t(e)}function G3(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:o}=e,r=e.iconsToLoad;if(delete e.iconsToLoad,!r||!r.length)return;const s=e.loadIcon;if(e.loadIcons&&(r.length>1||!s)){sf(e.loadIcons(r,o,n),c=>{ar(e,r,c)});return}if(s){r.forEach(c=>{const d=s(c,o,n);sf(d,f=>{const h=f?{prefix:o,icons:{[c]:f}}:null;ar(e,[c],h)})});return}const{valid:i,invalid:a}=W3(r);if(a.length&&ar(e,a,null),!i.length)return;const l=o.match(em)?Ol(n):null;if(!l){ar(e,i,null);return}l.prepare(n,o,i).forEach(c=>{U3(n,c,d=>{ar(e,c.icons,d)})})}))}const Y3=(e,t)=>{const n=F3(e,!0,sm()),o=z3(n);if(!o.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(o.loaded,o.missing,o.pending,rf)}),()=>{l=!1}}const r=Object.create(null),s=[];let i,a;return o.pending.forEach(l=>{const{provider:u,prefix:c}=l;if(c===a&&u===i)return;i=u,a=c,s.push(Go(u,c));const d=r[u]||(r[u]=Object.create(null));d[c]||(d[c]=[])}),o.pending.forEach(l=>{const{provider:u,prefix:c,name:d}=l,f=Go(u,c),h=f.pendingIcons||(f.pendingIcons=new Set);h.has(d)||(h.add(d),r[u][c].push(d))}),s.forEach(l=>{const u=r[l.provider][l.prefix];u.length&&G3(l,u)}),t?H3(t,o,s):rf};function q3(e,t){const n={...e};for(const o in t){const r=t[o],s=typeof r;o in im?(r===null||r&&(s==="string"||s==="number"))&&(n[o]=r):s===typeof n[o]&&(n[o]=o==="rotate"?r%4:r)}return n}const K3=/[\s,]+/;function X3(e,t){t.split(K3).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function J3(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function o(r){for(;r<0;)r+=4;return r%4}if(n===""){const r=parseInt(e);return isNaN(r)?0:o(r)}else if(n!==e){let r=0;switch(n){case"%":r=25;break;case"deg":r=90}if(r){let s=parseFloat(e.slice(0,e.length-n.length));return isNaN(s)?0:(s=s/r,s%1===0?o(s):0)}}return t}function Q3(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)n+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function eA(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function tA(e){return"data:image/svg+xml,"+eA(e)}function nA(e){return'url("'+tA(e)+'")'}const af={...am,inline:!1},oA={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},rA={display:"inline-block"},Ml={backgroundColor:"currentColor"},cm={backgroundColor:"transparent"},lf={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},uf={webkitMask:Ml,mask:Ml,background:cm};for(const e in uf){const t=uf[e];for(const n in lf)t[e+n]=lf[n]}const Xs={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";Xs[e+"-flip"]=t,Xs[e.slice(0,1)+"-flip"]=t,Xs[e+"Flip"]=t});function cf(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const df=(e,t)=>{const n=q3(af,t),o={...oA},r=t.mode||"svg",s={},i=t.style,a=typeof i=="object"&&!(i instanceof Array)?i:{};for(let y in t){const $=t[y];if($!==void 0)switch(y){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[y]=$===!0||$==="true"||$===1;break;case"flip":typeof $=="string"&&X3(n,$);break;case"color":s.color=$;break;case"rotate":typeof $=="string"?n[y]=J3($):typeof $=="number"&&(n[y]=$);break;case"ariaHidden":case"aria-hidden":$!==!0&&$!=="true"&&delete o["aria-hidden"];break;default:{const b=Xs[y];b?($===!0||$==="true"||$===1)&&(n[b]=!0):af[y]===void 0&&(o[y]=$)}}}const l=w3(e,n),u=l.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),r==="svg"){o.style={...s,...a},Object.assign(o,u);let y=0,$=t.id;return typeof $=="string"&&($=$.replace(/-/g,"_")),o.innerHTML=S3(l.body,$?()=>$+"ID"+y++:"iconifyVue"),ze("svg",o)}const{body:c,width:d,height:f}=e,h=r==="mask"||(r==="bg"?!1:c.indexOf("currentColor")!==-1),p=Q3(c,{...u,width:d+"",height:f+""});return o.style={...s,"--svg":nA(p),width:cf(u.width),height:cf(u.height),...rA,...h?Ml:cm,...a},ze("span",o)};sm(!0);C3("",M3);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!g3(o))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const o="IconifyProviders["+n+"] is invalid.";try{const r=t[n];if(typeof r!="object"||!r||r.resources===void 0)continue;N3(n,r)||console.error(o)}catch{console.error(o)}}}}const sA={...ca,body:""},iA=Be((e,{emit:t})=>{const n=ue(null);function o(){n.value&&(n.value.abort?.(),n.value=null)}const r=ue(!!e.ssr),s=ue(""),i=Ro(null);function a(){const u=e.icon;if(typeof u=="object"&&u!==null&&typeof u.body=="string")return s.value="",{data:u};let c;if(typeof u!="string"||(c=ua(u,!1,!0))===null)return null;let d=h3(c);if(!d){const p=n.value;return(!p||p.name!==u)&&(d===null?n.value={name:u}:n.value={name:u,abort:Y3([c],l)}),null}o(),s.value!==u&&(s.value=u,St(()=>{t("load",u)}));const f=e.customise;if(f){d=Object.assign({},d);const p=f(d.body,c.name,c.prefix,c.provider);typeof p=="string"&&(d.body=p)}const h=["iconify"];return c.prefix!==""&&h.push("iconify--"+c.prefix),c.provider!==""&&h.push("iconify--"+c.provider),{data:d,classes:h}}function l(){const u=a();u?u.data!==i.value?.data&&(i.value=u):i.value=null}return r.value?l():rt(()=>{r.value=!0,l()}),Ce(()=>e.icon,l),vo(o),()=>{const u=i.value;if(!u)return df(sA,e);let c=e;return u.classes&&(c={...e,class:u.classes.join(" ")}),df({...ca,...u.data},c)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),pt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},aA={__name:"Icon",props:{icon:{type:String,required:!0},size:{type:[String,Number],default:16},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},color:{type:String,default:null},className:{type:String,default:""}},setup(e){return(t,n)=>(M(),qe(ae(iA),{icon:e.icon,width:e.width||e.size,height:e.height||e.size,class:Ze(["flow-icon",e.className]),style:Ke({color:e.color})},null,8,["icon","width","height","class","style"]))}},Ie=pt(aA,[["__scopeId","data-v-4b4f777d"]]),lA={class:"h-12 bg-flow-surface dark:bg-flow-surface-dark border-b border-flow-border dark:border-flow-border-dark flex items-center justify-between px-4 relative z-[100] backdrop-blur-sm"},uA={class:"flex items-center gap-2"},cA={class:"flex items-center gap-3 px-2"},dA={class:"flex items-center gap-2 flex-1 justify-center"},fA={class:"flex items-center gap-1"},hA={class:"flex items-center gap-1"},pA=["disabled"],gA=["disabled"],mA={class:"flex items-center gap-1"},vA={class:"flex items-center gap-2"},yA=["title"],bA={key:0,class:"flex items-center gap-1.5 px-3 py-1 bg-surface-hover-light dark:bg-surface-hover-dark rounded-2xl"},_A={class:"text-xs text-text-muted-light dark:text-text-muted-dark font-medium"},xA=["title"],wA={class:"w-7 h-7 flex items-center justify-center bg-primary text-white rounded-md text-xs font-semibold"},kA={key:0,class:"absolute right-0 top-full mt-2 w-48 bg-flow-surface dark:bg-flow-surface-dark border border-flow-border dark:border-flow-border-dark rounded-lg shadow-lg backdrop-blur-sm z-50 py-1"},$A={class:"px-3 py-2 border-b border-flow-border dark:border-flow-border-dark"},EA={class:"text-xs text-flow-text-muted dark:text-flow-text-muted-dark"},SA={key:0},CA={key:1},NA={__name:"TopToolbar",props:{canUndo:{type:Boolean,default:!1},canRedo:{type:Boolean,default:!1},executionStatus:{type:String,default:null}},emits:["execute","clear","undo","redo","toggleHelp"],setup(e,{emit:t}){const n=e,o=t,r=vt(),{isDark:s,toggleTheme:i}=Qg(),a=ue(!1),l=ue(null),u=Q(()=>{switch(n.executionStatus){case"running":return"Executing...";case"success":return"Executed";case"error":return"Error";default:return""}}),c=Q(()=>r.syncStatus),d=Q(()=>{switch(c.value){case"synced":return"material-symbols:cloud-done";case"syncing":return"material-symbols:sync";case"error":return"material-symbols:cloud-off";case"offline":return"material-symbols:wifi-off";default:return"material-symbols:cloud"}}),f=Q(()=>{switch(c.value){case"synced":return"Saved";case"syncing":return"Saving...";case"error":return"Error";case"offline":return"Offline";default:return""}}),h=Q(()=>{switch(c.value){case"synced":return"All changes saved to cloud";case"syncing":return"Saving changes...";case"error":return"Failed to save changes";case"offline":return"No connection to server";default:return""}}),p=()=>{a.value=!a.value},y=()=>{o("execute")},$=()=>{confirm("Are you sure you want to clear your credentials? You will need to reload with a new token to continue.")&&(r.clearCredentials(),a.value=!1,alert("Credentials cleared. Please reload the page with a valid token to continue."))},b=C=>{l.value&&!l.value.contains(C.target)&&(a.value=!1)};return rt(()=>{document.addEventListener("click",b)}),vo(()=>{document.removeEventListener("click",b)}),(C,w)=>(M(),L("div",lA,[x("div",uA,[x("div",cA,[ee(Ie,{icon:"material-symbols:hub",size:24,color:"#6366f1"}),w[6]||(w[6]=x("span",{class:"text-lg font-bold text-flow-text dark:text-flow-text-dark tracking-tight"},"FlowForge",-1))])]),x("div",dA,[x("div",fA,[x("button",{onClick:y,class:"inline-flex items-center gap-1.5 px-4 py-2 bg-primary border border-primary rounded-lg text-white text-sm font-semibold cursor-pointer transition-all duration-200 hover:bg-primary-hover hover:border-primary-hover hover:shadow-lg hover:scale-105 active:scale-95"},[ee(Ie,{icon:"material-symbols:play-arrow",size:16}),w[7]||(w[7]=Fe(" Execute ",-1))])]),w[9]||(w[9]=x("div",{class:"w-px h-6 bg-flow-border dark:bg-flow-border-dark mx-3 opacity-50"},null,-1)),x("div",hA,[x("button",{onClick:w[0]||(w[0]=D=>C.$emit("undo")),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-md text-text-secondary-light dark:text-text-secondary-dark text-sm font-medium cursor-pointer transition-all hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark hover:border-border-hover-light dark:hover:border-border-hover-dark disabled:opacity-50 disabled:cursor-not-allowed",title:"Undo (Ctrl+Z)",disabled:!e.canUndo},[ee(Ie,{icon:"material-symbols:undo",size:16})],8,pA),x("button",{onClick:w[1]||(w[1]=D=>C.$emit("redo")),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-md text-text-secondary-light dark:text-text-secondary-dark text-sm font-medium cursor-pointer transition-all hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark hover:border-border-hover-light dark:hover:border-border-hover-dark disabled:opacity-50 disabled:cursor-not-allowed",title:"Redo (Ctrl+Y)",disabled:!e.canRedo},[ee(Ie,{icon:"material-symbols:redo",size:16})],8,gA)]),w[10]||(w[10]=x("div",{class:"w-px h-6 bg-border-light dark:bg-border-dark mx-2"},null,-1)),x("div",mA,[x("button",{onClick:w[2]||(w[2]=D=>C.$emit("clear")),class:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-md text-error text-sm font-medium cursor-pointer transition-all hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark hover:border-border-hover-light dark:hover:border-border-hover-dark",title:"Clear Flow"},[ee(Ie,{icon:"material-symbols:clear-all",size:16}),w[8]||(w[8]=Fe(" Clear ",-1))])])]),x("div",vA,[x("div",{class:Ze(["flex items-center gap-1.5 px-2.5 py-1 rounded-lg",{"bg-green-50 dark:bg-green-900/20":c.value==="synced","bg-blue-50 dark:bg-blue-900/20":c.value==="syncing","bg-red-50 dark:bg-red-900/20":c.value==="error","bg-gray-50 dark:bg-gray-900/20":c.value==="offline"}]),title:h.value},[ee(Ie,{icon:d.value,size:14,class:Ze({"text-green-600 dark:text-green-400":c.value==="synced","text-blue-600 dark:text-blue-400 animate-spin":c.value==="syncing","text-red-600 dark:text-red-400":c.value==="error","text-gray-600 dark:text-gray-400":c.value==="offline"})},null,8,["icon","class"]),x("span",{class:Ze(["text-xs font-medium",{"text-green-700 dark:text-green-300":c.value==="synced","text-blue-700 dark:text-blue-300":c.value==="syncing","text-red-700 dark:text-red-300":c.value==="error","text-gray-700 dark:text-gray-300":c.value==="offline"}])},ge(f.value),3)],10,yA),e.executionStatus?(M(),L("div",bA,[x("div",{class:Ze(["w-2 h-2 rounded-full",{"bg-gray-400":!e.executionStatus,"bg-warning animate-pulse":e.executionStatus==="running","bg-success":e.executionStatus==="success","bg-error":e.executionStatus==="error"}])},null,2),x("span",_A,ge(u.value),1)])):me("",!0),x("button",{onClick:w[3]||(w[3]=(...D)=>ae(i)&&ae(i)(...D)),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-md text-text-secondary-light dark:text-text-secondary-dark text-sm font-medium cursor-pointer transition-all hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark hover:border-border-hover-light dark:hover:border-border-hover-dark",title:`Switch to ${ae(s)?"light":"dark"} mode`},[ee(Ie,{icon:ae(s)?"material-symbols:light-mode":"material-symbols:dark-mode",size:16},null,8,["icon"])],8,xA),x("button",{onClick:w[4]||(w[4]=D=>C.$emit("toggleHelp")),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-md text-text-secondary-light dark:text-text-secondary-dark text-sm font-medium cursor-pointer transition-all hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark hover:border-border-hover-light dark:hover:border-border-hover-dark",title:"Help"},[ee(Ie,{icon:"material-symbols:help",size:16})]),x("div",{class:"ml-2 relative",ref_key:"userMenuRef",ref:l},[x("button",{onClick:p,class:"flex items-center gap-1 py-1 px-2 pr-2 bg-transparent border-none rounded-md cursor-pointer transition-colors text-text-muted-light dark:text-text-muted-dark hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark"},[x("div",wA,[ee(Ie,{icon:"material-symbols:person",size:14})]),ee(Ie,{icon:"material-symbols:keyboard-arrow-down",size:12,class:Ze([{"rotate-180":a.value},"transition-transform duration-200"])},null,8,["class"])]),a.value?(M(),L("div",kA,[x("div",$A,[x("div",EA,[ae(r).isAuthenticated()?(M(),L("div",SA," Flow ID: "+ge(ae(r).apiConfig.flowId),1)):(M(),L("div",CA,"Not authenticated"))])]),ae(r).isAuthenticated()?(M(),L("button",{key:0,onClick:$,class:"w-full flex items-center gap-2 px-3 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"},[ee(Ie,{icon:"material-symbols:logout",size:16}),w[11]||(w[11]=Fe(" Clear Credentials ",-1))])):me("",!0),x("button",{onClick:w[5]||(w[5]=D=>a.value=!1),class:"w-full flex items-center gap-2 px-3 py-2 text-left text-sm text-flow-text-secondary dark:text-flow-text-secondary-dark hover:bg-flow-surface-hover dark:hover:bg-flow-surface-hover-dark transition-colors"},[ee(Ie,{icon:"material-symbols:close",size:16}),w[12]||(w[12]=Fe(" Close ",-1))])])):me("",!0)],512)])]))}},IA=pt(NA,[["__scopeId","data-v-f1cca293"]]),TA={class:"w-70 h-full bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden"},AA={class:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"},DA={class:"flex-1 overflow-y-auto p-2"},PA=["onClick"],OA={class:"flex-1 text-sm font-semibold text-gray-700 dark:text-gray-200"},MA={class:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full font-medium"},zA={class:"py-1"},RA=["onDragstart","onClick"],VA={class:"flex-1"},HA={class:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1"},FA={class:"text-xs text-gray-500 dark:text-gray-400 leading-relaxed"},LA={__name:"NodeSidebar",setup(e){vt();const{addNodes:t,project:n}=Ge(),o=ue(""),r=ue({}),s=ue([]);rt(()=>{i()});function i(){try{const h=Kg();s.value=h.map(p=>{const $=GT(p.id).map(C=>({type:C.type,name:C.label,icon:C.icon,description:C.description,color:C.color})),b=h.indexOf(p)===0;return r.value[p.label]=b,{name:p.label,icon:p.icon,id:p.id,nodes:$}})}catch{s.value=[]}}const a=Q(()=>o.value?s.value.map(h=>({...h,nodes:h.nodes.filter(p=>p.name.toLowerCase().includes(o.value.toLowerCase())||p.description.toLowerCase().includes(o.value.toLowerCase()))})).filter(h=>h.nodes.length>0):s.value),l=h=>{r.value[h]=!r.value[h]},u=(h,p)=>{h.dataTransfer.effectAllowed="move",h.dataTransfer.setData("application/vueflow",JSON.stringify(p))},c=h=>{const{x:p,y}=n({x:window.innerWidth/2,y:window.innerHeight/2}),$=f(h.type,{x:p,y});t([$])},d=h=>({input:"bg-blue-100 dark:bg-blue-800/50 border-blue-200 dark:border-blue-700/50 text-blue-600 dark:text-blue-400",connector:"bg-green-100 dark:bg-green-800/50 border-green-200 dark:border-green-700/50 text-green-600 dark:text-green-400","field-extractor":"bg-cyan-100 dark:bg-cyan-800/50 border-cyan-200 dark:border-cyan-700/50 text-cyan-600 dark:text-cyan-400","array-processor":"bg-orange-100 dark:bg-orange-800/50 border-orange-200 dark:border-orange-700/50 text-orange-600 dark:text-orange-400",add:"bg-purple-100 dark:bg-purple-800/50 border-purple-200 dark:border-purple-700/50 text-purple-600 dark:text-purple-400",subtract:"bg-purple-100 dark:bg-purple-800/50 border-purple-200 dark:border-purple-700/50 text-purple-600 dark:text-purple-400",multiply:"bg-purple-100 dark:bg-purple-800/50 border-purple-200 dark:border-purple-700/50 text-purple-600 dark:text-purple-400",divide:"bg-purple-100 dark:bg-purple-800/50 border-purple-200 dark:border-purple-700/50 text-purple-600 dark:text-purple-400",variable:"bg-pink-100 dark:bg-pink-800/50 border-pink-200 dark:border-pink-700/50 text-pink-600 dark:text-pink-400",output:"bg-red-100 dark:bg-red-800/50 border-red-200 dark:border-red-700/50 text-red-600 dark:text-red-400"})[h]||"bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300",f=(h,p)=>{const y={id:`${h}_${Date.now()}`,type:h,position:p,data:{}};switch(h){case"input":y.data={label:"API Input",parameters:[]};break;case"connector":y.data={label:"Data Connector",sourceType:"analytics",analyticsType:"sales",selectedApi:"custom",apiUrl:"",dataPath:"",mockData:Math.floor(Math.random()*100)};break;case"field-extractor":y.data={label:"Field Extractor",selectedFields:[]};break;case"array-processor":y.data={label:"Array Processor",operation:"extract",fieldPath:"",filterValue:""};break;case"add":case"subtract":case"multiply":case"divide":y.data={label:h.charAt(0).toUpperCase()+h.slice(1),operation:h};break;case"output":y.data={label:"My Output",outputFields:[]};break;case"variable":y.data={label:"Variable",mode:"set",variableName:"myVariable"};break;default:y.data={label:h.charAt(0).toUpperCase()+h.slice(1)}}return y};return(h,p)=>(M(),L("div",TA,[x("div",AA,[Ne(x("input",{"onUpdate:modelValue":p[0]||(p[0]=y=>o.value=y),type:"text",placeholder:"Search nodes...",class:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 placeholder-gray-500 dark:placeholder-gray-400"},null,512),[[Qe,o.value]])]),x("div",DA,[(M(!0),L($e,null,Ue(a.value,y=>(M(),L("div",{key:y.name,class:"mb-1"},[x("div",{class:"flex items-center px-3 py-2 cursor-pointer rounded-lg transition-all duration-200 select-none hover:bg-gray-50 dark:hover:bg-gray-800",onClick:$=>l(y.name)},[ee(Ie,{icon:r.value[y.name]?"material-symbols:keyboard-arrow-down":"material-symbols:keyboard-arrow-right",size:16,class:"mr-2 transition-transform duration-200 text-gray-500 dark:text-gray-400"},null,8,["icon"]),ee(Ie,{icon:y.icon,size:16,class:"mr-2 text-gray-600 dark:text-gray-300"},null,8,["icon"]),x("span",OA,ge(y.name),1),x("span",MA,ge(y.nodes.length),1)],8,PA),Ne(x("div",zA,[(M(!0),L($e,null,Ue(y.nodes,$=>(M(),L("div",{key:$.type,class:"flex items-center px-3 py-3 mx-2 my-1 rounded-lg cursor-move transition-all duration-200 bg-gray-50 dark:bg-gray-800 border border-transparent hover:bg-white dark:hover:bg-gray-900 hover:border-gray-200 dark:hover:border-gray-600 hover:shadow-md hover:translate-x-1 active:cursor-grabbing active:scale-95",draggable:"true",onDragstart:b=>u(b,$),onClick:b=>c($)},[x("div",{class:Ze(["w-10 h-10 flex items-center justify-center rounded-lg mr-3 shrink-0 shadow-sm border",d($.type)])},[ee(Ie,{icon:$.icon,size:20},null,8,["icon"])],2),x("div",VA,[x("div",HA,ge($.name),1),x("div",FA,ge($.description),1)])],40,RA))),128))],512),[[wv,r.value[y.name]]])]))),128))])]))}},BA=pt(LA,[["__scopeId","data-v-c1158357"]]),dm=Yh("connection",()=>{const e=ue([]),t=ue(!1),n=ue(null),o=Q(()=>e.value.filter(p=>p.serviceType==="analytics")),r=Q(()=>e.value.filter(p=>p.serviceType==="sheets")),s=Q(()=>o.value.length>0),i=Q(()=>r.value.length>0);return{connections:e,loading:t,error:n,getAnalyticsConnections:o,getSheetsConnections:r,hasAnalyticsConnection:s,hasSheetsConnection:i,getConnectionById:h=>e.value.find(p=>p.id===h),getConnectionsByType:h=>e.value.filter(p=>p.serviceType===h),fetchConnections:async h=>{t.value=!0,n.value=null;try{const p=h?.baseUrl||"http://localhost:3001",y=h?.token;if(!y){e.value=[];return}const $=await fetch(`${p}/api/oauth/connections`,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(!$.ok)throw new Error(`Failed to fetch connections: ${$.status}`);const b=await $.json();let C=b.data?.connections||b.connections||[];const w=[],D=new Set;for(const q of C){const Y=q.id||q._id||q.connectionId;if(!Y){w.push(q);continue}D.has(Y)||(D.add(Y),w.push(q))}e.value=w}catch(p){n.value=p.message,e.value=[]}finally{t.value=!1}},connectGoogle:async(h,p)=>{t.value=!0,n.value=null;try{const y=p?.baseUrl||"http://localhost:3001",$=p?.token;if(!$)throw localStorage.getItem("flowforge_token")?new Error(" Token no foi passado corretamente. Verifique que flowStore.apiConfig.token est configurado."):new Error(" Token de autenticao no encontrado. Acesse a aplicao com ?authToken=SEU_TOKEN&flowId=SEU_FLOW_ID");const C={analytics:"analytics",sheets:"sheets"}[h];if(!C)throw new Error(`Tipo de servio desconhecido: ${h}`);const w=`${y}/api/oauth/google/authorize?scopes=${C}&purpose=connection&serviceType=${h}`,D=await fetch(w,{method:"GET",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}});if(!D.ok){let U=`Erro HTTP ${D.status}`;try{const R=await D.json();U=R.message||R.error||U}catch{}throw D.status===404?new Error(" Rota OAuth no encontrada no backend. Verifique se o backend est atualizado e rodando."):D.status===401?new Error(" Token invlido ou expirado. Configure o token no flowStore."):new Error(` Falha ao iniciar OAuth: ${U}`)}const q=await D.json(),Y=q.data?.authUrl||q.authUrl;if(!Y)throw new Error(" Backend no retornou URL de autorizao. Verifique se a rota /api/oauth/google/authorize est implementada no backend.");window.location.href=Y}catch(y){throw n.value=y.message,t.value=!1,y}},revokeConnection:async(h,p)=>{t.value=!0,n.value=null;try{const y=p?.baseUrl||"http://localhost:3001",$=p?.token;if(!$)throw new Error("Authentication token required");const b=await fetch(`${y}/api/oauth/connections/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}});if(!b.ok)throw new Error(`Failed to revoke connection: ${b.status}`);const C=await b.json();if(C.success)e.value=e.value.filter(w=>w.id!==h);else throw new Error(C.error||"Failed to revoke connection")}catch(y){throw n.value=y.message,y}finally{t.value=!1}},handleOAuthCallback:h=>{const p=h.get("success")==="true",y=h.get("serviceType"),$=h.get("email"),b=h.get("error");return p&&y&&$?{success:!0,message:`Google ${y==="analytics"?"Analytics":"Sheets"} conectado com sucesso!`,serviceType:y,email:$}:b?{success:!1,message:`Erro ao conectar: ${b}`}:{success:!1,message:"Erro desconhecido ao conectar"}}}}),jA={class:"connection-select space-y-2"},UA={key:0},ZA=["value"],WA=["value"],GA={key:1,class:"text-center py-3 bg-gray-50 dark:bg-gray-800 rounded-md border border-dashed border-gray-300 dark:border-gray-600"},YA={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},qA=["disabled"],KA={class:"mr-2"},XA=["disabled"],JA={__name:"ConnectionSelect",props:{serviceType:{type:String,required:!0,validator:e=>["analytics","sheets"].includes(e)},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,r=dm(),s=vt(),i=ue(!1),a=ue(!1),l=Q(()=>n.serviceType==="analytics"?r.getAnalyticsConnections:r.getSheetsConnections),u=Q(()=>n.serviceType==="analytics"?"Google Analytics":"Google Sheets"),c=h=>{o("update:modelValue",h.target.value)},d=async()=>{i.value=!0;try{await r.connectGoogle(n.serviceType,s.apiConfig)}catch(h){alert(`Erro ao conectar: ${h.message}`)}finally{i.value=!1}},f=async()=>{a.value=!0;try{await r.fetchConnections(s.apiConfig)}catch{}finally{a.value=!1}};return rt(async()=>{r.connections.length===0&&await r.fetchConnections(s.apiConfig)}),(h,p)=>(M(),L("div",jA,[l.value.length>0?(M(),L("div",UA,[x("select",{value:e.modelValue,onChange:c,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[p[0]||(p[0]=x("option",{value:""},"Selecione uma conexo...",-1)),(M(!0),L($e,null,Ue(l.value,y=>(M(),L("option",{key:y.id,value:y.id},ge(y.email||y.accountEmail||y.name||`Conexo ${y.id?.substring(0,8)}`),9,WA))),128))],40,ZA)])):(M(),L("div",GA,[x("p",YA," Nenhuma conexo "+ge(u.value)+" disponvel ",1)])),x("button",{onClick:d,disabled:i.value,type:"button",class:"w-full px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-400 border border-blue-200 dark:border-blue-800 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[x("span",KA,ge(l.value.length>0?"":""),1),Fe(" "+ge(i.value?"Conectando...":`${l.value.length>0?"Adicionar":"Conectar"} ${u.value}`),1)],8,qA),l.value.length>0?(M(),L("button",{key:2,onClick:f,disabled:a.value,type:"button",class:"w-full px-2 py-1.5 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"},ge(a.value?"Atualizando...":" Atualizar lista"),9,XA)):me("",!0)]))}},fm=pt(JA,[["__scopeId","data-v-6542a43e"]]),QA={class:"generic-properties space-y-4"},e4={key:0,class:"mb-4"},t4=["disabled"],n4={key:0,class:"mt-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700"},o4={class:"text-xs text-gray-600 dark:text-gray-400 overflow-auto max-h-32"},r4={key:0,class:"space-y-1"},s4={class:"flex items-center justify-between"},i4={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},a4={key:0,class:"text-red-500"},l4={key:0,class:"flex items-center gap-1"},u4=["checked","onChange"],c4=["onUpdate:modelValue","placeholder","disabled"],d4={key:1,class:"space-y-1"},f4={class:"flex items-center justify-between"},h4={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},p4={key:0,class:"text-red-500"},g4={key:0,class:"flex items-center gap-1"},m4=["checked","onChange"],v4=["onUpdate:modelValue","placeholder","disabled"],y4={key:2,class:"space-y-1"},b4={class:"flex items-center justify-between"},_4={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},x4={key:0,class:"text-red-500"},w4={key:0,class:"flex items-center gap-1"},k4=["checked","onChange"],$4=["onUpdate:modelValue","disabled"],E4=["value"],S4={key:3,class:"space-y-1"},C4={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},N4={key:0,class:"text-red-500"},I4={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},T4={key:4,class:"space-y-1"},A4={class:"flex items-center justify-between"},D4={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},P4={key:0,class:"text-red-500"},O4={key:0,class:"flex items-center gap-1"},M4=["checked","onChange"],z4=["onUpdate:modelValue","placeholder","disabled"],R4={key:5,class:"space-y-1"},V4={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},H4={key:0,class:"text-red-500"},F4={class:"flex items-center gap-2"},L4=["onUpdate:modelValue"],B4=["onUpdate:modelValue","placeholder"],j4={key:6,class:"space-y-1"},U4={class:"flex items-center justify-between"},Z4={class:"flex items-center space-x-2"},W4=["onUpdate:modelValue","disabled"],G4={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},Y4={key:0,class:"flex items-center gap-1"},q4=["checked","onChange"],K4={key:7,class:"space-y-1"},X4={class:"flex items-center justify-between"},J4={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},Q4={key:0,class:"text-red-500"},e5={key:0,class:"flex items-center gap-1"},t5=["checked","onChange"],n5=["onUpdate:modelValue","placeholder","disabled"],o5={key:8,class:"space-y-1"},r5={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},s5={key:0,class:"text-red-500"},i5={class:"flex gap-2"},a5=["onUpdate:modelValue"],l5=["value"],u5=["onUpdate:modelValue","placeholder"],c5={key:9,class:"space-y-2"},d5={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},f5={key:0,class:"text-xs text-gray-500 dark:text-gray-400 italic mb-2"},h5={key:1,class:"space-y-2 mb-3"},p5={class:"flex items-center justify-between"},g5={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},m5=["onClick"],v5=["onUpdate:modelValue"],y5=["onUpdate:modelValue"],b5=["onUpdate:modelValue"],_5=["onUpdate:modelValue","step"],x5={key:2,class:"flex items-center gap-2 px-2 py-1"},w5=["onUpdate:modelValue"],k5={class:"text-xs text-gray-600 dark:text-gray-400"},$5=["onUpdate:modelValue"],E5=["onUpdate:modelValue","placeholder"],S5={class:"flex items-center gap-2"},C5=["onUpdate:modelValue"],N5=["onClick"],I5={key:10,class:"space-y-1"},T5={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},A5={key:0,class:"text-red-500"},D5={key:11,class:"space-y-2"},P5={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},O5={key:0,class:"text-red-500"},M5={key:0,class:"text-xs text-gray-500 dark:text-gray-400 italic mb-2"},z5={key:1,class:"space-y-1 mb-2"},R5={class:"text-xs font-medium text-gray-600 dark:text-gray-400"},V5={class:"flex flex-wrap gap-1"},H5=["onClick","title"],F5=["title"],L5=["onClick"],B5={class:"space-y-1"},j5={key:0,class:"max-h-40 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded p-2 space-y-1"},U5=["onClick","disabled"],Z5={key:1,class:"text-xs text-gray-500 dark:text-gray-400 italic p-2 border border-dashed border-gray-300 dark:border-gray-600 rounded"},W5={key:1,class:"text-center py-8"},G5={__name:"GenericProperties",props:{nodeId:{type:String,required:!0},localData:{type:Object,default:()=>({})}},emits:["update-node-data"],setup(e,{emit:t}){const n=e,o=t,r=vt(),s=ue({...n.localData}),i=ue(!1),a=ue(null),l=Q(()=>{const V=r.nodes.find(g=>g.id===n.nodeId);return!V||V.type!=="variable"?[]:r.nodes.filter(g=>g.type==="variable"&&g.id!==n.nodeId&&r.nodeData[g.id]?.mode==="set").map(g=>r.nodeData[g.id]?.variableName).filter(g=>g&&g.trim()!=="").filter((g,N,S)=>S.indexOf(g)===N).sort()}),u=Q(()=>{if(!r.nodes.find(S=>S.id===n.nodeId))return[];const A=r.edges.filter(S=>S.target===n.nodeId&&S.targetHandle==="data-input"&&S.edgeType!=="flow");if(A.length===0)return[];const B=A[0],g=r.executionResults[B.source];if(!g)return[];const N=typeof g=="object"&&g!==null&&B.sourceHandle in g?g[B.sourceHandle]:g;return c(N)}),c=(V,A="")=>{const B=[];if(!V||typeof V!="object")return B;if(Array.isArray(V))return V.length>0?c(V[0],A):B;for(const g in V){const N=A?`${A}.${g}`:g;if(B.push(N),V[g]&&typeof V[g]=="object"&&!Array.isArray(V[g])){const S=c(V[g],N);B.push(...S)}}return B},d=Q(()=>{const V=r.nodes.find(A=>A.id===n.nodeId);return V?bo(V.type):null}),f=Q(()=>d.value?.config||{}),h=(V,A)=>{if(!V.condition)return!0;for(const[B,g]of Object.entries(V.condition)){const N=s.value[B];if(Array.isArray(g)){if(!g.includes(N))return!1}else if(N!==g)return!1}return!0},p=Q(()=>{const V={};for(const[A,B]of Object.entries(f.value))h(B)&&(V[A]=B);return V});Ce(()=>n.localData,V=>{s.value={...V}},{deep:!0,immediate:!0}),rt(()=>{const V=f.value;for(const A in V)s.value[A]===void 0&&V[A].default!==void 0&&(s.value[A]=V[A].default);b()});const y=async()=>{i.value=!0,a.value=null;try{const V=r.nodes.find(X=>X.id===n.nodeId);if(!V)throw new Error("Node not found");const A={...s.value},B={apiConfig:{baseUrl:r.apiConfig?.baseUrl||"http://localhost:3001",token:r.apiConfig?.token||""}},g=r.getNodeDataInputs(n.nodeId);r.updateNodeData(n.nodeId,A);const N={...V,data:A},S=await r.executeNode(N,g);a.value=S;const z=Tl(N,S);r.setExecutionResult(n.nodeId,z);const H=r.edges.filter(X=>X.source===n.nodeId&&(X.edgeType==="data"||!X.sourceHandle?.startsWith("exec-")));for(const X of H)await r.propagateDataToTarget(X)}catch(V){a.value={error:V.message}}finally{i.value=!1}},$=V=>V?V.error?`Error: ${V.error}`:JSON.stringify(V,null,2):"",b=()=>{const V=f.value;for(const[A,B]of Object.entries(V))B.mapTo&&s.value[A]!==void 0&&(s.value[B.mapTo]=s.value[A]);r.updateNodeData(n.nodeId,s.value),o("update-node-data")},C=(V,A)=>{f.value[V]?.singleSelect===!0?s.value[V]=[A]:(s.value[V]||(s.value[V]=[]),s.value[V].includes(A)||s.value[V].push(A)),d.value?.type==="field-extractor"&&w(A),b()},w=V=>{if(!r.nodes.find(H=>H.id===n.nodeId))return;const B=r.edges.filter(H=>H.target===n.nodeId&&H.targetHandle==="data-input"&&H.edgeType!=="flow");if(B.length===0)return;const g=B[0],N=r.executionResults[g.source];if(!N)return;const S=LC(N,V),z=Jr(S);s.value.fieldTypes||(s.value.fieldTypes={}),s.value.fieldTypes[V]=z,b()},D=(V,A)=>{if(s.value[V]){const B=s.value[V][A];s.value[V].splice(A,1),s.value.fieldOutputsEnabled&&B&&delete s.value.fieldOutputsEnabled[B],s.value.fieldTypes&&B&&delete s.value.fieldTypes[B],b()}},q=V=>{s.value[V]||(s.value[V]=[]),s.value[V].push({name:`param${s.value[V].length+1}`,type:"any",required:!1,defaultValue:null}),b()},Y=(V,A)=>{s.value[V]&&(s.value[V].splice(A,1),b())},U=V=>{s.value.fieldOutputsEnabled||(s.value.fieldOutputsEnabled={});const A=s.value.fieldOutputsEnabled[V];s.value.fieldOutputsEnabled[V]=A===!1,b()},R=V=>s.value.fieldOutputsEnabled?s.value.fieldOutputsEnabled[V]!==!1:!0,G=V=>s.value.exposedFields?.[V]!==void 0,j=(V,A)=>{s.value.exposedFields||(s.value.exposedFields={}),s.value.exposedFields[V]?delete s.value.exposedFields[V]:s.value.exposedFields[V]={label:A.label,type:A.type||"any",required:A.required||!1},b()};return(V,A)=>(M(),L("div",QA,[d.value?.executable?(M(),L("div",e4,[x("button",{onClick:y,disabled:i.value,class:"w-full px-4 py-2.5 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white text-sm font-medium rounded-md cursor-pointer transition-colors disabled:cursor-not-allowed"},[ee(Ie,{icon:i.value?"material-symbols:hourglass-empty":"material-symbols:play-arrow",size:16},null,8,["icon"]),Fe(" "+ge(i.value?"Executing...":"Execute Node"),1)],8,t4),a.value?(M(),L("div",n4,[A[0]||(A[0]=x("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Result:",-1)),x("pre",o4,ge($(a.value)),1)])):me("",!0)])):me("",!0),(M(!0),L($e,null,Ue(p.value,(B,g)=>(M(),L("div",{key:g,class:"form-group"},[B.type==="string"?(M(),L("div",r4,[x("div",s4,[x("label",i4,[Fe(ge(B.label)+" ",1),B.required?(M(),L("span",a4,"*")):me("",!0)]),d.value?.type!=="input"?(M(),L("div",l4,[x("input",{type:"checkbox",checked:G(g),onChange:N=>j(g,B),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,u4),A[1]||(A[1]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):me("",!0)]),Ne(x("input",{type:"text","onUpdate:modelValue":N=>s.value[g]=N,onInput:b,placeholder:B.placeholder||"",disabled:G(g),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,c4),[[Qe,s.value[g]]])])):B.type==="textarea"?(M(),L("div",d4,[x("div",f4,[x("label",h4,[Fe(ge(B.label)+" ",1),B.required?(M(),L("span",p4,"*")):me("",!0)]),d.value?.type!=="input"?(M(),L("div",g4,[x("input",{type:"checkbox",checked:G(g),onChange:N=>j(g,B),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,m4),A[2]||(A[2]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):me("",!0)]),Ne(x("textarea",{"onUpdate:modelValue":N=>s.value[g]=N,onInput:b,placeholder:B.placeholder||"",disabled:G(g),rows:"4",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,v4),[[Qe,s.value[g]]])])):B.type==="select"?(M(),L("div",y4,[x("div",b4,[x("label",_4,[Fe(ge(B.label)+" ",1),B.required?(M(),L("span",x4,"*")):me("",!0)]),d.value?.type!=="input"?(M(),L("div",w4,[x("input",{type:"checkbox",checked:G(g),onChange:N=>j(g,B),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,k4),A[3]||(A[3]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):me("",!0)]),Ne(x("select",{"onUpdate:modelValue":N=>s.value[g]=N,onChange:b,disabled:G(g),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[(M(!0),L($e,null,Ue(B.options,N=>(M(),L("option",{key:N.value,value:N.value},ge(N.label),9,E4))),128))],40,$4),[[Kt,s.value[g]]])])):B.type==="connection-select"?(M(),L("div",S4,[x("label",C4,[Fe(ge(B.label)+" ",1),B.required?(M(),L("span",N4,"*")):me("",!0)]),B.description?(M(),L("p",I4,ge(B.description),1)):me("",!0),ee(fm,{"service-type":B.serviceType,modelValue:s.value[g],"onUpdate:modelValue":[N=>s.value[g]=N,b]},null,8,["service-type","modelValue","onUpdate:modelValue"])])):B.type==="number"?(M(),L("div",T4,[x("div",A4,[x("label",D4,[Fe(ge(B.label)+" ",1),B.required?(M(),L("span",P4,"*")):me("",!0)]),d.value?.type!=="input"?(M(),L("div",O4,[x("input",{type:"checkbox",checked:G(g),onChange:N=>j(g,B),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,M4),A[4]||(A[4]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):me("",!0)]),Ne(x("input",{type:"number","onUpdate:modelValue":N=>s.value[g]=N,onInput:b,placeholder:B.placeholder||"",disabled:G(g),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,z4),[[Qe,s.value[g],void 0,{number:!0}]])])):B.type==="color"?(M(),L("div",R4,[x("label",V4,[Fe(ge(B.label)+" ",1),B.required?(M(),L("span",H4,"*")):me("",!0)]),x("div",F4,[Ne(x("input",{type:"color","onUpdate:modelValue":N=>s.value[g]=N,onInput:b,class:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded cursor-pointer"},null,40,L4),[[Qe,s.value[g]]]),Ne(x("input",{type:"text","onUpdate:modelValue":N=>s.value[g]=N,onInput:b,placeholder:B.placeholder||"#000000",class:"flex-1 px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono"},null,40,B4),[[Qe,s.value[g]]])])])):B.type==="boolean"?(M(),L("div",j4,[x("div",U4,[x("div",Z4,[Ne(x("input",{type:"checkbox","onUpdate:modelValue":N=>s.value[g]=N,onChange:b,disabled:G(g),class:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,W4),[[$r,s.value[g]]]),x("label",G4,ge(B.label),1)]),d.value?.type!=="input"?(M(),L("div",Y4,[x("input",{type:"checkbox",checked:G(g),onChange:N=>j(g,B),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,q4),A[5]||(A[5]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):me("",!0)])])):B.type==="date"?(M(),L("div",K4,[x("div",X4,[x("label",J4,[Fe(ge(B.label)+" ",1),B.required?(M(),L("span",Q4,"*")):me("",!0)]),d.value?.type!=="input"?(M(),L("div",e5,[x("input",{type:"checkbox",checked:G(g),onChange:N=>j(g,B),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,t5),A[6]||(A[6]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):me("",!0)]),Ne(x("input",{type:"date","onUpdate:modelValue":N=>s.value[g]=N,onInput:b,placeholder:B.placeholder||"",disabled:G(g),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,n5),[[Qe,s.value[g]]])])):B.type==="variableSelector"?(M(),L("div",o5,[x("label",r5,[Fe(ge(B.label)+" ",1),B.required?(M(),L("span",s5,"*")):me("",!0)]),x("div",i5,[Ne(x("select",{"onUpdate:modelValue":N=>s.value[g]=N,onChange:b,class:"flex-1 px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[A[7]||(A[7]=x("option",{value:""},"-- Select or type below --",-1)),(M(!0),L($e,null,Ue(l.value,N=>(M(),L("option",{key:N,value:N},ge(N),9,l5))),128))],40,a5),[[Kt,s.value[g]]])]),B.allowCustom?Ne((M(),L("input",{key:0,type:"text","onUpdate:modelValue":N=>s.value[g]=N,onInput:b,placeholder:B.placeholder||"Or type custom name",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,u5)),[[Qe,s.value[g]]]):me("",!0)])):B.type==="array"&&g==="parameters"&&d.value?.type==="input"?(M(),L("div",c5,[x("label",d5,ge(B.label),1),B.description?(M(),L("div",f5,ge(B.description),1)):me("",!0),s.value[g]&&s.value[g].length>0?(M(),L("div",h5,[(M(!0),L($e,null,Ue(s.value[g],(N,S)=>(M(),L("div",{key:S,class:"p-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md space-y-2"},[x("div",p5,[x("span",g5,"Parameter "+ge(S+1),1),x("button",{onClick:z=>Y(g,S),class:"text-red-500 hover:text-red-700 dark:hover:text-red-400",title:"Remove parameter"},[ee(Ie,{icon:"material-symbols:delete",size:16})],8,m5)]),Ne(x("input",{type:"text","onUpdate:modelValue":z=>N.name=z,onInput:b,placeholder:"Parameter name",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,v5),[[Qe,N.name]]),Ne(x("select",{"onUpdate:modelValue":z=>N.type=z,onChange:b,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},[...A[8]||(A[8]=[Mr('<option value="any" data-v-30ec1f58>Any</option><option value="string" data-v-30ec1f58>String</option><option value="number" data-v-30ec1f58>Number</option><option value="integer" data-v-30ec1f58>Integer</option><option value="float" data-v-30ec1f58>Float</option><option value="boolean" data-v-30ec1f58>Boolean</option><option value="object" data-v-30ec1f58>Object</option><option value="array" data-v-30ec1f58>Array</option><option value="date" data-v-30ec1f58>Date</option>',9)])],40,y5),[[Kt,N.type]]),N.type==="string"||N.type==="any"?Ne((M(),L("input",{key:0,type:"text","onUpdate:modelValue":z=>N.defaultValue=z,onInput:b,placeholder:"Default value (optional)",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,b5)),[[Qe,N.defaultValue]]):N.type==="number"||N.type==="integer"||N.type==="float"?Ne((M(),L("input",{key:1,type:"number","onUpdate:modelValue":z=>N.defaultValue=z,onInput:b,step:N.type==="integer"?"1":"any",placeholder:"Default value (optional)",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,_5)),[[Qe,N.defaultValue,void 0,{number:!0}]]):N.type==="boolean"?(M(),L("div",x5,[Ne(x("input",{type:"checkbox","onUpdate:modelValue":z=>N.defaultValue=z,onChange:b,class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500"},null,40,w5),[[$r,N.defaultValue]]),x("label",k5,"Default: "+ge(N.defaultValue?"true":"false"),1)])):N.type==="date"?Ne((M(),L("input",{key:3,type:"date","onUpdate:modelValue":z=>N.defaultValue=z,onInput:b,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,$5)),[[Qe,N.defaultValue]]):N.type==="array"||N.type==="object"?Ne((M(),L("textarea",{key:4,"onUpdate:modelValue":z=>N.defaultValue=z,onInput:b,placeholder:N.type==="array"?"[1, 2, 3]":"{key: value}",rows:"2",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 font-mono"},null,40,E5)),[[Qe,N.defaultValue]]):me("",!0),x("div",S5,[Ne(x("input",{type:"checkbox","onUpdate:modelValue":z=>N.required=z,onChange:b,class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500"},null,40,C5),[[$r,N.required]]),A[9]||(A[9]=x("label",{class:"text-xs text-gray-600 dark:text-gray-400"},"Required",-1))])]))),128))])):me("",!0),x("button",{onClick:N=>q(g),class:"w-full px-3 py-2 flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white text-xs font-medium rounded-md transition-colors"},[ee(Ie,{icon:"material-symbols:add",size:14}),A[10]||(A[10]=Fe(" Add Parameter ",-1))],8,N5)])):B.type==="array"?(M(),L("div",I5,[x("label",T5,[Fe(ge(B.label)+" ",1),B.required?(M(),L("span",A5,"*")):me("",!0)]),A[11]||(A[11]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 italic"}," Complex array editing - see node documentation ",-1))])):B.type==="fieldSelector"?(M(),L("div",D5,[x("label",P5,[Fe(ge(B.label)+" ",1),B.required?(M(),L("span",O5,"*")):me("",!0)]),B.description?(M(),L("div",M5,ge(B.description),1)):me("",!0),s.value[g]&&s.value[g].length>0?(M(),L("div",z5,[x("div",R5,ge(B.singleSelect?"Selected Field:":"Selected Fields:"),1),x("div",V5,[(M(!0),L($e,null,Ue(s.value[g],(N,S)=>(M(),L("div",{key:S,class:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded"},[d.value?.type==="field-extractor"&&!B.singleSelect?(M(),L("button",{key:0,onClick:z=>U(N),class:"hover:opacity-70 cursor-pointer",title:R(N)?"Disable individual output":"Enable individual output"},[ee(Ie,{icon:R(N)?"material-symbols:visibility":"material-symbols:visibility-off",size:14},null,8,["icon"])],8,H5)):me("",!0),x("span",null,ge(N),1),s.value.fieldTypes&&s.value.fieldTypes[N]?(M(),L("span",{key:1,class:"text-[10px] px-1 py-0.5 bg-white dark:bg-gray-800 rounded opacity-70",title:`Type: ${s.value.fieldTypes[N]}`},ge(s.value.fieldTypes[N]),9,F5)):me("",!0),x("button",{onClick:z=>D(g,S),class:"hover:text-red-600 dark:hover:text-red-400 cursor-pointer"},"  ",8,L5)]))),128))])])):me("",!0),x("div",B5,[A[12]||(A[12]=x("div",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Available Fields:",-1)),u.value.length>0?(M(),L("div",j5,[(M(!0),L($e,null,Ue(u.value,N=>(M(),L("button",{key:N,onClick:S=>C(g,N),disabled:s.value[g]?.includes(N),class:Ze(["block w-full text-left px-2 py-1 text-xs rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",{"bg-gray-50 dark:bg-gray-800":!s.value[g]?.includes(N),"bg-gray-200 dark:bg-gray-600":s.value[g]?.includes(N)}])},ge(N),11,U5))),128))])):(M(),L("div",Z5," No data connected. Connect a data source to see available fields. "))])])):me("",!0)]))),128)),Object.keys(p.value).length===0?(M(),L("div",W5,[...A[13]||(A[13]=[x("p",{class:"text-sm text-gray-500 dark:text-gray-400 italic"}," No configuration options available for this node. ",-1)])])):me("",!0)]))}},Y5=pt(G5,[["__scopeId","data-v-30ec1f58"]]),q5={class:"output-properties space-y-4"},K5={class:"dynamic-inputs-section"},X5={key:0,class:"space-y-2 mb-3"},J5=["onUpdate:modelValue"],Q5=["onUpdate:modelValue"],eD=["onClick"],tD={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm border border-dashed border-gray-300 dark:border-gray-600 rounded"},nD={class:"destination-section"},oD={key:0,class:"destination-config space-y-3"},rD={key:0},sD={key:1,class:"space-y-3"},iD={class:"flex items-center"},aD={key:2,class:"space-y-3"},lD={key:3,class:"space-y-3"},uD={key:4,class:"space-y-3"},cD={__name:"OutputProperties",props:{nodeId:{type:String,required:!0}},setup(e){const t=e,n=vt(),o=ue({destination:"display",...n.nodeData[t.nodeId]}),r=ue(n.nodeData[t.nodeId]?.dynamicInputs||[]),s=ue(n.nodeData[t.nodeId]?.destinationConfig||i(o.value.destination));function i(h){return{apiResponse:{format:"wrapped"},webhook:{url:"",method:"POST",headers:"{}",retry:!0},email:{to:"",subject:"FlowForge Report",format:"html"},googleSheets:{connectionId:"",spreadsheetUrl:"",sheetName:"Sheet1",writeMode:"append"},download:{filename:"output",format:"json"}}[h]||{}}function a(){const h={id:`input-${Date.now()}`,key:"",type:"any"};r.value.push(h),u()}function l(h){r.value.splice(h,1),u()}function u(){n.updateNodeData(t.nodeId,{dynamicInputs:r.value}),c()}function c(){const h=r.value.filter(p=>p.key).map(p=>({id:`data-${p.key}`,label:p.key,type:p.type||"any",position:"left"}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:h}})}function d(){n.updateNodeData(t.nodeId,{destination:o.value.destination}),s.value=i(o.value.destination),f()}function f(){n.updateNodeData(t.nodeId,{destinationConfig:s.value})}return Ce(()=>o.value.destination,h=>{s.value=i(h),f()}),rt(()=>{r.value.length>0&&c()}),(h,p)=>(M(),L("div",q5,[x("div",K5,[x("div",{class:"flex items-center justify-between mb-3"},[p[15]||(p[15]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Inputs",-1)),x("button",{onClick:a,class:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors"},"  Adicionar Input ")]),r.value.length>0?(M(),L("div",X5,[(M(!0),L($e,null,Ue(r.value,(y,$)=>(M(),L("div",{key:y.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[Ne(x("input",{"onUpdate:modelValue":b=>y.key=b,onInput:u,placeholder:"Nome do input",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,J5),[[Qe,y.key]]),Ne(x("select",{"onUpdate:modelValue":b=>y.type=b,onChange:u,class:"px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded"},[...p[16]||(p[16]=[Mr('<option value="any" data-v-d3d8a87a>Any</option><option value="string" data-v-d3d8a87a>String</option><option value="number" data-v-d3d8a87a>Number</option><option value="boolean" data-v-d3d8a87a>Boolean</option><option value="object" data-v-d3d8a87a>Object</option><option value="array" data-v-d3d8a87a>Array</option>',6)])],40,Q5),[[Kt,y.type]]),x("button",{onClick:b=>l($),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors"},"  ",8,eD)]))),128))])):(M(),L("div",tD," Nenhum input adicionado "))]),x("div",nD,[p[18]||(p[18]=x("label",{class:"block text-sm font-semibold text-gray-900 dark:text-white mb-2"}," Destination ",-1)),Ne(x("select",{"onUpdate:modelValue":p[0]||(p[0]=y=>o.value.destination=y),onChange:d,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...p[17]||(p[17]=[Mr('<option value="display" data-v-d3d8a87a>Display Only</option><option value="apiResponse" data-v-d3d8a87a>API Response</option><option value="webhook" data-v-d3d8a87a>Webhook</option><option value="email" data-v-d3d8a87a>Email</option><option value="googleSheets" data-v-d3d8a87a>Google Sheets</option><option value="download" data-v-d3d8a87a>Download</option>',6)])],544),[[Kt,o.value.destination]])]),o.value.destination&&o.value.destination!=="display"?(M(),L("div",oD,[p[38]||(p[38]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Configurao do Destination",-1)),o.value.destination==="apiResponse"?(M(),L("div",rD,[p[20]||(p[20]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Formato de Resposta ",-1)),Ne(x("select",{"onUpdate:modelValue":p[1]||(p[1]=y=>s.value.format=y),onChange:f,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...p[19]||(p[19]=[x("option",{value:"data_only"},"S dados",-1),x("option",{value:"wrapped"},"{ success, data }",-1),x("option",{value:"full"},"{ success, flowId, executedAt, data }",-1)])],544),[[Kt,s.value.format]])])):o.value.destination==="webhook"?(M(),L("div",sD,[x("div",null,[p[21]||(p[21]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[Fe(" URL "),x("span",{class:"text-red-500"},"*")],-1)),Ne(x("input",{"onUpdate:modelValue":p[2]||(p[2]=y=>s.value.url=y),onInput:f,placeholder:"https://...",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[Qe,s.value.url]])]),x("div",null,[p[23]||(p[23]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Mtodo HTTP ",-1)),Ne(x("select",{"onUpdate:modelValue":p[3]||(p[3]=y=>s.value.method=y),onChange:f,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...p[22]||(p[22]=[x("option",{value:"POST"},"POST",-1),x("option",{value:"PUT"},"PUT",-1),x("option",{value:"PATCH"},"PATCH",-1)])],544),[[Kt,s.value.method]])]),x("div",null,[p[24]||(p[24]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Headers (JSON) ",-1)),Ne(x("textarea",{"onUpdate:modelValue":p[4]||(p[4]=y=>s.value.headers=y),onInput:f,rows:"3",placeholder:'{"Authorization": "Bearer ..."}',class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md font-mono"},null,544),[[Qe,s.value.headers]])]),x("div",null,[x("label",iD,[Ne(x("input",{type:"checkbox","onUpdate:modelValue":p[5]||(p[5]=y=>s.value.retry=y),onChange:f,class:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded"},null,544),[[$r,s.value.retry]]),p[25]||(p[25]=x("span",{class:"ml-2 text-xs text-gray-700 dark:text-gray-300"},"Retry em caso de erro",-1))])])])):o.value.destination==="email"?(M(),L("div",aD,[x("div",null,[p[26]||(p[26]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[Fe(" Para (emails separados por vrgula) "),x("span",{class:"text-red-500"},"*")],-1)),Ne(x("input",{"onUpdate:modelValue":p[6]||(p[6]=y=>s.value.to=y),onInput:f,placeholder:"user@example.com, other@example.com",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[Qe,s.value.to]])]),x("div",null,[p[27]||(p[27]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Assunto ",-1)),Ne(x("input",{"onUpdate:modelValue":p[7]||(p[7]=y=>s.value.subject=y),onInput:f,placeholder:"Relatrio FlowForge",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[Qe,s.value.subject]])]),x("div",null,[p[29]||(p[29]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Formato ",-1)),Ne(x("select",{"onUpdate:modelValue":p[8]||(p[8]=y=>s.value.format=y),onChange:f,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...p[28]||(p[28]=[x("option",{value:"html"},"HTML (tabela)",-1),x("option",{value:"json"},"JSON (anexo)",-1),x("option",{value:"csv"},"CSV (anexo)",-1)])],544),[[Kt,s.value.format]])])])):o.value.destination==="googleSheets"?(M(),L("div",lD,[x("div",null,[p[30]||(p[30]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[Fe(" Conexo Google "),x("span",{class:"text-red-500"},"*")],-1)),ee(fm,{"service-type":"sheets",modelValue:s.value.connectionId,"onUpdate:modelValue":[p[9]||(p[9]=y=>s.value.connectionId=y),f]},null,8,["modelValue"])]),x("div",null,[p[31]||(p[31]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[Fe(" URL da Planilha "),x("span",{class:"text-red-500"},"*")],-1)),Ne(x("input",{"onUpdate:modelValue":p[10]||(p[10]=y=>s.value.spreadsheetUrl=y),onInput:f,placeholder:"https://docs.google.com/spreadsheets/d/...",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[Qe,s.value.spreadsheetUrl]])]),x("div",null,[p[32]||(p[32]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Nome da Aba ",-1)),Ne(x("input",{"onUpdate:modelValue":p[11]||(p[11]=y=>s.value.sheetName=y),onInput:f,placeholder:"Sheet1",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[Qe,s.value.sheetName]])]),x("div",null,[p[34]||(p[34]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Modo de Escrita ",-1)),Ne(x("select",{"onUpdate:modelValue":p[12]||(p[12]=y=>s.value.writeMode=y),onChange:f,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...p[33]||(p[33]=[x("option",{value:"append"},"Adicionar no final",-1),x("option",{value:"replace"},"Substituir tudo",-1),x("option",{value:"update"},"Atualizar a partir de A1",-1)])],544),[[Kt,s.value.writeMode]])])])):o.value.destination==="download"?(M(),L("div",uD,[x("div",null,[p[35]||(p[35]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Nome do Arquivo ",-1)),Ne(x("input",{"onUpdate:modelValue":p[13]||(p[13]=y=>s.value.filename=y),onInput:f,placeholder:"output",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[Qe,s.value.filename]])]),x("div",null,[p[37]||(p[37]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Formato ",-1)),Ne(x("select",{"onUpdate:modelValue":p[14]||(p[14]=y=>s.value.format=y),onChange:f,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...p[36]||(p[36]=[x("option",{value:"json"},"JSON",-1),x("option",{value:"csv"},"CSV",-1),x("option",{value:"excel"},"Excel (via CSV)",-1)])],544),[[Kt,s.value.format]])])])):me("",!0)])):me("",!0)]))}},dD=pt(cD,[["__scopeId","data-v-d3d8a87a"]]),fD={class:"array-merge-properties space-y-4"},hD={class:"dynamic-inputs-section"},pD={key:0,class:"space-y-2 mb-3"},gD={class:"text-xs text-gray-500 dark:text-gray-400 w-8"},mD=["onUpdate:modelValue"],vD=["onClick","disabled"],yD={key:1,class:"w-8"},bD={class:"remove-duplicates-section"},_D={class:"flex items-center cursor-pointer"},xD={__name:"ArrayMergeProperties",props:{nodeId:{type:String,required:!0}},setup(e){const t=e,n=vt(),o=ue({removeDuplicates:!1,...n.nodeData[t.nodeId]}),r=ue(n.nodeData[t.nodeId]?.arrayInputs||s());function s(){return[{id:"array1",label:"Array 1"},{id:"array2",label:"Array 2"}]}function i(){const d=r.value.length+1,f={id:`array${d}`,label:`Array ${d}`};r.value.push(f),l()}function a(d){r.value.length<=2||(r.value.splice(d,1),l())}function l(){n.updateNodeData(t.nodeId,{arrayInputs:r.value}),u()}function u(){const d=r.value.map(f=>({id:`data-${f.id}`,label:f.label||f.id,type:"array",position:"left",required:!1}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:d}})}function c(){n.updateNodeData(t.nodeId,{removeDuplicates:o.value.removeDuplicates})}return rt(()=>{r.value.length>0&&u()}),(d,f)=>(M(),L("div",fD,[x("div",hD,[x("div",{class:"flex items-center justify-between mb-3"},[f[1]||(f[1]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Arrays para Mesclar",-1)),x("button",{onClick:i,class:"px-2 py-1 text-xs bg-teal-600 hover:bg-teal-700 text-white rounded transition-colors"},"  Adicionar Array ")]),r.value.length>0?(M(),L("div",pD,[(M(!0),L($e,null,Ue(r.value,(h,p)=>(M(),L("div",{key:h.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[x("span",gD,ge(p+1),1),Ne(x("input",{"onUpdate:modelValue":y=>h.label=y,onInput:l,placeholder:"Nome do array",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-teal-500"},null,40,mD),[[Qe,h.label]]),r.value.length>2?(M(),L("button",{key:0,onClick:y=>a(p),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",disabled:r.value.length<=2},"  ",8,vD)):(M(),L("span",yD))]))),128))])):me("",!0),f[2]||(f[2]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"}," Mnimo de 2 arrays ",-1))]),x("div",bD,[x("label",_D,[Ne(x("input",{type:"checkbox","onUpdate:modelValue":f[0]||(f[0]=h=>o.value.removeDuplicates=h),onChange:c,class:"w-4 h-4 text-teal-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-teal-500"},null,544),[[$r,o.value.removeDuplicates]]),f[3]||(f[3]=x("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Remover Duplicados",-1))]),f[4]||(f[4]=x("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6"}," Remove itens duplicados do array resultante ",-1))])]))}},wD=pt(xD,[["__scopeId","data-v-36d74172"]]),kD={class:"object-create-properties space-y-4"},$D={class:"dynamic-properties-section"},ED={key:0,class:"space-y-2 mb-3"},SD={class:"text-xs text-gray-500 dark:text-gray-400 w-8"},CD=["onUpdate:modelValue"],ND=["onClick","disabled"],ID={key:1,class:"w-8"},TD={__name:"ObjectCreateProperties",props:{nodeId:{type:String,required:!0}},setup(e){const t=e,n=vt(),o=ue(n.nodeData[t.nodeId]?.properties||r());function r(){return[{id:"prop1",key:"key1"}]}function s(){const u=o.value.length+1;o.value.push({id:`prop${u}`,key:`key${u}`}),a()}function i(u){o.value.length<=1||(o.value.splice(u,1),a())}function a(){n.updateNodeData(t.nodeId,{properties:o.value}),l()}function l(){const u=o.value.map(c=>({id:`data-${c.id}`,label:c.key||c.id,type:"any",position:"left",required:!1}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:u}})}return rt(()=>{o.value.length>0&&l()}),(u,c)=>(M(),L("div",kD,[x("div",$D,[x("div",{class:"flex items-center justify-between mb-3"},[c[0]||(c[0]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Propriedades do Objeto",-1)),x("button",{onClick:s,class:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors"},"  Adicionar Propriedade ")]),o.value.length>0?(M(),L("div",ED,[(M(!0),L($e,null,Ue(o.value,(d,f)=>(M(),L("div",{key:d.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[x("span",SD,ge(f+1),1),Ne(x("input",{"onUpdate:modelValue":h=>d.key=h,onInput:a,placeholder:"Nome da chave",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,CD),[[Qe,d.key]]),o.value.length>1?(M(),L("button",{key:0,onClick:h=>i(f),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",disabled:o.value.length<=1},"  ",8,ND)):(M(),L("span",ID))]))),128))])):me("",!0),c[1]||(c[1]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Mnimo de 1 propriedade",-1))])]))}},AD={class:"array-create-properties space-y-4"},DD={class:"dynamic-items-section"},PD={key:0,class:"space-y-2 mb-3"},OD={class:"text-xs text-gray-500 dark:text-gray-400 w-8"},MD=["onUpdate:modelValue"],zD=["onClick","disabled"],RD={key:1,class:"w-8"},VD={__name:"ArrayCreateProperties",props:{nodeId:{type:String,required:!0}},setup(e){const t=e,n=vt(),o=ue(n.nodeData[t.nodeId]?.items||r());function r(){return[{id:"item1",label:"Item 1"}]}function s(){const u=o.value.length+1;o.value.push({id:`item${u}`,label:`Item ${u}`}),a()}function i(u){o.value.length<=1||(o.value.splice(u,1),a())}function a(){n.updateNodeData(t.nodeId,{items:o.value}),l()}function l(){const u=o.value.map(c=>({id:`data-${c.id}`,label:c.label||c.id,type:"any",position:"left",required:!1}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:u}})}return rt(()=>{o.value.length>0&&l()}),(u,c)=>(M(),L("div",AD,[x("div",DD,[x("div",{class:"flex items-center justify-between mb-3"},[c[0]||(c[0]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Itens do Array",-1)),x("button",{onClick:s,class:"px-2 py-1 text-xs bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors"},"  Adicionar Item ")]),o.value.length>0?(M(),L("div",PD,[(M(!0),L($e,null,Ue(o.value,(d,f)=>(M(),L("div",{key:d.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[x("span",OD,ge(f+1),1),Ne(x("input",{"onUpdate:modelValue":h=>d.label=h,onInput:a,placeholder:"Nome do item",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-purple-500"},null,40,MD),[[Qe,d.label]]),o.value.length>1?(M(),L("button",{key:0,onClick:h=>i(f),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",disabled:o.value.length<=1},"  ",8,zD)):(M(),L("span",RD))]))),128))])):me("",!0),c[1]||(c[1]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Mnimo de 1 item",-1))])]))}},HD={key:0,class:"flex-1 flex flex-col items-center justify-center p-8"},FD={key:1,class:"h-full flex flex-col"},LD={class:"flex items-center p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"},BD={class:"w-10 h-10 flex items-center justify-center bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg mr-3"},jD={class:"flex-1"},UD={class:"text-base font-semibold text-gray-900 dark:text-gray-100 m-0"},ZD={class:"text-xs text-gray-500 dark:text-gray-400 m-0 mt-0.5"},WD={class:"flex-1 overflow-y-auto p-4"},GD={key:1,class:"mb-6"},YD={class:"p-4 border-t border-gray-200 dark:border-gray-700"},qD={__name:"PropertiesPanel",props:{selectedNode:{type:Object,default:null}},emits:["close","delete"],setup(e,{emit:t}){const n=e,o=t,r=vt(),s=Q(()=>n.selectedNode?n.selectedNode.type==="output"?dD:n.selectedNode.type==="array-merge"?wD:n.selectedNode.type==="object-create"?TD:n.selectedNode.type==="array-create"?VD:Y5:null),i=Q(()=>{if(!n.selectedNode)return{};const d=r.nodeData[n.selectedNode.id],f=d?{...d}:{};return n.selectedNode.type==="field-extractor"&&(f.selectedFields||(f.selectedFields=[]),f.fieldOutputsEnabled||(f.fieldOutputsEnabled={}),f.fieldTypes||(f.fieldTypes={})),n.selectedNode.type==="output"&&!f.outputFields&&(f.outputFields=[]),f}),a=()=>{},l=()=>{n.selectedNode&&(r.removeNode(n.selectedNode.id),o("delete"))},u=d=>({input:"material-symbols:input",connector:"material-symbols:cable","field-extractor":"material-symbols:filter-alt","array-processor":"material-symbols:list",add:"material-symbols:add",subtract:"material-symbols:remove",multiply:"material-symbols:close",divide:"material-symbols:percent",variable:"material-symbols:bookmark",output:"material-symbols:output"})[d]||"material-symbols:view-in-ar",c=d=>({input:"Input Parameters",connector:"Data Connector","field-extractor":"Field Extractor","array-processor":"Array Processor",add:"Addition",subtract:"Subtraction",multiply:"Multiplication",divide:"Division",variable:"Variable",output:"Output"})[d]||d;return(d,f)=>(M(),L("div",{class:Ze(["w-80 h-full bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 flex flex-col transition-transform duration-300",{visible:e.selectedNode}])},[e.selectedNode?(M(),L("div",FD,[x("div",LD,[x("div",BD,[ee(Ie,{icon:u(e.selectedNode.type),size:20,class:"text-gray-600 dark:text-gray-300"},null,8,["icon"])]),x("div",jD,[x("h3",UD,ge(e.selectedNode.data?.label||"Node"),1),x("p",ZD,ge(c(e.selectedNode.type)),1)]),x("button",{onClick:f[0]||(f[0]=h=>d.$emit("close")),class:"w-8 h-8 flex items-center justify-center bg-transparent border-none rounded-md text-gray-500 dark:text-gray-400 cursor-pointer transition-colors duration-200 hover:bg-white dark:hover:bg-gray-900 hover:text-gray-700 dark:hover:text-gray-200"},[ee(Ie,{icon:"material-symbols:close",size:16})])]),x("div",WD,[s.value?(M(),qe(Hn(s.value),{key:0,"node-id":e.selectedNode.id,"local-data":i.value,onUpdateNodeData:a},null,40,["node-id","local-data"])):e.selectedNode?(M(),L("div",GD,[...f[2]||(f[2]=[x("div",{class:"p-4 text-center text-xs text-gray-500 dark:text-gray-400 italic bg-gray-50 dark:bg-gray-800 rounded-md border border-dashed border-gray-200 dark:border-gray-700"}," No specific properties available for this node type. ",-1)])])):me("",!0)]),x("div",YD,[x("button",{onClick:l,class:"w-full px-2.5 py-2.5 flex items-center justify-center gap-2 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800 border border-red-600 hover:border-red-700 rounded-md text-red-600 hover:text-red-700 text-sm font-medium cursor-pointer transition-colors"},[ee(Ie,{icon:"material-symbols:delete",size:16}),f[3]||(f[3]=Fe(" Delete Node ",-1))])])])):(M(),L("div",HD,[ee(Ie,{icon:"material-symbols:view-in-ar",size:48,class:"text-gray-400 dark:text-gray-500"}),f[1]||(f[1]=x("p",{class:"mt-4 text-gray-500 dark:text-gray-400 text-sm text-center"},"Select a node to view its properties",-1))]))],2))}},KD=pt(qD,[["__scopeId","data-v-5072810e"]]),XD={class:"px-2 py-2"},JD={class:"relative"},QD=["onKeydown"],eP={class:"px-3 py-1 text-11 font-semibold text-flow-text-muted dark:text-flow-text-muted-dark uppercase tracking-wider"},tP={class:"flex flex-col max-h-[400px] overflow-y-auto"},nP={key:0,class:"px-3 py-4 text-center text-sm text-flow-text-muted dark:text-flow-text-muted-dark"},oP=["onClick","onMouseenter"],rP={class:"flex-1 min-w-0"},sP=["innerHTML"],iP={key:0,class:"text-xs text-flow-text-muted dark:text-flow-text-muted-dark truncate"},aP={class:"text-10 text-flow-text-muted dark:text-flow-text-muted-dark uppercase tracking-wide"},lP={__name:"ContextMenu",props:{show:{type:Boolean,required:!0},position:{type:Object,required:!0},nodes:{type:Array,required:!0}},emits:["create-node","close"],setup(e,{emit:t}){const n=e,o=t,r=vt(),s=ue(null),i=ue(""),a=ue(0),l=Q(()=>n.nodes&&n.nodes.length>0?n.nodes:r.nodeCatalog?.nodes||[]),u=Q(()=>r.nodeCatalog?.categories||[]),c=Q(()=>{if(!i.value.trim())return l.value;const $=i.value.toLowerCase();return l.value.filter(C=>{const w=C.label?.toLowerCase().includes($),D=C.description?.toLowerCase().includes($),q=d(C.category).toLowerCase().includes($),Y=C.type?.toLowerCase().includes($);return w||D||q||Y})});function d($){return u.value.find(C=>C.id===$)?.label||$||""}function f($){if(!i.value.trim()||!$)return $;const b=i.value,C=new RegExp(`(${b})`,"gi");return $.replace(C,'<mark class="bg-yellow-200 dark:bg-yellow-700 px-0.5 rounded">$1</mark>')}function h(){a.value<c.value.length-1&&a.value++}function p(){a.value>0&&a.value--}function y(){const $=c.value[a.value];$&&o("create-node",$.type)}return Ce(()=>n.show,($,b)=>{$?St(()=>{s.value?.focus()}):(i.value="",a.value=0)}),Ce(i,()=>{a.value=0}),($,b)=>e.show?(M(),L("div",{key:0,style:Ke({position:"fixed",left:e.position.x+"px",top:e.position.y+"px",zIndex:99999,backgroundColor:"white",border:"3px solid red"}),class:"rounded-lg shadow-2xl p-2 min-w-[280px] max-w-[400px]",onClick:b[2]||(b[2]=So(()=>{},["stop"]))},[x("div",XD,[x("div",JD,[ee(Ie,{icon:"material-symbols:search",size:14,class:"absolute left-2 top-1/2 -translate-y-1/2 text-flow-text-muted dark:text-flow-text-muted-dark"}),Ne(x("input",{ref_key:"searchInput",ref:s,"onUpdate:modelValue":b[0]||(b[0]=C=>i.value=C),type:"text",placeholder:"Buscar nodes...",class:"w-full pl-8 pr-3 py-1.5 text-sm bg-white dark:bg-gray-700 border border-flow-border dark:border-flow-border-dark rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-flow-text dark:text-flow-text-dark",onKeydown:[ms(So(h,["prevent"]),["down"]),ms(So(p,["prevent"]),["up"]),ms(So(y,["prevent"]),["enter"]),b[1]||(b[1]=ms(C=>$.$emit("close"),["esc"]))]},null,40,QD),[[Qe,i.value]])])]),x("div",eP,ge(i.value?`${c.value.length} encontrado(s)`:"Quick Add"),1),x("div",tP,[c.value.length===0?(M(),L("div",nP,' Nenhum node encontrado para "'+ge(i.value)+'" ',1)):me("",!0),(M(!0),L($e,null,Ue(c.value,(C,w)=>(M(),L("button",{key:C.type,onClick:D=>$.$emit("create-node",C.type),onMouseenter:D=>a.value=w,class:Ze(["flex items-center gap-2.5 px-3 py-2 bg-transparent border-none rounded text-flow-text-secondary dark:text-flow-text-secondary-dark text-sm text-left cursor-pointer transition-all duration-150",w===a.value?"bg-blue-100 dark:bg-blue-900/30 scale-[1.02]":"hover:bg-flow-surface-hover dark:hover:bg-flow-surface-hover-dark hover:scale-[1.02]"])},[x("div",{class:"w-6 h-6 rounded flex items-center justify-center flex-shrink-0",style:Ke({backgroundColor:C.color+"20",color:C.color})},[ee(Ie,{icon:C.icon,size:14},null,8,["icon"])],4),x("div",rP,[x("div",{class:"font-medium",innerHTML:f(C.label)},null,8,sP),C.description?(M(),L("div",iP,ge(C.description),1)):me("",!0)]),x("div",aP,ge(d(C.category)),1)],42,oP))),128))]),b[3]||(b[3]=x("div",{class:"px-3 py-1.5 border-t border-flow-border dark:border-flow-border-dark text-10 text-flow-text-muted dark:text-flow-text-muted-dark"},[x("span",{class:"inline-flex items-center gap-1"},[x("kbd",{class:"px-1.5 py-0.5 bg-white dark:bg-gray-700 border border-flow-border rounded text-9"},""),Fe(" navegar "),x("kbd",{class:"px-1.5 py-0.5 bg-white dark:bg-gray-700 border border-flow-border rounded text-9 ml-2"},"Enter"),Fe(" selecionar ")])],-1))],4)):me("",!0)}};function uP(e,t){const n=vt();return{dynamicHandles:Q(()=>{if(!n.nodes.find(l=>l.id===e))return[];const s=n.nodeData[e];if(!s)return[];const i=[],a=t.value||t;if(a==="field-extractor"){const l=s.selectedFields||[],u=s.fieldOutputsEnabled||{},c=s.fieldTypes||{};let d="any";const f=n.edges.filter(h=>h.target===e&&h.targetHandle==="data-input"&&h.edgeType!=="flow");if(f.length>0){const h=n.executionResults[f[0].source];if(h&&f[0].sourceHandle in h){const p=h[f[0].sourceHandle];Array.isArray(p)?d="array":typeof p=="object"&&p!==null&&(d="object")}}i.push({id:"data-out",label:"Extracted Data",type:d,position:"right"}),l.length>1&&i.push({id:"all-data",label:"All Extracted Data",type:"object",position:"right"}),l.forEach(h=>{const p=`field-${h.replace(/\./g,"-")}`,y=u[h]!==!1,$=c[h]||"any";y&&i.push({id:p,label:h,type:$,position:"right"})})}if(a==="output"){const l=s.dynamicInputs||[],u=s.dynamicHandles?.inputs||[];u.length>0?u.forEach(c=>{i.push({...c,position:"left"})}):l.length>0&&l.forEach(c=>{c.key&&i.push({id:`data-${c.key}`,label:c.key,type:c.type||"any",position:"left"})})}if(a==="array-merge"){const l=s.dynamicHandles?.inputs||[];l.length>0?l.forEach(u=>{i.push({...u,position:"left"})}):(s.arrayInputs||[{id:"array1",label:"Array 1"},{id:"array2",label:"Array 2"}]).forEach(c=>{i.push({id:`data-${c.id}`,label:c.label||c.id,type:"array",position:"left",required:!1})})}if(a==="object-create"){const l=s.dynamicHandles?.inputs||[];l.length>0?l.forEach(u=>{i.push({...u,position:"left"})}):(s.properties||[{id:"prop1",key:"key1"}]).forEach(c=>{i.push({id:`data-${c.id}`,label:c.key||c.id,type:"any",position:"left",required:!1})})}if(a==="array-create"){const l=s.dynamicHandles?.inputs||[];l.length>0?l.forEach(u=>{i.push({...u,position:"left"})}):(s.items||[{id:"item1",label:"Item 1"}]).forEach(c=>{i.push({id:`data-${c.id}`,label:c.label||c.id,type:"any",position:"left",required:!1})})}if(a==="input"&&(s.parameters||[]).forEach((u,c)=>{i.push({id:`param-output-${c}`,label:u.name||`Parameter ${c+1}`,type:u.type||"any",position:"right",required:u.required||!1})}),a==="string-ops"&&s.operation==="template"){const l=s.templateString||"",u=/\{([^}]+)\}/g,c=new Set;let d;for(;(d=u.exec(l))!==null;)c.add(d[1]);c.forEach(f=>{i.push({id:f,label:f,type:"any",position:"left",required:!1})})}return a!=="input"&&s.exposedFields&&Object.entries(s.exposedFields).forEach(([l,u])=>{i.push({id:`exposed-${l}`,label:u.label||l,type:u.type||"any",position:"left",required:u.required||!1})}),i})}}const cP={"data-input":"#3b82f6","logic-control":"#a855f7",operations:"#22c55e","data-processing":"#f97316",debug:"#6b7280",organization:"#6b7280",sources:"#3b82f6",io:"#3b82f6",storage:"#3b82f6",constants:"#3b82f6",comparison:"#a855f7",logic:"#a855f7",iteration:"#a855f7",math:"#22c55e",string:"#22c55e",conversion:"#22c55e",processors:"#f97316","array-processors":"#f97316","object-processors":"#f97316"};function dP(e){return cP[e]||"#3b82f6"}const fP={__name:"DataHandle",props:{type:{type:String,required:!0,validator:e=>["source","target"].includes(e)},position:{type:String,required:!0},id:{type:String,required:!0},dataType:{type:String,default:"any"},color:{type:String,default:null},top:{type:String,default:"50%"}},setup(e){const t=e,n=Q(()=>t.color?t.color:Si(t.dataType)),o=Q(()=>({top:t.top,[t.type==="source"?"right":"left"]:t.type==="source"?"-10px":"-7px",background:n.value,borderColor:n.value,zIndex:20,pointerEvents:"auto"}));return(r,s)=>(M(),qe(ae(Gn),{type:e.type,position:e.position,id:e.id,style:Ke(o.value),class:"data-handle-minimal"},null,8,["type","position","id","style"]))}},ff=pt(fP,[["__scopeId","data-v-26f2bbcc"]]),hP={__name:"ExecHandleInput",props:{position:{type:String,required:!0},id:{type:String,required:!0},top:{type:String,default:"12px"}},setup(e){const t=e,n=Q(()=>({top:t.top,left:"-7px",background:"#9ca3af",borderColor:"#9ca3af",zIndex:10,pointerEvents:"auto"}));return rt(()=>{}),(o,r)=>(M(),qe(ae(Gn),{type:"target",position:e.position,id:e.id,style:Ke(n.value),connectable:!0,class:"exec-handle-input"},null,8,["position","id","style"]))}},pP=pt(hP,[["__scopeId","data-v-ae9498f1"]]),gP={__name:"ExecHandleOutput",props:{position:{type:String,required:!0},id:{type:String,required:!0},top:{type:String,default:"12px"}},setup(e){const t=e,n=Q(()=>({top:t.top,right:"-10px",background:"#9ca3af",borderColor:"#9ca3af",zIndex:10,pointerEvents:"auto"}));return(o,r)=>(M(),qe(ae(Gn),{type:"source",position:e.position,id:e.id,style:Ke(n.value),connectable:!0,class:"exec-handle-output"},null,8,["position","id","style"]))}},hf=pt(gP,[["__scopeId","data-v-97a90bc8"]]),mP={class:"node-row header-row border-b border-gray-200 dark:border-gray-700"},vP={class:"handle-cell handle-left nodrag"},yP={class:"content-cell px-3 py-2"},bP={class:"flex items-center gap-2"},_P={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},xP={class:"handle-cell handle-right nodrag"},wP={key:0},kP={key:1,class:"flex flex-col gap-1"},$P={class:"text-[10px] text-gray-600 dark:text-gray-400"},EP={key:0,class:"data-section"},SP={class:"node-row"},CP={class:"handle-cell handle-left nodrag"},NP={class:"content-cell"},IP={class:"content-split"},TP={class:"content-left"},AP={class:"label-list"},DP=["title"],PP={class:"text-xs text-gray-600 dark:text-gray-400"},OP={class:"content-right"},MP={class:"label-list"},zP={class:"text-xs text-gray-600 dark:text-gray-400"},RP=["title"],VP={class:"handle-cell handle-right nodrag"},HP={__name:"GenericNode",props:{id:{type:String,required:!0},data:{type:Object,default:()=>({})},selected:{type:Boolean,default:!1}},setup(e){const t=e,n=vt(),o=Q(()=>n.nodes.find(G=>G.id===t.id)?.type),r=Q(()=>{const R=n.nodes.find(G=>G.id===t.id);return R?bo(R.type):null}),s=Q(()=>t.selected),i=Q(()=>n.executingNodes.has(t.id)),a=Q(()=>n.executedNodes.has(t.id)),l=Q(()=>n.errorNodes.has(t.id)),u=Q(()=>{const R=r.value?.category;return R?dP(R):"#3b82f6"});Q(()=>n.executionResults[t.id]);const c=Q(()=>n.nodes.find(R=>R.id===t.id)),d=Q(()=>{const R=r.value;if(!R)return null;if(R.dynamicHandles&&c.value){let G="mode";const j=R.dynamicHandles.mode;R.dynamicHandles[j]||(G=j);const A=n.nodeData[t.id]?.[G]||j;return R.dynamicHandles[A]||R.handles}return R.handles}),f=Q(()=>{const R=d.value;return R?.inputs?.execution&&R.inputs.execution.length>0});Q(()=>{const R=d.value;return R?.outputs?.execution&&R.outputs.execution.length>0});const h=Q(()=>d.value?.outputs?.execution||[]),p=Q(()=>{n.edges.length;const R=y.value.filter(B=>B.position==="left"),j=d.value?.inputs?.data||[],V=n.nodeData[t.id],A=j.map(B=>{if(B.dynamic){const g=jn(o.value,{...V,_nodeId:t.id},B.id,"target",n);return{...B,type:g}}return o.value==="variable"?{...B,type:C(B.id,"target")}:B});return o.value==="string-ops"&&V?.operation==="template"||o.value==="output"||o.value==="array-merge"||o.value==="object-create"||o.value==="array-create"?R:[...A,...R]}),{dynamicHandles:y}=uP(t.id,o),$=Q(()=>{if(n.edges.length,n.savedDetectedTypes[t.id],o.value==="field-extractor"||o.value==="input")return y.value;const G=d.value?.outputs?.data||[],j=n.nodeData[t.id];return G.map(V=>{if(V.dynamic){const B=jn(o.value,{...j,_nodeId:t.id},V.id,"source",n);return{...V,type:B}}return(o.value==="variable"||o.value==="array-slice")&&V.wildcard?{...V,type:C(V.id,"source")}:["array-filter","array-sort","array-distinct","array-map","array-groupby","array-merge"].includes(o.value)&&["array","any"].includes(V.type)?{...V,type:b()}:V})}),b=()=>{const R=n.edges.filter(G=>G.target===t.id&&G.targetHandle==="data-input"&&G.edgeType!=="flow");if(R.length>0){const G=n.executionResults[R[0].source];if(G&&R[0].sourceHandle in G){const j=G[R[0].sourceHandle];if(Array.isArray(j))return"array";if(typeof j=="object"&&j!==null)return"object";if(typeof j=="number")return"number";if(typeof j=="string")return"string";if(typeof j=="boolean")return"boolean"}}return"any"},C=(R,G)=>{if(o.value==="array-slice"&&G==="source"&&R==="data-out"){const g=n.nodeData[t.id]?.operation||"first";if(["take","skip","slice"].includes(g))return"array";const N=n.edges.filter(S=>S.target===t.id&&S.targetHandle==="data-input"&&S.edgeType!=="flow");if(N.length>0){const S=n.executionResults[N[0].source];if(S&&N[0].sourceHandle in S){const z=S[N[0].sourceHandle];if(Array.isArray(z)&&z.length>0){const H=z[0];if(typeof H=="object"&&H!==null)return"object";if(typeof H=="number")return"number";if(typeof H=="string")return"string";if(typeof H=="boolean")return"boolean"}}}return"any"}if(o.value!=="variable")return"any";const j=n.nodeData[t.id],V=j?.variableName,A=j?.mode||"get";if(G==="source"&&R==="data-out"){if(A==="set"){const B=n.edges.filter(g=>g.target===t.id&&g.targetHandle==="data-input"&&g.edgeType!=="flow");if(B.length>0){const g=n.nodes.find(N=>N.id===B[0].source);if(g)return w(g,B[0].sourceHandle)}}if(A==="get"&&V){const B=n.nodes.filter(g=>g.type==="variable"&&g.id!==t.id&&n.nodeData[g.id]?.mode==="set"&&n.nodeData[g.id]?.variableName===V);for(const g of B){const N=n.edges.filter(S=>S.target===g.id&&S.targetHandle==="data-input"&&S.edgeType!=="flow");if(N.length>0){const S=n.nodes.find(z=>z.id===N[0].source);if(S)return w(S,N[0].sourceHandle)}}}}if(G==="target"&&R==="data-input"){const B=n.edges.filter(g=>g.source===t.id&&g.sourceHandle==="data-out"&&g.edgeType!=="flow");if(B.length>0){const g=n.nodes.find(N=>N.id===B[0].target);if(g)return w(g,B[0].targetHandle)}}return"any"},w=(R,G)=>{const j=n.nodeData[R.id];if(!j)return"any";const V={...j,_nodeId:R.id};return jn(R.type,V,G,"source",n)},D=()=>{const R=n.executionResults[t.id],G=n.savedDetectedTypes[t.id]||{},j=n.edges.filter(g=>g.target===t.id&&g.targetHandle==="exec-in"&&g.edgeType==="flow"),V=n.edges.filter(g=>g.source===t.id&&g.sourceHandle==="exec-out"&&g.edgeType==="flow"),A={};p.value.forEach(g=>{const N=n.edges.filter(S=>S.target===t.id&&S.targetHandle===g.id&&S.edgeType!=="flow");if(N.length>0){const S=N[0],z=n.executionResults[S.source],H=n.savedDetectedTypes[S.source]||{},X=z?.[S.sourceHandle],W=H[S.sourceHandle]||g.type||"unknown";A[g.id]={value:X,type:W,label:g.label}}});const B={};$.value.forEach(g=>{const N=R?.[g.id],z=g.dynamic?.mode==="config-based"?g.type||G[g.id]||"unknown":G[g.id]||g.type||"unknown";B[g.id]={value:N,type:z,label:g.label}}),console.group(` Node Debug: ${t.id} (${o.value})`),console.log(" INPUTS:",A),Object.entries(A).forEach(([g,N])=>{console.log(`   ${N.label||g}:`,{type:N.type,value:N.value})}),console.log(" OUTPUTS:",B),Object.entries(B).forEach(([g,N])=>{console.log(`   ${N.label||g}:`,{type:N.type,value:N.value})}),console.log(" EXECUTION EDGES:",{inputs:j.length,outputs:V.length}),console.groupEnd()},q=R=>{const G=n.edges.filter(g=>g.target===t.id&&g.targetHandle===R&&g.edgeType!=="flow");if(G.length===0)return null;const j=G[0];if(!n.nodes.find(g=>g.id===j.source))return null;const A=n.executionResults[j.source];if(!A)return null;const B=typeof A=="object"&&A!==null&&j.sourceHandle in A?A[j.sourceHandle]:A;return U(B)},Y=Q(()=>{const R=n.executionResults[t.id],G=n.nodes.find(j=>j.id===t.id);return j=>{if(!G||!R)return null;if(G.type==="field-extractor"){if(j.label==="All Extracted Data")return null;const A=`field-${j.label.replace(/\./g,"-")}`,B=R[A];return B==null?null:U(B)}const V=R[j.id];return V==null?null:U(V)}}),U=R=>R==null?null:typeof R=="string"?R.length>15?R.substring(0,15)+"...":R:typeof R=="number"?R.toString():typeof R=="boolean"?R?"true":"false":Array.isArray(R)?`[${R.length}]`:typeof R=="object"?"{...}":String(R).substring(0,15);return(R,G)=>(M(),L("div",{class:Ze(["generic-node rounded-lg bg-white dark:bg-gray-800 border-2 transition-all",[s.value?"selected-node":"",i.value?"executing-node":"",a.value?"executed-node":"",l.value?"error-node":"",!i.value&&!a.value&&!l.value?"border-gray-300 dark:border-gray-600":"","hover:shadow-xl"]]),style:Ke({borderLeftColor:u.value,borderLeftWidth:"4px"}),onClick:D},[x("div",mP,[x("div",vP,[f.value?(M(),qe(pP,{key:0,position:"left",id:"exec-in",top:"50%"})):me("",!0)]),x("div",yP,[x("div",bP,[ee(Ie,{icon:r.value?.icon||"material-symbols:view-in-ar",size:16,style:Ke({color:r.value?.color||"#3b82f6"})},null,8,["icon","style"]),x("span",_P,ge(e.data.label||r.value?.label||"Node"),1)])]),x("div",xP,[h.value.length===1?(M(),L("div",wP,[ee(hf,{position:"right",id:h.value[0].id,top:"50%"},null,8,["id"])])):h.value.length>1?(M(),L("div",kP,[(M(!0),L($e,null,Ue(h.value,(j,V)=>(M(),L("div",{key:j.id,class:"flex items-center gap-1"},[x("span",$P,ge(j.label),1),ee(hf,{position:"right",id:j.id,top:`${25+V*50}%`},null,8,["id","top"])]))),128))])):me("",!0)])]),p.value.length>0||$.value.length>0?(M(),L("div",EP,[x("div",SP,[x("div",CP,[(M(!0),L($e,null,Ue(p.value,j=>(M(),L("div",{key:j.id,class:"handle-wrapper"},[ee(ff,{id:j.id,type:"target",position:j.position||"left","data-type":j.type||"any"},null,8,["id","position","data-type"])]))),128))]),x("div",NP,[x("div",IP,[x("div",TP,[x("div",AP,[(M(!0),L($e,null,Ue(p.value,j=>(M(),L("div",{key:j.id,class:"label-item"},[q(j.id)?(M(),L("span",{key:0,class:"text-[10px] mr-1 px-1 py-0.5 bg-gray-100 dark:bg-gray-700 rounded font-mono text-gray-500 dark:text-gray-400",title:`Value: ${q(j.id)}`},ge(q(j.id)),9,DP)):me("",!0),x("span",PP,ge(j.label),1)]))),128))])]),x("div",OP,[x("div",MP,[(M(!0),L($e,null,Ue($.value,j=>(M(),L("div",{key:j.id,class:"label-item"},[x("span",zP,ge(j.label),1),Y.value(j)?(M(),L("span",{key:0,class:"text-[10px] ml-1 px-1 py-0.5 bg-gray-100 dark:bg-gray-700 rounded font-mono text-gray-500 dark:text-gray-400",title:`Value: ${Y.value(j)}`},ge(Y.value(j)),9,RP)):me("",!0)]))),128))])])])]),x("div",VP,[(M(!0),L($e,null,Ue($.value,j=>(M(),L("div",{key:j.id,class:"handle-wrapper"},[ee(ff,{id:j.id,type:"source",position:j.position||"right","data-type":j.type||"any"},null,8,["id","position","data-type"])]))),128))])])])):me("",!0)],6))}},Me=pt(HP,[["__scopeId","data-v-141a81cd"]]),FP={key:0,class:"primitive-line"},LP={key:1,class:"array-node"},BP={class:"expand-icon"},jP={class:"array-label"},UP={key:0,class:"array-children"},ZP={class:"array-index"},WP={key:2,class:"object-node"},GP={class:"expand-icon"},YP={class:"object-label"},qP={key:0,class:"object-children"},KP={class:"property-key"},XP={__name:"DataNode",props:{value:{required:!0},path:{type:Array,default:()=>[]},depth:{type:Number,default:0}},setup(e){const t=e,n=ue(t.depth<2),o=()=>{n.value=!n.value},r=Q(()=>{const d=t.value;return d===null?"null":d===void 0?"undefined":Array.isArray(d)?"array":typeof d=="object"?"object":typeof d=="string"?"string":typeof d=="number"?"number":typeof d=="boolean"?"boolean":"unknown"}),s=Q(()=>["null","undefined","string","number","boolean"].includes(r.value)),i=Q(()=>r.value==="array"),a=Q(()=>r.value==="object"),l=Q(()=>{const d=t.value;return d===null?"null":d===void 0?"undefined":typeof d=="string"?`"${d}"`:typeof d=="boolean"?d?"true":"false":String(d)}),u=Q(()=>a.value?Object.entries(t.value):[]),c=Q(()=>`{${Object.keys(t.value).length} props}`);return(d,f)=>{const h=Ql("DataNode",!0);return M(),L("div",{class:"data-node",style:Ke({paddingLeft:`${e.depth*12}px`})},[s.value?(M(),L("div",FP,[x("span",{class:Ze(["value",`type-${r.value}`])},ge(l.value),3)])):i.value?(M(),L("div",LP,[x("div",{class:"array-header",onClick:o},[x("button",BP,[ee(Ie,{icon:n.value?"material-symbols:arrow-drop-down":"material-symbols:arrow-right",size:14},null,8,["icon"])]),x("span",jP,"Array("+ge(e.value.length)+")",1)]),n.value?(M(),L("div",UP,[(M(!0),L($e,null,Ue(e.value,(p,y)=>(M(),L("div",{key:y,class:"array-item-row"},[x("span",ZP,ge(y)+":",1),ee(h,{value:p,path:[...e.path,y],depth:e.depth+1},null,8,["value","path","depth"])]))),128))])):me("",!0)])):a.value?(M(),L("div",WP,[x("div",{class:"object-header",onClick:o},[x("button",GP,[ee(Ie,{icon:n.value?"material-symbols:arrow-drop-down":"material-symbols:arrow-right",size:14},null,8,["icon"])]),x("span",YP,ge(c.value),1)]),n.value?(M(),L("div",qP,[(M(!0),L($e,null,Ue(u.value,([p,y])=>(M(),L("div",{key:p,class:"object-property-row"},[x("span",KP,ge(p)+":",1),ee(h,{value:y,path:[...e.path,p],depth:e.depth+1},null,8,["value","path","depth"])]))),128))])):me("",!0)])):me("",!0)],4)}}},JP=pt(XP,[["__scopeId","data-v-b34df0fd"]]),QP={class:"debug-viewer-node"},eO={class:"node-header"},tO={class:"flex items-center gap-2"},nO={class:"font-medium"},oO={key:0,class:"data-container"},rO={key:0,class:"no-data"},sO={key:1,class:"data-tree"},iO={key:1,class:"collapsed-preview"},aO={key:0,class:"preview-text"},lO={key:1,class:"no-data-text"},uO={__name:"DebugViewerNode",props:{id:{type:String,required:!0},data:{type:Object,default:()=>({})}},setup(e){const t=e,n=vt(),o=Q(()=>{const f=n.nodes.find(h=>h.id===t.id);return f?bo(f.type):null}),r=Q(()=>t.data?.label||o.value?.label||"Debug Viewer"),s=ue(t.data?.expanded!==!1),i=()=>{s.value=!s.value},a=Q(()=>{const f=n.edges.filter($=>$.target===t.id&&$.edgeType!=="flow");if(f.length===0)return null;const h=f[0],p=n.executionResults[h.source];return p?typeof p=="object"&&p!==null&&h.sourceHandle in p?p[h.sourceHandle]:p:null}),l=Q(()=>a.value!==null&&a.value!==void 0),u=Q(()=>{if(!l.value)return"undefined";const f=a.value;return Array.isArray(f)?"array":f===null?"null":typeof f=="object"?"object":typeof f=="string"?"string":typeof f=="number"?"number":typeof f=="boolean"?"boolean":"unknown"}),c=Q(()=>({array:"#10b981",object:"#3b82f6",string:"#f59e0b",number:"#8b5cf6",boolean:"#ec4899",null:"#6b7280",undefined:"#6b7280"})[u.value]||"#6b7280"),d=Q(()=>{if(!l.value)return"No data";if(u.value==="array")return`Array (${a.value.length})`;if(u.value==="object")return`Object {${Object.keys(a.value).length} props}`;const f=a.value;return f===null?"null":f===void 0?"undefined":typeof f=="string"?`"${f}"`:typeof f=="boolean"?f?"true":"false":String(f)});return Ce(()=>t.data?.expanded,f=>{f!==void 0&&(s.value=f)}),(f,h)=>(M(),L("div",QP,[x("div",eO,[x("div",tO,[ee(Ie,{icon:o.value?.icon||"material-symbols:bug-report",size:16},null,8,["icon"]),x("span",nO,ge(r.value),1)]),x("button",{onClick:i,class:"expand-btn",title:"Toggle expand/collapse"},[ee(Ie,{icon:s.value?"material-symbols:expand-less":"material-symbols:expand-more",size:16},null,8,["icon"])])]),ee(ae(Gn),{id:`${e.id}-data-input`,type:"target",position:ae(_e).Left,style:Ke({background:ae(Si)("any"),top:"50%"}),class:"handle-input"},null,8,["id","position","style"]),s.value?(M(),L("div",oO,[x("div",{class:"type-badge",style:Ke({backgroundColor:c.value})},ge(u.value),5),l.value?(M(),L("div",sO,[ee(JP,{value:a.value,path:[]},null,8,["value"])])):(M(),L("div",rO,[ee(Ie,{icon:"material-symbols:info-outline",size:20}),h[0]||(h[0]=x("span",null,"No data connected",-1))]))])):(M(),L("div",iO,[l.value?(M(),L("span",aO,ge(d.value),1)):(M(),L("span",lO,"No data"))]))]))}},cO=pt(uO,[["__scopeId","data-v-7d027dff"]]),dO={class:"marker-header"},fO={__name:"MarkerNode",props:{id:{type:String,required:!0},selected:{type:Boolean,default:!1}},setup(e){const t=e,n=vt(),o=Q(()=>n.nodeData[t.id]||{}),r=Q(()=>n.nodes.find(Y=>Y.id===t.id)),s=ue(o.value.name||"Frame"),i=ue(o.value.width||400),a=ue(o.value.height||300),l=Q(()=>{const Y=o.value.color||"rgba(147, 197, 253, 0.2)";if(Y.startsWith("#")){let U=Y.slice(1);U.length===3&&(U=U.split("").map(V=>V+V).join(""));const R=parseInt(U.slice(0,2),16),G=parseInt(U.slice(2,4),16),j=parseInt(U.slice(4,6),16);return`rgba(${R}, ${G}, ${j}, 0.2)`}return Y.startsWith("rgba")?Y.replace(/[\d.]+\)$/,"0.2)"):Y.startsWith("rgb")?Y.replace("rgb","rgba").replace(")",", 0.2)"):Y}),u=Q(()=>t.selected?"#3b82f6":"#d1d5db"),c=()=>{n.updateNodeData(t.id,{name:s.value})};let d=!1,f=null,h=0,p=0,y=0,$=0,b=0,C=0;const w=Y=>{d=!0,f=Y,h=event.clientX,p=event.clientY,y=i.value,$=a.value,b=r.value?.position?.x||0,C=r.value?.position?.y||0,document.addEventListener("mousemove",D),document.addEventListener("mouseup",q),event.stopPropagation()},D=Y=>{if(!d)return;const U=Y.clientX-h,R=Y.clientY-p;let G=y,j=$,V=b,A=C;switch(f){case"se":G=Math.max(200,y+U),j=Math.max(150,$+R);break;case"ne":G=Math.max(200,y+U),j=Math.max(150,$-R),A=C+R;break;case"sw":G=Math.max(200,y-U),j=Math.max(150,$+R),V=b+U;break;case"nw":G=Math.max(200,y-U),j=Math.max(150,$-R),V=b+U,A=C+R;break}i.value=G,a.value=j,(V!==b||A!==C)&&n.updateNodePosition(t.id,{x:V,y:A})},q=()=>{d&&n.updateNodeData(t.id,{width:i.value,height:a.value}),d=!1,f=null,document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",q)};return vo(()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",q)}),(Y,U)=>(M(),L("div",{class:"marker-node",style:Ke({width:`${i.value}px`,height:`${a.value}px`,backgroundColor:l.value,borderColor:u.value,zIndex:-1})},[x("div",dO,[Ne(x("input",{"onUpdate:modelValue":U[0]||(U[0]=R=>s.value=R),onInput:c,class:"marker-title",placeholder:"Frame name"},null,544),[[Qe,s.value]])]),x("div",{class:"resize-handle resize-se",onMousedown:U[1]||(U[1]=R=>w("se"))},null,32),x("div",{class:"resize-handle resize-ne",onMousedown:U[2]||(U[2]=R=>w("ne"))},null,32),x("div",{class:"resize-handle resize-sw",onMousedown:U[3]||(U[3]=R=>w("sw"))},null,32),x("div",{class:"resize-handle resize-nw",onMousedown:U[4]||(U[4]=R=>w("nw"))},null,32)],4))}},hO=pt(fO,[["__scopeId","data-v-167e52f1"]]),pO={class:"h-screen flex flex-col bg-flow-bg dark:bg-flow-bg-dark"},gO={class:"flex flex-1 overflow-hidden"},mO={__name:"FlowCanvas",setup(e){const t=vt(),{addNodes:n,addEdges:o,project:r,viewportRef:s,updateNode:i,getSelectedEdges:a}=Ge(),l=ue(null),u=ue({visible:!1,x:0,y:0,sourceNodeId:null,sourceHandle:null,compatibleNodes:[]}),c=ue({active:!1,sourceNodeId:null,sourceHandle:null}),d=ue(!1),f=ue(!1),h=Q(()=>t.nodes),p=Q(()=>t.edges),y=Q(()=>p.value.map(P=>{if(!P.source||!P.target)return null;let E={},F={},K="any";if(P.edgeType==="flow")E={stroke:"#9ca3af",strokeWidth:3},F={type:"arrowclosed",width:10,height:10,color:"#9ca3af"};else{const se=t.nodes.find(le=>le.id===P.source);if(se){K=ce(se,P.sourceHandle,"source");const le=Si(K);E={stroke:le,strokeWidth:2.5},F={type:"arrowclosed",width:8,height:8,color:le}}else E={stroke:"#3b82f6",strokeWidth:2.5},F={type:"arrowclosed",width:8,height:8,color:"#3b82f6"}}return{...P,class:P.edgeType==="flow"?"flow-edge":"data-edge",style:E,markerEnd:F,data:{...P.data,edgeType:P.edgeType,dataType:K}}}).filter(Boolean)),$=()=>{const v=new URLSearchParams(window.location.search),P=v.get("success"),E=v.get("error"),F=v.get("email");P==="true"&&(alert(` Successfully connected to Google Analytics!

Account: ${F}`),window.history.replaceState({},document.title,window.location.pathname),window.dispatchEvent(new CustomEvent("oauth-success"))),E&&(alert(` Connection failed: ${E}`),window.history.replaceState({},document.title,window.location.pathname))},b=ue(null),C=ue(null),w=ue([]),D=ue({x:0,y:0}),{showContextMenu:q,contextMenuPosition:Y,openContextMenu:U,closeContextMenu:R}=JT(),G=ue([{type:"input",label:"Input",icon:"material-symbols:input"},{type:"connector",label:"Data Connector",icon:"material-symbols:cable"},{type:"field-extractor",label:"Field Extractor",icon:"material-symbols:filter-alt"},{type:"add",label:"Add",icon:"material-symbols:add"},{type:"output",label:"Output",icon:"material-symbols:output"}]),j={type:"default",animated:!0,style:{stroke:"#9ca3af",strokeWidth:2},markerEnd:{type:"arrowclosed",width:10,height:10,color:"#9ca3af"}},V=v=>{v.preventDefault();const P=v.dataTransfer.getData("application/vueflow");if(P)try{const E=JSON.parse(P),F=r({x:v.clientX-v.target.getBoundingClientRect().left,y:v.clientY-v.target.getBoundingClientRect().top}),K=A(E.type,F);n([K])}catch{}},A=(v,P)=>{const E={id:`${v}_${Date.now()}`,type:v,position:P,data:{},zIndex:1};switch(v){case"connector":E.data={label:"Data Connector",sourceType:"api",apiUrl:"",dataPath:""};break;case"field-extractor":E.data={label:"Field Extractor",selectedFields:[]};break;case"add":case"subtract":case"multiply":case"divide":E.data={label:v.charAt(0).toUpperCase()+v.slice(1),operation:v};break;case"output":E.data={label:"Output",customInputs:[]};break;case"constant":E.data={label:"Constant",valueType:"number",numberValue:0,stringValue:"",booleanValue:!1,objectValue:"{}",arrayValue:"[]"};break;case"compare":E.data={label:"Compare",operation:"equals"};break;case"type-conversion":E.data={label:"Type Conversion",targetType:"string"};break;case"logic":E.data={label:"Logic Operation",operation:"and"};break;case"string-ops":E.data={label:"String Operations",operation:"concat",templateString:"Hello {name}!"};break;case"marker":E.data={label:"Frame",name:"Frame",color:"rgba(147, 197, 253, 0.2)",width:400,height:300},E.zIndex=-100,E.selectable=!0,E.draggable=!0;break;case"input":E.data={label:"Input",parameters:[{name:"param1",type:"string",required:!1,defaultValue:"Hello World"}]};break;default:E.data={label:v.charAt(0).toUpperCase()+v.slice(1)}}return t.addNode(E),E},B=v=>{b.value=v.node};let g=new Map;const N=v=>{t.setDragging(!0),v.node.type==="marker"&&g.set(v.node.id,{x:v.node.position.x,y:v.node.position.y})},S=v=>{const P={x1:v.position.x,y1:v.position.y,x2:v.position.x+(v.data.width||400),y2:v.position.y+(v.data.height||300)};return h.value.filter(E=>E.id!==v.id&&E.type!=="marker").filter(E=>{E.position.x,E.position.y,E.position.x+200,E.position.y+120;const J=E.position.x+200/2,se=E.position.y+120/2;return J>=P.x1&&J<=P.x2&&se>=P.y1&&se<=P.y2})},z=v=>{},H=v=>{t.setDragging(!1),v.node&&(t.updateNodePosition(v.node.id,v.node.position),v.node.type==="marker"&&g.has(v.node.id)&&(S(v.node).forEach(E=>{t.updateNodePosition(E.id,E.position)}),g.delete(v.node.id)))},X=v=>{v.forEach(P=>{if(P.type==="position"&&P.position){const E=h.value.find(K=>K.id===P.id);if(E?.type==="marker"&&t.isDragging&&g.has(P.id)){const K=g.get(P.id),J=P.position.x-K.x,se=P.position.y-K.y;S({...E,position:K}).forEach(be=>{const xe={x:be.position.x+J,y:be.position.y+se};i(be.id,{position:xe}),t.updateNodePosition(be.id,xe)}),g.set(P.id,P.position)}t.updateNodePosition(P.id,P.position)}else if(P.type==="remove")t.removeNode(P.id),b.value?.id===P.id&&(b.value=null);else if(P.type==="select"){const E=h.value.findIndex(F=>F.id===P.id);E!==-1&&(h.value[E].selected=P.selected,P.selected&&(b.value=h.value[E]))}})},W=v=>{v.forEach(P=>{P.type==="remove"&&t.removeEdge(P.id)})},oe=v=>{const P=v.sourceHandle?.startsWith("exec-"),E=v.targetHandle?.startsWith("exec-");if(P!==E)return!1;if(P&&E)return!0;const F=t.nodes.find(se=>se.id===v.source),K=t.nodes.find(se=>se.id===v.target);return!F||!K?!1:r3(F,v.sourceHandle,K,v.targetHandle,t)},ce=(v,P,E)=>{const K={...t.nodeData[v.id]||{},_nodeId:v.id};return jn(v.type,K,P,E,t)},pe=v=>{if(!v.source||!v.target)return;const P=v.sourceHandle?.startsWith("exec-")||v.targetHandle?.startsWith("exec-"),E=v.sourceHandle?.startsWith("exec-"),F=v.targetHandle?.startsWith("exec-");if(E!==F)return;P&&(t.edges.filter(xe=>xe.source===v.source&&xe.sourceHandle===v.sourceHandle&&xe.edgeType==="flow").forEach(xe=>{t.removeEdge(xe.id)}),t.edges.filter(xe=>xe.target===v.target&&xe.targetHandle===v.targetHandle&&xe.edgeType==="flow").forEach(xe=>{t.removeEdge(xe.id)}));let K="#9ca3af",J="any";if(!P){const le=t.nodes.find(be=>be.id===v.source);le&&(J=ce(le,v.sourceHandle,"source"),K=Si(J))}if(!v.source||!v.target)return;const se={id:`edge_${Date.now()}`,source:v.source,target:v.target,sourceHandle:v.sourceHandle,targetHandle:v.targetHandle,edgeType:P?"flow":"data",dataType:J,animated:P,style:{stroke:K,strokeWidth:P?3:2.5},markerEnd:{type:"arrowclosed",width:P?10:8,height:P?10:8,color:K}};if(!P){const le=t.nodes.find(tt=>tt.id===v.source),be=t.nodes.find(tt=>tt.id===v.target),Te=t.executionResults[v.source]?.[v.sourceHandle],Xe=t.executionResults[v.target]?.[v.targetHandle];console.log(`
 NOVA CONEXO
 OUTPUT
   Node: ${le?.type||"unknown"} (${v.source})
   Parmetro: ${v.sourceHandle}
   Valor: ${Te!==void 0?JSON.stringify(Te):"no executado ainda"}

 INPUT
    Node: ${be?.type||"unknown"} (${v.target})
    Parmetro: ${v.targetHandle}
    Valor: ${Xe!==void 0?JSON.stringify(Xe):"no executado ainda"}
    `)}t.addEdge(se),d.value=!0,setTimeout(()=>{d.value=!1},100)},ie=v=>{c.value={active:!0,sourceNodeId:v.nodeId,sourceHandle:v.handleId},d.value=!1},he=v=>{if(!c.value.active)return;if(d.value){c.value.active=!1;return}const P=document.elementFromPoint(v.clientX,v.clientY);if(P?.closest(".vue-flow__handle")){c.value.active=!1;return}if(P?.closest(".vue-flow__node")){c.value.active=!1;return}const K=t.nodes.find(xe=>xe.id===c.value.sourceNodeId),J=c.value.sourceHandle;if(!K||!J){c.value.active=!1;return}const se=ce(K,J,"source"),le=J.startsWith("exec-"),be=t.nodeCatalog.nodes.filter(xe=>le?xe.handles?.inputs?.execution?.some(Xe=>Xe.id?.startsWith("exec-")):(xe.handles?.inputs?.data||[]).some(Xe=>{const tt=Al(xe.type,Xe.id);return Xg(se,tt)}));u.value.sourceNodeId=K.id,u.value.sourceHandle=J,u.value.compatibleNodes=be,G.value=be,U(v.clientX,v.clientY),f.value=!0,setTimeout(()=>{f.value=!1},100),c.value.active=!1},fe=({edge:v})=>{if(!v||v.edgeType==="flow")return;const P=t.nodes.find(tt=>tt.id===v.source),E=t.nodes.find(tt=>tt.id===v.target),F=t.executionResults[v.source];t.executionResults[v.target];const K=t.savedDetectedTypes[v.source]||{},J=t.savedDetectedTypes[v.target]||{},se=F?.[v.sourceHandle],le=K[v.sourceHandle]||"unknown",be=t.getNodeDataInputs?.(v.target)||{},xe=v.targetHandle?.replace("data-","")||"input",Te=be[xe],it=J[v.targetHandle]||"unknown",Xe=tt=>{if(tt===void 0)return"undefined";if(tt===null)return"null";const wt=JSON.stringify(tt);return wt.length>38?wt.substring(0,38):wt};console.log(`

           CONEXO CLICADA (VALOR SENDO TRANSMITIDO)          

                                                               
   OUTPUT (ORIGEM)                                           
   Node: ${(P?.type||"unknown").padEnd(47)}
   ID: ${(v.source||"unknown").padEnd(49)}
   Handle: ${(v.sourceHandle||"unknown").padEnd(45)}
   TIPO: ${le.padEnd(49)}
   VALOR: ${Xe(se).padEnd(47)}
                                                               
   INPUT (DESTINO)                                           
   Node: ${(E?.type||"unknown").padEnd(47)}
   ID: ${(v.target||"unknown").padEnd(49)}
   Handle: ${(v.targetHandle||"unknown").padEnd(45)}
   TIPO: ${it.padEnd(49)}
   VALOR: ${Xe(Te).padEnd(47)}
                                                               

`)},Z=async()=>{C.value="running";try{await t.executeFlow(),C.value="success",setTimeout(()=>{C.value=null},3e3)}catch{C.value="error",setTimeout(()=>{C.value=null},5e3)}},te=()=>{confirm("Are you sure you want to clear the entire flow? This action cannot be undone.")&&(t.clearFlow(),b.value=null)},ne=v=>{if(["INPUT","SELECT","BUTTON","TEXTAREA"].includes(document.activeElement?.tagName)){v.key==="Escape"&&q.value&&R();return}if(v.ctrlKey&&v.key==="c"){v.preventDefault(),_();return}if(v.ctrlKey&&v.key==="v"){v.preventDefault(),k();return}if(v.code==="Space"){v.preventDefault(),U(D.value.x,D.value.y);return}if(v.key==="Escape"){R();return}},de=v=>{},ye=v=>{if(["INPUT","SELECT","BUTTON","TEXTAREA"].includes(v.target.tagName)||f.value)return;q.value&&R(),u.value.visible&&closeQuickAddMenu(),v.target.closest(".vue-flow__node")||l.value?.focus()},T=v=>{["INPUT","SELECT","BUTTON","TEXTAREA"].includes(v.target.tagName)||(D.value={x:v.clientX,y:v.clientY})},O=v=>{const P=I(D.value.x,D.value.y),E=A(v,P);R(),u.value.sourceNodeId&&u.value.sourceHandle&&setTimeout(()=>{const F=u.value.sourceHandle,K=F.startsWith("exec-"),J=t.nodeCatalog.nodes.find(le=>le.type===v);let se=null;K?se=J?.handles?.inputs?.execution?.[0]?.id||"exec-in":se=(J?.handles?.inputs?.data||[]).find(xe=>{const Te=Al(v,xe.id),it=ce(t.nodes.find(Xe=>Xe.id===u.value.sourceNodeId),F,"source");return Te.includes(it)||Te.includes("any")})?.id||"data-input",pe({source:u.value.sourceNodeId,sourceHandle:F,target:E.id,targetHandle:se}),u.value.sourceNodeId=null,u.value.sourceHandle=null},100)},_=()=>{const v=h.value.filter(P=>P.selected);v.length!==0&&(w.value=v.map(P=>({...P,data:Ni(P.data),position:{...P.position}})))},k=()=>{if(w.value.length===0)return;const v=I(D.value.x,D.value.y),P=30;w.value.forEach((E,F)=>{const K={...E,id:`${E.type}_${Date.now()}_${F} `,position:{x:v.x+F*P,y:v.y+F*P},data:Ni(E.data),selected:!1};t.addNode(K)})},I=(v,P)=>{if(!s.value){const F=l.value?.getBoundingClientRect();return F?{x:v-F.left,y:P-F.top}:{x:v,y:P}}const E=s.value.getBoundingClientRect();return r({x:v-E.left,y:P-E.top})},m=v=>{if((v.ctrlKey||v.metaKey)&&v.key==="z"&&!v.shiftKey){v.preventDefault(),t.undo();return}if((v.ctrlKey||v.metaKey)&&(v.key==="y"||v.shiftKey&&v.key==="z")){v.preventDefault(),t.redo();return}};return rt(()=>{l.value?.focus(),$(),t.initializeFromUrl(),window.addEventListener("keydown",m)}),vo(()=>{window.removeEventListener("keydown",m)}),(v,P)=>(M(),L("div",pO,[ee(IA,{"can-undo":ae(t).canUndo,"can-redo":ae(t).canRedo,"execution-status":C.value,onExecute:Z,onClear:te,onUndo:ae(t).undo,onRedo:ae(t).redo},null,8,["can-undo","can-redo","execution-status","onUndo","onRedo"]),x("div",gO,[ee(BA),x("div",{class:"flex-1 relative outline-none focus:outline-none",onDrop:V,onDragover:P[0]||(P[0]=So(()=>{},["prevent"])),onKeydown:ne,onKeyup:de,onClick:ye,onMousemove:T,onContextmenu:P[1]||(P[1]=So(()=>{},["prevent"])),tabindex:"0",ref_key:"canvasRef",ref:l},[ee(ae(nk),{nodes:h.value,edges:y.value,onNodesChange:X,onEdgesChange:W,onConnect:pe,onConnectStart:ie,onConnectEnd:he,onEdgeClick:fe,onNodeClick:B,onNodeDragStart:N,onNodeDrag:z,onNodeDragStop:H,"default-edge-options":j,"is-valid-connection":oe,"fit-view-on-init":!1,"zoom-on-scroll":!0,"pan-on-scroll":!1,"pan-on-drag":[1,2],"node-draggable":!0,"nodes-deletable":!0,"edges-deletable":!0,"delete-key-code":"Delete","multi-selection-key-code":"Control","selection-mode":"partial",class:"w-full h-full bg-flow-bg dark:bg-flow-bg-dark"},{"node-connector":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-add":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-subtract":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-multiply":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-divide":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-array-filter":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-array-aggregate":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-array-slice":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-array-sort":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-array-map":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-array-groupby":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-array-distinct":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-array-merge":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-object-create":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-array-create":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-object-merge":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-object-pick":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-object-keys-values":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-object-rename":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-object-set-property":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-object-to-array":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-object-transform":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-field-extractor":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-output":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-variable":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-input":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-constant":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-compare":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-conditional-branch":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-type-conversion":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-logic":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-string-ops":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-for-each":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-while-loop":Ee(E=>[ee(Me,Ae(De(E)),null,16)]),"node-marker":Ee(E=>[ee(hO,Ae(De(E)),null,16)]),"node-debug-viewer":Ee(E=>[ee(cO,Ae(De(E)),null,16)]),default:Ee(()=>[ee(ae(ck),{variant:ae(nn).Dots,"pattern-color":"#e5e7eb"},null,8,["variant"]),ee(ae(kC),{pannable:"",zoomable:""}),ee(ae(Lk))]),_:1},8,["nodes","edges"]),ee(lP,{show:ae(q),position:ae(Y),nodes:G.value,onCreateNode:O},null,8,["show","position","nodes"])],544),ee(KD,{"selected-node":b.value,onClose:P[2]||(P[2]=E=>b.value=null),onDelete:P[3]||(P[3]=E=>b.value=null)},null,8,["selected-node"])])]))}},vO=pt(mO,[["__scopeId","data-v-9f9c94a9"]]),yO={id:"app",class:"h-screen overflow-hidden bg-flow-bg dark:bg-flow-bg-dark text-flow-text dark:text-flow-text-dark font-sans antialiased transition-colors duration-200"},bO={__name:"App",setup(e){const{initTheme:t}=Qg();return rt(()=>{t()}),(n,o)=>(M(),L("div",yO,[ee(vO)]))}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Eo=typeof document<"u";function hm(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function _O(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&hm(e.default)}const Ve=Object.assign;function La(e,t){const n={};for(const o in t){const r=t[o];n[o]=Ut(r)?r.map(e):e(r)}return n}const Ir=()=>{},Ut=Array.isArray,pm=/#/g,xO=/&/g,wO=/\//g,kO=/=/g,$O=/\?/g,gm=/\+/g,EO=/%5B/g,SO=/%5D/g,mm=/%5E/g,CO=/%60/g,vm=/%7B/g,NO=/%7C/g,ym=/%7D/g,IO=/%20/g;function Mu(e){return encodeURI(""+e).replace(NO,"|").replace(EO,"[").replace(SO,"]")}function TO(e){return Mu(e).replace(vm,"{").replace(ym,"}").replace(mm,"^")}function zl(e){return Mu(e).replace(gm,"%2B").replace(IO,"+").replace(pm,"%23").replace(xO,"%26").replace(CO,"`").replace(vm,"{").replace(ym,"}").replace(mm,"^")}function AO(e){return zl(e).replace(kO,"%3D")}function DO(e){return Mu(e).replace(pm,"%23").replace($O,"%3F")}function PO(e){return e==null?"":DO(e).replace(wO,"%2F")}function ts(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const OO=/\/$/,MO=e=>e.replace(OO,"");function Ba(e,t,n="/"){let o,r={},s="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(o=o||t.slice(0,a),i=t.slice(a,t.length)),o=HO(o??t,n),{fullPath:o+(s&&"?")+s+i,path:o,query:r,hash:ts(i)}}function zO(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function pf(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function RO(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&Yo(t.matched[o],n.matched[r])&&bm(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Yo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function bm(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!VO(e[n],t[n]))return!1;return!0}function VO(e,t){return Ut(e)?gf(e,t):Ut(t)?gf(t,e):e===t}function gf(e,t){return Ut(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function HO(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let s=n.length-1,i,a;for(i=0;i<o.length;i++)if(a=o[i],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+o.slice(i).join("/")}const Tn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ns;(function(e){e.pop="pop",e.push="push"})(ns||(ns={}));var Tr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Tr||(Tr={}));function FO(e){if(!e)if(Eo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),MO(e)}const LO=/^[^#]+#/;function BO(e,t){return e.replace(LO,"#")+t}function jO(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const da=()=>({left:window.scrollX,top:window.scrollY});function UO(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=jO(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function mf(e,t){return(history.state?history.state.position-t:-1)+e}const Rl=new Map;function ZO(e,t){Rl.set(e,t)}function WO(e){const t=Rl.get(e);return Rl.delete(e),t}let GO=()=>location.protocol+"//"+location.host;function _m(e,t){const{pathname:n,search:o,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),pf(l,"")}return pf(n,e)+o+r}function YO(e,t,n,o){let r=[],s=[],i=null;const a=({state:f})=>{const h=_m(e,location),p=n.value,y=t.value;let $=0;if(f){if(n.value=h,t.value=f,i&&i===p){i=null;return}$=y?f.position-y.position:0}else o(h);r.forEach(b=>{b(n.value,p,{delta:$,type:ns.pop,direction:$?$>0?Tr.forward:Tr.back:Tr.unknown})})};function l(){i=n.value}function u(f){r.push(f);const h=()=>{const p=r.indexOf(f);p>-1&&r.splice(p,1)};return s.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(Ve({},f.state,{scroll:da()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function vf(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?da():null}}function qO(e){const{history:t,location:n}=window,o={value:_m(e,n)},r={value:t.state};r.value||s(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:GO()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),r.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function i(l,u){const c=Ve({},t.state,vf(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,c,!0),o.value=l}function a(l,u){const c=Ve({},r.value,t.state,{forward:l,scroll:da()});s(c.current,c,!0);const d=Ve({},vf(o.value,l,null),{position:c.position+1},u);s(l,d,!1),o.value=l}return{location:o,state:r,push:a,replace:i}}function KO(e){e=FO(e);const t=qO(e),n=YO(e,t.state,t.location,t.replace);function o(s,i=!0){i||n.pauseListeners(),history.go(s)}const r=Ve({location:"",base:e,go:o,createHref:BO.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function XO(e){return typeof e=="string"||e&&typeof e=="object"}function xm(e){return typeof e=="string"||typeof e=="symbol"}const wm=Symbol("");var yf;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(yf||(yf={}));function qo(e,t){return Ve(new Error,{type:e,[wm]:!0},t)}function hn(e,t){return e instanceof Error&&wm in e&&(t==null||!!(e.type&t))}const bf="[^/]+?",JO={sensitive:!1,strict:!1,start:!0,end:!0},QO=/[.+*?^${}()[\]/\\]/g;function eM(e,t){const n=Ve({},JO,t),o=[];let r=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(QO,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:y,optional:$,regexp:b}=f;s.push({name:p,repeatable:y,optional:$});const C=b||bf;if(C!==bf){h+=10;try{new RegExp(`(${C})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${p}" (${C}): `+D.message)}}let w=y?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;d||(w=$&&u.length<2?`(?:/${w})`:"/"+w),$&&(w+="?"),r+=w,h+=20,$&&(h+=-8),y&&(h+=-20),C===".*"&&(h+=-50)}c.push(h)}o.push(c)}if(n.strict&&n.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(i),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=s[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:y,optional:$}=h,b=p in u?u[p]:"";if(Ut(b)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const C=Ut(b)?b.join("/"):b;if(!C)if($)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=C}}return c||"/"}return{re:i,score:o,keys:s,parse:a,stringify:l}}function tM(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function km(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const s=tM(o[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-o.length)===1){if(_f(o))return 1;if(_f(r))return-1}return r.length-o.length}function _f(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const nM={type:0,value:""},oM=/[a-zA-Z0-9_]/;function rM(e){if(!e)return[[]];if(e==="/")return[[nM]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,o=n;const r=[];let s;function i(){s&&r.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),i()):l===":"?(d(),n=1):f();break;case 4:f(),n=o;break;case 1:l==="("?n=2:oM.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),i(),r}function sM(e,t,n){const o=eM(rM(e.path),n),r=Ve(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function iM(e,t){const n=[],o=new Map;t=$f({strict:!1,end:!0,sensitive:!1},t);function r(d){return o.get(d)}function s(d,f,h){const p=!h,y=wf(d);y.aliasOf=h&&h.record;const $=$f(t,d),b=[y];if("alias"in d){const D=typeof d.alias=="string"?[d.alias]:d.alias;for(const q of D)b.push(wf(Ve({},y,{components:h?h.record.components:y.components,path:q,aliasOf:h?h.record:y})))}let C,w;for(const D of b){const{path:q}=D;if(f&&q[0]!=="/"){const Y=f.record.path,U=Y[Y.length-1]==="/"?"":"/";D.path=f.record.path+(q&&U+q)}if(C=sM(D,f,$),h?h.alias.push(C):(w=w||C,w!==C&&w.alias.push(C),p&&d.name&&!kf(C)&&i(d.name)),$m(C)&&l(C),y.children){const Y=y.children;for(let U=0;U<Y.length;U++)s(Y[U],C,h&&h.children[U])}h=h||C}return w?()=>{i(w)}:Ir}function i(d){if(xm(d)){const f=o.get(d);f&&(o.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&o.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function a(){return n}function l(d){const f=uM(d,n);n.splice(f,0,d),d.record.name&&!kf(d)&&o.set(d.record.name,d)}function u(d,f){let h,p={},y,$;if("name"in d&&d.name){if(h=o.get(d.name),!h)throw qo(1,{location:d});$=h.record.name,p=Ve(xf(f.params,h.keys.filter(w=>!w.optional).concat(h.parent?h.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),d.params&&xf(d.params,h.keys.map(w=>w.name))),y=h.stringify(p)}else if(d.path!=null)y=d.path,h=n.find(w=>w.re.test(y)),h&&(p=h.parse(y),$=h.record.name);else{if(h=f.name?o.get(f.name):n.find(w=>w.re.test(f.path)),!h)throw qo(1,{location:d,currentLocation:f});$=h.record.name,p=Ve({},f.params,d.params),y=h.stringify(p)}const b=[];let C=h;for(;C;)b.unshift(C.record),C=C.parent;return{name:$,path:y,params:p,matched:b,meta:lM(b)}}e.forEach(d=>s(d));function c(){n.length=0,o.clear()}return{addRoute:s,resolve:u,removeRoute:i,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function xf(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function wf(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:aM(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function aM(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function kf(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function lM(e){return e.reduce((t,n)=>Ve(t,n.meta),{})}function $f(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function uM(e,t){let n=0,o=t.length;for(;n!==o;){const s=n+o>>1;km(e,t[s])<0?o=s:n=s+1}const r=cM(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function cM(e){let t=e;for(;t=t.parent;)if($m(t)&&km(e,t)===0)return t}function $m({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function dM(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const s=o[r].replace(gm," "),i=s.indexOf("="),a=ts(i<0?s:s.slice(0,i)),l=i<0?null:ts(s.slice(i+1));if(a in t){let u=t[a];Ut(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Ef(e){let t="";for(let n in e){const o=e[n];if(n=AO(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ut(o)?o.map(s=>s&&zl(s)):[o&&zl(o)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function fM(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=Ut(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const hM=Symbol(""),Sf=Symbol(""),fa=Symbol(""),zu=Symbol(""),Vl=Symbol("");function lr(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Vn(e,t,n,o,r,s=i=>i()){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(qo(4,{from:n,to:t})):f instanceof Error?l(f):XO(f)?l(qo(2,{from:t,to:f})):(i&&o.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),a())},c=s(()=>e.call(o&&o.instances[r],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function ja(e,t,n,o,r=s=>s()){const s=[];for(const i of e)for(const a in i.components){let l=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(hm(l)){const c=(l.__vccOpts||l)[t];c&&s.push(Vn(c,n,o,i,a,r))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const d=_O(c)?c.default:c;i.mods[a]=c,i.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&Vn(h,n,o,i,a,r)()}))}}return s}function Cf(e){const t=ht(fa),n=ht(zu),o=Q(()=>{const l=ae(e.to);return t.resolve(l)}),r=Q(()=>{const{matched:l}=o.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(Yo.bind(null,c));if(f>-1)return f;const h=Nf(l[u-2]);return u>1&&Nf(c)===h&&d[d.length-1].path!==h?d.findIndex(Yo.bind(null,l[u-2])):f}),s=Q(()=>r.value>-1&&yM(n.params,o.value.params)),i=Q(()=>r.value>-1&&r.value===n.matched.length-1&&bm(n.params,o.value.params));function a(l={}){if(vM(l)){const u=t[ae(e.replace)?"replace":"push"](ae(e.to)).catch(Ir);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:o,href:Q(()=>o.value.href),isActive:s,isExactActive:i,navigate:a}}function pM(e){return e.length===1?e[0]:e}const gM=Be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cf,setup(e,{slots:t}){const n=Xo(Cf(e)),{options:o}=ht(fa),r=Q(()=>({[If(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[If(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&pM(t.default(n));return e.custom?s:ze("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),mM=gM;function vM(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function yM(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(!Ut(r)||r.length!==o.length||o.some((s,i)=>s!==r[i]))return!1}return!0}function Nf(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const If=(e,t,n)=>e??t??n,bM=Be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=ht(Vl),r=Q(()=>e.route||o.value),s=ht(Sf,0),i=Q(()=>{let u=ae(s);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=Q(()=>r.value.matched[i.value]);Bt(Sf,Q(()=>i.value+1)),Bt(hM,a),Bt(Vl,r);const l=ue();return Ce(()=>[l.value,a.value,e.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Yo(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,d=a.value,f=d&&d.components[c];if(!f)return Tf(n.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,$=ze(f,Ve({},p,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Tf(n.default,{Component:$,route:u})||$}}});function Tf(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const _M=bM;function xM(e){const t=iM(e.routes,e),n=e.parseQuery||dM,o=e.stringifyQuery||Ef,r=e.history,s=lr(),i=lr(),a=lr(),l=Ro(Tn);let u=Tn;Eo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=La.bind(null,Z=>""+Z),d=La.bind(null,PO),f=La.bind(null,ts);function h(Z,te){let ne,de;return xm(Z)?(ne=t.getRecordMatcher(Z),de=te):de=Z,t.addRoute(de,ne)}function p(Z){const te=t.getRecordMatcher(Z);te&&t.removeRoute(te)}function y(){return t.getRoutes().map(Z=>Z.record)}function $(Z){return!!t.getRecordMatcher(Z)}function b(Z,te){if(te=Ve({},te||l.value),typeof Z=="string"){const _=Ba(n,Z,te.path),k=t.resolve({path:_.path},te),I=r.createHref(_.fullPath);return Ve(_,k,{params:f(k.params),hash:ts(_.hash),redirectedFrom:void 0,href:I})}let ne;if(Z.path!=null)ne=Ve({},Z,{path:Ba(n,Z.path,te.path).path});else{const _=Ve({},Z.params);for(const k in _)_[k]==null&&delete _[k];ne=Ve({},Z,{params:d(_)}),te.params=d(te.params)}const de=t.resolve(ne,te),ye=Z.hash||"";de.params=c(f(de.params));const T=zO(o,Ve({},Z,{hash:TO(ye),path:de.path})),O=r.createHref(T);return Ve({fullPath:T,hash:ye,query:o===Ef?fM(Z.query):Z.query||{}},de,{redirectedFrom:void 0,href:O})}function C(Z){return typeof Z=="string"?Ba(n,Z,l.value.path):Ve({},Z)}function w(Z,te){if(u!==Z)return qo(8,{from:te,to:Z})}function D(Z){return U(Z)}function q(Z){return D(Ve(C(Z),{replace:!0}))}function Y(Z){const te=Z.matched[Z.matched.length-1];if(te&&te.redirect){const{redirect:ne}=te;let de=typeof ne=="function"?ne(Z):ne;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=C(de):{path:de},de.params={}),Ve({query:Z.query,hash:Z.hash,params:de.path!=null?{}:Z.params},de)}}function U(Z,te){const ne=u=b(Z),de=l.value,ye=Z.state,T=Z.force,O=Z.replace===!0,_=Y(ne);if(_)return U(Ve(C(_),{state:typeof _=="object"?Ve({},ye,_.state):ye,force:T,replace:O}),te||ne);const k=ne;k.redirectedFrom=te;let I;return!T&&RO(o,de,ne)&&(I=qo(16,{to:k,from:de}),oe(de,de,!0,!1)),(I?Promise.resolve(I):j(k,de)).catch(m=>hn(m)?hn(m,2)?m:W(m):H(m,k,de)).then(m=>{if(m){if(hn(m,2))return U(Ve({replace:O},C(m.to),{state:typeof m.to=="object"?Ve({},ye,m.to.state):ye,force:T}),te||k)}else m=A(k,de,!0,O,ye);return V(k,de,m),m})}function R(Z,te){const ne=w(Z,te);return ne?Promise.reject(ne):Promise.resolve()}function G(Z){const te=ie.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(Z):Z()}function j(Z,te){let ne;const[de,ye,T]=wM(Z,te);ne=ja(de.reverse(),"beforeRouteLeave",Z,te);for(const _ of de)_.leaveGuards.forEach(k=>{ne.push(Vn(k,Z,te))});const O=R.bind(null,Z,te);return ne.push(O),fe(ne).then(()=>{ne=[];for(const _ of s.list())ne.push(Vn(_,Z,te));return ne.push(O),fe(ne)}).then(()=>{ne=ja(ye,"beforeRouteUpdate",Z,te);for(const _ of ye)_.updateGuards.forEach(k=>{ne.push(Vn(k,Z,te))});return ne.push(O),fe(ne)}).then(()=>{ne=[];for(const _ of T)if(_.beforeEnter)if(Ut(_.beforeEnter))for(const k of _.beforeEnter)ne.push(Vn(k,Z,te));else ne.push(Vn(_.beforeEnter,Z,te));return ne.push(O),fe(ne)}).then(()=>(Z.matched.forEach(_=>_.enterCallbacks={}),ne=ja(T,"beforeRouteEnter",Z,te,G),ne.push(O),fe(ne))).then(()=>{ne=[];for(const _ of i.list())ne.push(Vn(_,Z,te));return ne.push(O),fe(ne)}).catch(_=>hn(_,8)?_:Promise.reject(_))}function V(Z,te,ne){a.list().forEach(de=>G(()=>de(Z,te,ne)))}function A(Z,te,ne,de,ye){const T=w(Z,te);if(T)return T;const O=te===Tn,_=Eo?history.state:{};ne&&(de||O?r.replace(Z.fullPath,Ve({scroll:O&&_&&_.scroll},ye)):r.push(Z.fullPath,ye)),l.value=Z,oe(Z,te,ne,O),W()}let B;function g(){B||(B=r.listen((Z,te,ne)=>{if(!he.listening)return;const de=b(Z),ye=Y(de);if(ye){U(Ve(ye,{replace:!0,force:!0}),de).catch(Ir);return}u=de;const T=l.value;Eo&&ZO(mf(T.fullPath,ne.delta),da()),j(de,T).catch(O=>hn(O,12)?O:hn(O,2)?(U(Ve(C(O.to),{force:!0}),de).then(_=>{hn(_,20)&&!ne.delta&&ne.type===ns.pop&&r.go(-1,!1)}).catch(Ir),Promise.reject()):(ne.delta&&r.go(-ne.delta,!1),H(O,de,T))).then(O=>{O=O||A(de,T,!1),O&&(ne.delta&&!hn(O,8)?r.go(-ne.delta,!1):ne.type===ns.pop&&hn(O,20)&&r.go(-1,!1)),V(de,T,O)}).catch(Ir)}))}let N=lr(),S=lr(),z;function H(Z,te,ne){W(Z);const de=S.list();return de.length?de.forEach(ye=>ye(Z,te,ne)):console.error(Z),Promise.reject(Z)}function X(){return z&&l.value!==Tn?Promise.resolve():new Promise((Z,te)=>{N.add([Z,te])})}function W(Z){return z||(z=!Z,g(),N.list().forEach(([te,ne])=>Z?ne(Z):te()),N.reset()),Z}function oe(Z,te,ne,de){const{scrollBehavior:ye}=e;if(!Eo||!ye)return Promise.resolve();const T=!ne&&WO(mf(Z.fullPath,0))||(de||!ne)&&history.state&&history.state.scroll||null;return St().then(()=>ye(Z,te,T)).then(O=>O&&UO(O)).catch(O=>H(O,Z,te))}const ce=Z=>r.go(Z);let pe;const ie=new Set,he={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:$,getRoutes:y,resolve:b,options:e,push:D,replace:q,go:ce,back:()=>ce(-1),forward:()=>ce(1),beforeEach:s.add,beforeResolve:i.add,afterEach:a.add,onError:S.add,isReady:X,install(Z){const te=this;Z.component("RouterLink",mM),Z.component("RouterView",_M),Z.config.globalProperties.$router=te,Object.defineProperty(Z.config.globalProperties,"$route",{enumerable:!0,get:()=>ae(l)}),Eo&&!pe&&l.value===Tn&&(pe=!0,D(r.location).catch(ye=>{}));const ne={};for(const ye in Tn)Object.defineProperty(ne,ye,{get:()=>l.value[ye],enumerable:!0});Z.provide(fa,te),Z.provide(zu,eh(ne)),Z.provide(Vl,l);const de=Z.unmount;ie.add(Z),Z.unmount=function(){ie.delete(Z),ie.size<1&&(u=Tn,B&&B(),B=null,l.value=Tn,pe=!1,z=!1),de()}}};function fe(Z){return Z.reduce((te,ne)=>te.then(()=>G(ne)),Promise.resolve())}return he}function wM(e,t){const n=[],o=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let i=0;i<s;i++){const a=t.matched[i];a&&(e.matched.find(u=>Yo(u,a))?o.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(u=>Yo(u,l))||r.push(l))}return[n,o,r]}function kM(){return ht(fa)}function Em(e){return ht(zu)}const $M={};function EM(e,t){return null}const SM=pt($M,[["render",EM]]),CM={class:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8"},NM={class:"max-w-4xl mx-auto"},IM={key:0,class:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg flex items-center justify-between"},TM={class:"flex items-center gap-3"},AM={class:"w-10 h-10 bg-green-100 dark:bg-green-800 rounded-full flex items-center justify-center"},DM={class:"text-sm text-green-700 dark:text-green-300"},PM={key:1,class:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg flex items-center justify-between"},OM={class:"flex items-center gap-3"},MM={class:"w-10 h-10 bg-red-100 dark:bg-red-800 rounded-full flex items-center justify-center"},zM={class:"text-sm text-red-700 dark:text-red-300"},RM={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},VM={class:"space-y-3"},HM={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-colors"},FM={class:"flex items-center gap-4"},LM={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center"},BM=["disabled"],jM={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 opacity-60"},UM={class:"flex items-center gap-4"},ZM={class:"w-12 h-12 bg-green-100 dark:bg-green-900/50 rounded-lg flex items-center justify-center"},WM={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},GM={key:0,class:"text-center py-8"},YM={key:1,class:"text-center py-8"},qM={key:2,class:"space-y-3"},KM={class:"flex items-center gap-4"},XM={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center"},JM={class:"font-medium text-gray-900 dark:text-gray-100"},QM={class:"text-sm text-gray-600 dark:text-gray-400"},e6={class:"flex items-center gap-3 mt-1"},t6={class:"text-xs text-gray-500 dark:text-gray-400"},n6={class:"flex items-center gap-2"},o6=["onClick"],r6=["onClick"],s6={__name:"IntegrationsView",setup(e){const t=Em(),n=kM(),o=vt(),r=ue([]),s=ue(!0),i=ue(!1),a=ue(!1),l=ue(""),u=ue(!1),c=ue("");rt(async()=>{const $=t.query.success,b=t.query.error,C=t.query.email;$==="true"&&(a.value=!0,l.value=C||"Unknown",n.replace({query:{}})),b&&(u.value=!0,c.value=b,n.replace({query:{}})),await d()});const d=async()=>{s.value=!0;try{const $=o.apiConfig.baseUrl||"http://localhost:3001",b=await fetch(`${$}/api/oauth/connections`,{headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("flowforge_token")}`}});if(!b.ok)throw new Error("Failed to load connections");const C=await b.json();r.value=C.data?.connections||[]}catch{}finally{s.value=!1}},f=async()=>{i.value=!0;try{const $=o.apiConfig.baseUrl||"http://localhost:3001",b=await fetch(`${$}/api/oauth/google_analytics/authorize`,{headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("flowforge_token")}`}});if(!b.ok)throw new Error("Failed to get authorization URL");const C=await b.json();window.location.href=C.data.authUrl}catch($){u.value=!0,c.value=$.message,i.value=!1}},h=async $=>{try{const b=o.apiConfig.baseUrl||"http://localhost:3001",w=await(await fetch(`${b}/api/oauth/connections/${$}/test`,{method:"POST",headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("flowforge_token")}`}})).json();w.success?alert(" Connection is working!"):alert(" Connection test failed: "+(w.error?.message||"Unknown error"))}catch(b){alert(" Error: "+b.message)}},p=async $=>{if(confirm("Are you sure you want to disconnect this service?"))try{const b=o.apiConfig.baseUrl||"http://localhost:3001";if(!(await fetch(`${b}/api/oauth/connections/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("flowforge_token")}`}})).ok)throw new Error("Failed to disconnect");await d()}catch(b){alert(" Error: "+b.message)}},y=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return($,b)=>(M(),L("div",CM,[x("div",NM,[b[12]||(b[12]=x("div",{class:"mb-8"},[x("h1",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},"Integrations"),x("p",{class:"text-gray-600 dark:text-gray-400"},"Connect external services to use in your flows")],-1)),a.value?(M(),L("div",IM,[x("div",TM,[x("div",AM,[ee(Ie,{icon:"material-symbols:check-circle",size:24,class:"text-green-600 dark:text-green-400"})]),x("div",null,[b[2]||(b[2]=x("p",{class:"font-medium text-green-900 dark:text-green-100"},"Successfully connected!",-1)),x("p",DM,ge(l.value),1)])]),x("button",{onClick:b[0]||(b[0]=C=>a.value=!1),class:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200"},[ee(Ie,{icon:"material-symbols:close",size:20})])])):me("",!0),u.value?(M(),L("div",PM,[x("div",OM,[x("div",MM,[ee(Ie,{icon:"material-symbols:error",size:24,class:"text-red-600 dark:text-red-400"})]),x("div",null,[b[3]||(b[3]=x("p",{class:"font-medium text-red-900 dark:text-red-100"},"Connection failed",-1)),x("p",zM,ge(c.value),1)])]),x("button",{onClick:b[1]||(b[1]=C=>u.value=!1),class:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200"},[ee(Ie,{icon:"material-symbols:close",size:20})])])):me("",!0),x("div",RM,[b[7]||(b[7]=x("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Available Integrations",-1)),x("div",VM,[x("div",HM,[x("div",FM,[x("div",LM,[ee(Ie,{icon:"logos:google-analytics",size:28})]),b[4]||(b[4]=x("div",null,[x("h3",{class:"font-medium text-gray-900 dark:text-gray-100"},"Google Analytics"),x("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Connect your Google Analytics properties")],-1))]),x("button",{onClick:f,disabled:i.value,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center gap-2"},[ee(Ie,{icon:i.value?"material-symbols:hourglass-empty":"material-symbols:link",size:18},null,8,["icon"]),Fe(" "+ge(i.value?"Connecting...":"Connect"),1)],8,BM)]),x("div",jM,[x("div",UM,[x("div",ZM,[ee(Ie,{icon:"logos:google-sheets",size:28})]),b[5]||(b[5]=x("div",null,[x("h3",{class:"font-medium text-gray-900 dark:text-gray-100"},"Google Sheets"),x("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Coming soon")],-1))]),b[6]||(b[6]=x("button",{disabled:"",class:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 rounded-lg font-medium cursor-not-allowed"}," Coming Soon ",-1))])])]),x("div",WM,[b[11]||(b[11]=x("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Your Connections",-1)),s.value?(M(),L("div",GM,[ee(Ie,{icon:"material-symbols:hourglass-empty",size:32,class:"text-gray-400 animate-spin mx-auto mb-2"}),b[8]||(b[8]=x("p",{class:"text-gray-500 dark:text-gray-400"},"Loading connections...",-1))])):r.value.length===0?(M(),L("div",YM,[ee(Ie,{icon:"material-symbols:cloud-off",size:48,class:"text-gray-300 dark:text-gray-600 mx-auto mb-3"}),b[9]||(b[9]=x("p",{class:"text-gray-500 dark:text-gray-400 mb-1"},"No connections yet",-1)),b[10]||(b[10]=x("p",{class:"text-sm text-gray-400 dark:text-gray-500"},"Connect your first service above!",-1))])):(M(),L("div",qM,[(M(!0),L($e,null,Ue(r.value,C=>(M(),L("div",{key:C._id,class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600"},[x("div",KM,[x("div",XM,[ee(Ie,{icon:"logos:google-analytics",size:28})]),x("div",null,[x("h3",JM,ge(C.name),1),x("p",QM,ge(C.email),1),x("div",e6,[x("span",{class:Ze([C.isActive?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400","text-xs font-medium flex items-center gap-1"])},[x("span",{class:Ze(["w-2 h-2 rounded-full",C.isActive?"bg-green-500":"bg-red-500"])},null,2),Fe(" "+ge(C.isActive?"Active":"Inactive"),1)],2),x("span",t6," Expires: "+ge(y(C.expiresAt)),1)])])]),x("div",n6,[x("button",{onClick:w=>h(C._id),class:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded text-sm font-medium transition-colors"}," Test ",8,o6),x("button",{onClick:w=>p(C._id),class:"px-3 py-1.5 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-400 rounded text-sm font-medium transition-colors"}," Disconnect ",8,r6)])]))),128))]))])])]))}},i6={class:"connections-view min-h-screen bg-gray-50 dark:bg-gray-900 p-6"},a6={class:"max-w-4xl mx-auto"},l6={key:0,class:"text-center py-12"},u6={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6"},c6={class:"flex items-center"},d6={class:"text-red-600 dark:text-red-400 text-sm"},f6={class:"flex items-center"},h6={class:"text-2xl mr-3"},p6={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6"},g6={key:0,class:"space-y-3 mb-4"},m6={class:"flex items-center"},v6={class:"font-medium text-gray-900 dark:text-white"},y6={class:"text-xs text-gray-500 dark:text-gray-400"},b6=["onClick","disabled"],_6={key:1,class:"text-center py-6 text-gray-500 dark:text-gray-400 text-sm mb-4"},x6=["disabled"],w6={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},k6={key:0,class:"space-y-3 mb-4"},$6={class:"flex items-center"},E6={class:"font-medium text-gray-900 dark:text-white"},S6={class:"text-xs text-gray-500 dark:text-gray-400"},C6=["onClick","disabled"],N6={key:1,class:"text-center py-6 text-gray-500 dark:text-gray-400 text-sm mb-4"},I6=["disabled"],T6={__name:"ConnectionsView",setup(e){const t=dm(),n=vt();Em();const o=ue(!1),r=ue(!1),s=ue(""),i=ue(!1),a=Q(()=>t.getAnalyticsConnections),l=Q(()=>t.getSheetsConnections),u=async f=>{o.value=!0;try{await t.connectGoogle(f,n.apiConfig)}catch(h){alert(`Erro ao conectar: ${h.message}`)}finally{o.value=!1}},c=async f=>{if(confirm("Tem certeza que deseja desconectar esta conta?")){r.value=!0;try{await t.revokeConnection(f,n.apiConfig),s.value="Conexo removida com sucesso!",i.value=!0,setTimeout(()=>{s.value=""},3e3)}catch(h){alert(`Erro ao desconectar: ${h.message}`)}finally{r.value=!1}}},d=f=>f?new Date(f).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"}):"Data desconhecida";return rt(async()=>{const f=new URLSearchParams(window.location.search);if(f.has("success")||f.has("error")){const p=t.handleOAuthCallback(f);s.value=p.message,i.value=p.success,window.history.replaceState({},document.title,window.location.pathname),setTimeout(()=>{s.value=""},5e3),p.success&&await new Promise(y=>setTimeout(y,1e3))}await t.fetchConnections(n.apiConfig)}),(f,h)=>(M(),L("div",i6,[x("div",a6,[h[11]||(h[11]=x("div",{class:"mb-8"},[x("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"}," Conexes Google "),x("p",{class:"text-gray-600 dark:text-gray-400"}," Gerencie suas conexes com Google Analytics e Google Sheets ")],-1)),ae(t).loading?(M(),L("div",l6,[...h[2]||(h[2]=[x("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1),x("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"Carregando conexes...",-1)])])):ae(t).error?(M(),L("div",u6,[x("div",c6,[h[4]||(h[4]=x("span",{class:"text-red-600 dark:text-red-400 text-xl mr-3"},"",-1)),x("div",null,[h[3]||(h[3]=x("h3",{class:"text-red-800 dark:text-red-300 font-semibold"},"Erro ao carregar conexes",-1)),x("p",d6,ge(ae(t).error),1)])])])):me("",!0),s.value?(M(),L("div",{key:2,class:Ze(["mb-6 p-4 rounded-lg",i.value?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"])},[x("div",f6,[x("span",h6,ge(i.value?"":""),1),x("p",{class:Ze(i.value?"text-green-800 dark:text-green-300":"text-red-800 dark:text-red-300")},ge(s.value),3)])],2)):me("",!0),x("div",p6,[h[7]||(h[7]=Mr('<div class="flex items-center justify-between mb-4" data-v-dc90dba2><div class="flex items-center" data-v-dc90dba2><span class="text-3xl mr-3" data-v-dc90dba2></span><div data-v-dc90dba2><h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-v-dc90dba2>Google Analytics</h2><p class="text-sm text-gray-600 dark:text-gray-400" data-v-dc90dba2>Conecte suas propriedades do GA4</p></div></div></div>',1)),a.value.length>0?(M(),L("div",g6,[(M(!0),L($e,null,Ue(a.value,p=>(M(),L("div",{key:p.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},[x("div",m6,[h[5]||(h[5]=x("span",{class:"text-green-500 mr-3"},"",-1)),x("div",null,[x("p",v6,ge(p.email||p.accountEmail||p.name||`Conexo ${p.id?.substring(0,8)}`),1),x("p",y6," Conectado em "+ge(d(p.createdAt||p.createdDate)),1)])]),x("button",{onClick:y=>c(p.id),disabled:r.value,class:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors disabled:opacity-50"}," Desconectar ",8,b6)]))),128))])):(M(),L("div",_6," Nenhuma conta conectada ")),x("button",{onClick:h[0]||(h[0]=p=>u("analytics")),disabled:o.value,class:"w-full px-4 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-md transition-colors disabled:cursor-not-allowed flex items-center justify-center"},[h[6]||(h[6]=x("span",{class:"mr-2"},"",-1)),Fe(" "+ge(o.value?"Conectando...":"Adicionar conta Google Analytics"),1)],8,x6)]),x("div",w6,[h[10]||(h[10]=Mr('<div class="flex items-center justify-between mb-4" data-v-dc90dba2><div class="flex items-center" data-v-dc90dba2><span class="text-3xl mr-3" data-v-dc90dba2></span><div data-v-dc90dba2><h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-v-dc90dba2>Google Sheets</h2><p class="text-sm text-gray-600 dark:text-gray-400" data-v-dc90dba2>Acesse suas planilhas do Google</p></div></div></div>',1)),l.value.length>0?(M(),L("div",k6,[(M(!0),L($e,null,Ue(l.value,p=>(M(),L("div",{key:p.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},[x("div",$6,[h[8]||(h[8]=x("span",{class:"text-green-500 mr-3"},"",-1)),x("div",null,[x("p",E6,ge(p.email||p.accountEmail||p.name||`Conexo ${p.id?.substring(0,8)}`),1),x("p",S6," Conectado em "+ge(d(p.createdAt||p.createdDate)),1)])]),x("button",{onClick:y=>c(p.id),disabled:r.value,class:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors disabled:opacity-50"}," Desconectar ",8,C6)]))),128))])):(M(),L("div",N6," Nenhuma conta conectada ")),x("button",{onClick:h[1]||(h[1]=p=>u("sheets")),disabled:o.value,class:"w-full px-4 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-md transition-colors disabled:cursor-not-allowed flex items-center justify-center"},[h[9]||(h[9]=x("span",{class:"mr-2"},"",-1)),Fe(" "+ge(o.value?"Conectando...":"Adicionar conta Google Sheets"),1)],8,I6)])])]))}},A6=pt(T6,[["__scopeId","data-v-dc90dba2"]]),D6=xM({history:KO("/"),routes:[{path:"/",name:"home",component:SM},{path:"/integrations",name:"integrations",component:s6},{path:"/connections",name:"connections",component:A6}]});async function P6(){try{const{initializeEngine:e}=await Pe(async()=>{const{initializeEngine:n}=await import("./loader-DthQVQR7.js");return{initializeEngine:n}},[]),t=await e();if(t.success)return t;throw new Error(t.error)}catch(e){throw e}}async function O6(){try{const e=await P6();if(!e.success)throw new Error(`Engine falhou: ${e.error}`);const t=Bv(bO);t.use(Zv()),t.use(D6),t.mount("#app")}catch(e){document.body.innerHTML=`
      <div style="
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        font-family: system-ui, -apple-system, sans-serif;
        background: #0f172a;
        color: #f1f5f9;
        padding: 2rem;
      ">
        <div style="max-width: 600px; text-align: center;">
          <h1 style="font-size: 2rem; margin-bottom: 1rem; color: #ef4444;">
             Falha ao Inicializar
          </h1>
          <p style="font-size: 1rem; margin-bottom: 2rem; color: #94a3b8;">
            No foi possvel carregar o FlowForge Engine.
          </p>
          <details style="
            text-align: left;
            background: #1e293b;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid #334155;
          ">
            <summary style="cursor: pointer; font-weight: 600; color: #f59e0b;">
              Detalhes do erro
            </summary>
            <pre style="
              margin-top: 1rem;
              font-size: 0.875rem;
              color: #e2e8f0;
              white-space: pre-wrap;
            ">${e.message}

${e.stack||""}</pre>
          </details>
          <button
            onclick="location.reload()"
            style="
              margin-top: 2rem;
              padding: 0.75rem 1.5rem;
              background: #3b82f6;
              color: white;
              border: none;
              border-radius: 0.5rem;
              font-size: 1rem;
              cursor: pointer;
              font-weight: 600;
            "
          >
             Tentar Novamente
          </button>
        </div>
      </div>
    `}}O6();export{L6 as a,F6 as b,V6 as c,Jr as d,FC as e,Ni as f,R6 as g,BT as i,yo as r,z6 as s,B6 as u,H6 as v};
