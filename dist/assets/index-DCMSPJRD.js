const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/output-B9GT2OMv.js","assets/dataUtils-XrCV_Bny.js","assets/comparison-C-3EnatI.js","assets/typeConversion-Dht7g6FP.js","assets/forEach-9OFFvcAY.js","assets/whileLoop-BWu1MzO-.js","assets/conditionalBranch-qmzAHWv1.js","assets/logic-ePm9P3Wg.js","assets/arrayAggregate-3hx34AUl.js","assets/pathUtils-D7aoCHLF.js","assets/arrayCreate-CWf8_DP0.js","assets/arrayDistinct-D9PWoEhT.js","assets/arrayFilter-BKNYAbre.js","assets/arrayGroupBy-BLpLS3bu.js","assets/arrayMap-BRt1gY1q.js","assets/arrayMerge-DTWeiSuC.js","assets/arrayProcessor-3bzHxIk3.js","assets/arraySlice-CQXToVqn.js","assets/arraySort-CkBBmmSd.js","assets/debugViewer-DCC5-KnR.js","assets/fieldExtractor-BvloaJnL.js","assets/math-BT4bU4qf.js","assets/objectCreate-Cp_MSNis.js","assets/objectFilter-EJheFovF.js","assets/objectKeysValues-DCvxA3oL.js","assets/objectMerge-BDO1RdGM.js","assets/objectPick-CwfQPcRQ.js","assets/objectRename-Txwo_3ZR.js","assets/objectSetProperty-D743SG3x.js","assets/objectToArray-3882GLb-.js","assets/objectTransform-QNNWIZ5K.js","assets/round-DvGedJfu.js","assets/stringOps-CaO1roBe.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nu(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const lt={},Lo=[],cn=()=>{},Df=()=>!1,Zi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ou=e=>e.startsWith("onUpdate:"),It=Object.assign,ru=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},gm=Object.prototype.hasOwnProperty,et=(e,t)=>gm.call(e,t),Te=Array.isArray,Fo=e=>bs(e)==="[object Map]",pr=e=>bs(e)==="[object Set]",Zu=e=>bs(e)==="[object Date]",Ve=e=>typeof e=="function",mt=e=>typeof e=="string",Kt=e=>typeof e=="symbol",it=e=>e!==null&&typeof e=="object",Pf=e=>(it(e)||Ve(e))&&Ve(e.then)&&Ve(e.catch),Rf=Object.prototype.toString,bs=e=>Rf.call(e),mm=e=>bs(e).slice(8,-1),Vf=e=>bs(e)==="[object Object]",su=e=>mt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Dr=nu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qi=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},ym=/-\w/g,Bt=qi(e=>e.replace(ym,t=>t.slice(1).toUpperCase())),vm=/\B([A-Z])/g,lo=qi(e=>e.replace(vm,"-$1").toLowerCase()),Xi=qi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sa=qi(e=>e?`on${Xi(e)}`:""),In=(e,t)=>!Object.is(e,t),Gs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},zf=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},ci=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let qu;const Ki=()=>qu||(qu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ct(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=mt(o)?wm(o):ct(o);if(r)for(const s in r)t[s]=r[s]}return t}else if(mt(e)||it(e))return e}const bm=/;(?![^(]*\))/g,xm=/:([^]+)/,_m=/\/\*[^]*?\*\//g;function wm(e){const t={};return e.replace(_m,"").split(bm).forEach(n=>{if(n){const o=n.split(xm);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function st(e){let t="";if(mt(e))t=e;else if(Te(e))for(let n=0;n<e.length;n++){const o=st(e[n]);o&&(t+=o+" ")}else if(it(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Ue(e){if(!e)return null;let{class:t,style:n}=e;return t&&!mt(t)&&(e.class=st(t)),n&&(e.style=ct(n)),e}const km="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Em=nu(km);function Hf(e){return!!e||e===""}function $m(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=xs(e[o],t[o]);return n}function xs(e,t){if(e===t)return!0;let n=Zu(e),o=Zu(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=Kt(e),o=Kt(t),n||o)return e===t;if(n=Te(e),o=Te(t),n||o)return n&&o?$m(e,t):!1;if(n=it(e),o=it(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!xs(e[i],t[i]))return!1}}return String(e)===String(t)}function iu(e,t){return e.findIndex(n=>xs(n,t))}const Lf=e=>!!(e&&e.__v_isRef===!0),ve=e=>mt(e)?e:e==null?"":Te(e)||it(e)&&(e.toString===Rf||!Ve(e.toString))?Lf(e)?ve(e.value):JSON.stringify(e,Ff,2):String(e),Ff=(e,t)=>Lf(t)?Ff(e,t.value):Fo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r],s)=>(n[Ca(o,s)+" =>"]=r,n),{})}:pr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ca(n))}:Kt(t)?Ca(t):it(t)&&!Te(t)&&!Vf(t)?String(t):t,Ca=(e,t="")=>{var n;return Kt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class Bf{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!t&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ct;try{return Ct=this,t()}finally{Ct=n}}}on(){++this._on===1&&(this.prevScope=Ct,Ct=this)}off(){this._on>0&&--this._on===0&&(Ct=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ji(e){return new Bf(e)}function Qi(){return Ct}function Pr(e,t=!1){Ct&&Ct.cleanups.push(e)}let dt;const Na=new WeakSet;class jf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Na.has(this)&&(Na.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Yf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xu(this),Wf(this);const t=dt,n=qt;dt=this,qt=!0;try{return this.fn()}finally{Gf(this),dt=t,qt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)uu(t);this.deps=this.depsTail=void 0,Xu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Na.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){nl(this)&&this.run()}get dirty(){return nl(this)}}let Uf=0,Rr,Vr;function Yf(e,t=!1){if(e.flags|=8,t){e.next=Vr,Vr=e;return}e.next=Rr,Rr=e}function au(){Uf++}function lu(){if(--Uf>0)return;if(Vr){let t=Vr;for(Vr=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Rr;){let t=Rr;for(Rr=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Wf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Gf(e){let t,n=e.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),uu(o),Sm(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=n}function nl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Zf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Zf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Zr)||(e.globalVersion=Zr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!nl(e))))return;e.flags|=2;const t=e.dep,n=dt,o=qt;dt=e,qt=!0;try{Wf(e);const r=e.fn(e._value);(t.version===0||In(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{dt=n,qt=o,Gf(e),e.flags&=-3}}function uu(e,t=!1){const{dep:n,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)uu(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Sm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let qt=!0;const qf=[];function Mn(){qf.push(qt),qt=!1}function Dn(){const e=qf.pop();qt=e===void 0?!0:e}function Xu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=dt;dt=void 0;try{t()}finally{dt=n}}}let Zr=0;class Cm{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ea{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!dt||!qt||dt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==dt)n=this.activeLink=new Cm(dt,this),dt.deps?(n.prevDep=dt.depsTail,dt.depsTail.nextDep=n,dt.depsTail=n):dt.deps=dt.depsTail=n,Xf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=dt.depsTail,n.nextDep=void 0,dt.depsTail.nextDep=n,dt.depsTail=n,dt.deps===n&&(dt.deps=o)}return n}trigger(t){this.version++,Zr++,this.notify(t)}notify(t){au();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{lu()}}}function Xf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Xf(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const di=new WeakMap,vo=Symbol(""),ol=Symbol(""),qr=Symbol("");function Nt(e,t,n){if(qt&&dt){let o=di.get(e);o||di.set(e,o=new Map);let r=o.get(n);r||(o.set(n,r=new ea),r.map=o,r.key=n),r.track()}}function En(e,t,n,o,r,s){const i=di.get(e);if(!i){Zr++;return}const a=l=>{l&&l.trigger()};if(au(),t==="clear")i.forEach(a);else{const l=Te(e),u=l&&su(n);if(l&&n==="length"){const c=Number(o);i.forEach((d,h)=>{(h==="length"||h===qr||!Kt(h)&&h>=c)&&a(d)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(qr)),t){case"add":l?u&&a(i.get("length")):(a(i.get(vo)),Fo(e)&&a(i.get(ol)));break;case"delete":l||(a(i.get(vo)),Fo(e)&&a(i.get(ol)));break;case"set":Fo(e)&&a(i.get(vo));break}}lu()}function Nm(e,t){const n=di.get(e);return n&&n.get(t)}function Oo(e){const t=Ke(e);return t===e?t:(Nt(t,"iterate",qr),Ft(e)?t:t.map(kt))}function ta(e){return Nt(e=Ke(e),"iterate",qr),e}const Tm={__proto__:null,[Symbol.iterator](){return Ta(this,Symbol.iterator,kt)},concat(...e){return Oo(this).concat(...e.map(t=>Te(t)?Oo(t):t))},entries(){return Ta(this,"entries",e=>(e[1]=kt(e[1]),e))},every(e,t){return bn(this,"every",e,t,void 0,arguments)},filter(e,t){return bn(this,"filter",e,t,n=>n.map(kt),arguments)},find(e,t){return bn(this,"find",e,t,kt,arguments)},findIndex(e,t){return bn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return bn(this,"findLast",e,t,kt,arguments)},findLastIndex(e,t){return bn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return bn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ia(this,"includes",e)},indexOf(...e){return Ia(this,"indexOf",e)},join(e){return Oo(this).join(e)},lastIndexOf(...e){return Ia(this,"lastIndexOf",e)},map(e,t){return bn(this,"map",e,t,void 0,arguments)},pop(){return mr(this,"pop")},push(...e){return mr(this,"push",e)},reduce(e,...t){return Ku(this,"reduce",e,t)},reduceRight(e,...t){return Ku(this,"reduceRight",e,t)},shift(){return mr(this,"shift")},some(e,t){return bn(this,"some",e,t,void 0,arguments)},splice(...e){return mr(this,"splice",e)},toReversed(){return Oo(this).toReversed()},toSorted(e){return Oo(this).toSorted(e)},toSpliced(...e){return Oo(this).toSpliced(...e)},unshift(...e){return mr(this,"unshift",e)},values(){return Ta(this,"values",kt)}};function Ta(e,t,n){const o=ta(e),r=o[t]();return o!==e&&!Ft(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.done||(s.value=n(s.value)),s}),r}const Im=Array.prototype;function bn(e,t,n,o,r,s){const i=ta(e),a=i!==e&&!Ft(e),l=i[t];if(l!==Im[t]){const d=l.apply(e,s);return a?kt(d):d}let u=n;i!==e&&(a?u=function(d,h){return n.call(this,kt(d),h,e)}:n.length>2&&(u=function(d,h){return n.call(this,d,h,e)}));const c=l.call(i,u,o);return a&&r?r(c):c}function Ku(e,t,n,o){const r=ta(e);let s=n;return r!==e&&(Ft(e)?n.length>3&&(s=function(i,a,l){return n.call(this,i,a,l,e)}):s=function(i,a,l){return n.call(this,i,kt(a),l,e)}),r[t](s,...o)}function Ia(e,t,n){const o=Ke(e);Nt(o,"iterate",qr);const r=o[t](...n);return(r===-1||r===!1)&&fu(n[0])?(n[0]=Ke(n[0]),o[t](...n)):r}function mr(e,t,n=[]){Mn(),au();const o=Ke(e)[t].apply(e,n);return lu(),Dn(),o}const Am=nu("__proto__,__v_isRef,__isVue"),Kf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Kt));function Om(e){Kt(e)||(e=String(e));const t=Ke(this);return Nt(t,"has",e),t.hasOwnProperty(e)}class Jf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return o===(r?s?Bm:nh:s?th:eh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const i=Te(t);if(!r){let l;if(i&&(l=Tm[n]))return l;if(n==="hasOwnProperty")return Om}const a=Reflect.get(t,n,ht(t)?t:o);if((Kt(n)?Kf.has(n):Am(n))||(r||Nt(t,"get",n),s))return a;if(ht(a)){const l=i&&su(n)?a:a.value;return r&&it(l)?fi(l):l}return it(a)?r?fi(a):gr(a):a}}class Qf extends Jf{constructor(t=!1){super(!1,t)}set(t,n,o,r){let s=t[n];if(!this._isShallow){const l=ro(s);if(!Ft(o)&&!ro(o)&&(s=Ke(s),o=Ke(o)),!Te(t)&&ht(s)&&!ht(o))return l||(s.value=o),!0}const i=Te(t)&&su(n)?Number(n)<t.length:et(t,n),a=Reflect.set(t,n,o,ht(t)?t:r);return t===Ke(r)&&(i?In(o,s)&&En(t,"set",n,o):En(t,"add",n,o)),a}deleteProperty(t,n){const o=et(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&o&&En(t,"delete",n,void 0),r}has(t,n){const o=Reflect.has(t,n);return(!Kt(n)||!Kf.has(n))&&Nt(t,"has",n),o}ownKeys(t){return Nt(t,"iterate",Te(t)?"length":vo),Reflect.ownKeys(t)}}class Mm extends Jf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Dm=new Qf,Pm=new Mm,Rm=new Qf(!0);const rl=e=>e,Ns=e=>Reflect.getPrototypeOf(e);function Vm(e,t,n){return function(...o){const r=this.__v_raw,s=Ke(r),i=Fo(s),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,u=r[e](...o),c=n?rl:t?hi:kt;return!t&&Nt(s,"iterate",l?ol:vo),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Ts(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function zm(e,t){const n={get(r){const s=this.__v_raw,i=Ke(s),a=Ke(r);e||(In(r,a)&&Nt(i,"get",r),Nt(i,"get",a));const{has:l}=Ns(i),u=t?rl:e?hi:kt;if(l.call(i,r))return u(s.get(r));if(l.call(i,a))return u(s.get(a));s!==i&&s.get(r)},get size(){const r=this.__v_raw;return!e&&Nt(Ke(r),"iterate",vo),r.size},has(r){const s=this.__v_raw,i=Ke(s),a=Ke(r);return e||(In(r,a)&&Nt(i,"has",r),Nt(i,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const i=this,a=i.__v_raw,l=Ke(a),u=t?rl:e?hi:kt;return!e&&Nt(l,"iterate",vo),a.forEach((c,d)=>r.call(s,u(c),u(d),i))}};return It(n,e?{add:Ts("add"),set:Ts("set"),delete:Ts("delete"),clear:Ts("clear")}:{add(r){!t&&!Ft(r)&&!ro(r)&&(r=Ke(r));const s=Ke(this);return Ns(s).has.call(s,r)||(s.add(r),En(s,"add",r,r)),this},set(r,s){!t&&!Ft(s)&&!ro(s)&&(s=Ke(s));const i=Ke(this),{has:a,get:l}=Ns(i);let u=a.call(i,r);u||(r=Ke(r),u=a.call(i,r));const c=l.call(i,r);return i.set(r,s),u?In(s,c)&&En(i,"set",r,s):En(i,"add",r,s),this},delete(r){const s=Ke(this),{has:i,get:a}=Ns(s);let l=i.call(s,r);l||(r=Ke(r),l=i.call(s,r)),a&&a.call(s,r);const u=s.delete(r);return l&&En(s,"delete",r,void 0),u},clear(){const r=Ke(this),s=r.size!==0,i=r.clear();return s&&En(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Vm(r,e,t)}),n}function cu(e,t){const n=zm(e,t);return(o,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(et(n,r)&&r in o?n:o,r,s)}const Hm={get:cu(!1,!1)},Lm={get:cu(!1,!0)},Fm={get:cu(!0,!1)};const eh=new WeakMap,th=new WeakMap,nh=new WeakMap,Bm=new WeakMap;function jm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Um(e){return e.__v_skip||!Object.isExtensible(e)?0:jm(mm(e))}function gr(e){return ro(e)?e:du(e,!1,Dm,Hm,eh)}function oh(e){return du(e,!1,Rm,Lm,th)}function fi(e){return du(e,!0,Pm,Fm,nh)}function du(e,t,n,o,r){if(!it(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=Um(e);if(s===0)return e;const i=r.get(e);if(i)return i;const a=new Proxy(e,s===2?o:n);return r.set(e,a),a}function no(e){return ro(e)?no(e.__v_raw):!!(e&&e.__v_isReactive)}function ro(e){return!!(e&&e.__v_isReadonly)}function Ft(e){return!!(e&&e.__v_isShallow)}function fu(e){return e?!!e.__v_raw:!1}function Ke(e){const t=e&&e.__v_raw;return t?Ke(t):e}function bo(e){return!et(e,"__v_skip")&&Object.isExtensible(e)&&zf(e,"__v_skip",!0),e}const kt=e=>it(e)?gr(e):e,hi=e=>it(e)?fi(e):e;function ht(e){return e?e.__v_isRef===!0:!1}function fe(e){return rh(e,!1)}function Zo(e){return rh(e,!0)}function rh(e,t){return ht(e)?e:new Ym(e,t)}class Ym{constructor(t,n){this.dep=new ea,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ke(t),this._value=n?t:kt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Ft(t)||ro(t);t=o?t:Ke(t),In(t,n)&&(this._rawValue=t,this._value=o?t:kt(t),this.dep.trigger())}}function ce(e){return ht(e)?e.value:e}function Ge(e){return Ve(e)?e():ce(e)}const Wm={get:(e,t,n)=>t==="__v_raw"?e:ce(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return ht(r)&&!ht(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function sh(e){return no(e)?e:new Proxy(e,Wm)}class Gm{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new ea,{get:o,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Zm(e){return new Gm(e)}function ih(e){const t=Te(e)?new Array(e.length):{};for(const n in e)t[n]=ah(e,n);return t}class qm{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Nm(Ke(this._object),this._key)}}class Xm{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function nt(e,t,n){return ht(e)?e:Ve(e)?new Xm(e):it(e)&&arguments.length>1?ah(e,t,n):fe(e)}function ah(e,t,n){const o=e[t];return ht(o)?o:new qm(e,t,n)}class Km{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ea(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&dt!==this)return Yf(this,!0),!0}get value(){const t=this.dep.track();return Zf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Jm(e,t,n=!1){let o,r;return Ve(e)?o=e:(o=e.get,r=e.set),new Km(o,r,n)}const Is={},pi=new WeakMap;let fo;function Qm(e,t=!1,n=fo){if(n){let o=pi.get(n);o||pi.set(n,o=[]),o.push(e)}}function ey(e,t,n=lt){const{immediate:o,deep:r,once:s,scheduler:i,augmentJob:a,call:l}=n,u=O=>r?O:Ft(O)||r===!1||r===0?$n(O,1):$n(O);let c,d,h,f,m=!1,v=!1;if(ht(e)?(d=()=>e.value,m=Ft(e)):no(e)?(d=()=>u(e),m=!0):Te(e)?(v=!0,m=e.some(O=>no(O)||Ft(O)),d=()=>e.map(O=>{if(ht(O))return O.value;if(no(O))return u(O);if(Ve(O))return l?l(O,2):O()})):Ve(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){Mn();try{h()}finally{Dn()}}const O=fo;fo=c;try{return l?l(e,3,[f]):e(f)}finally{fo=O}}:d=cn,t&&r){const O=d,X=r===!0?1/0:r;d=()=>$n(O(),X)}const g=Qi(),y=()=>{c.stop(),g&&g.active&&ru(g.effects,c)};if(s&&t){const O=t;t=(...X)=>{O(...X),y()}}let E=v?new Array(e.length).fill(Is):Is;const _=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(t){const X=c.run();if(r||m||(v?X.some((U,j)=>In(U,E[j])):In(X,E))){h&&h();const U=fo;fo=c;try{const j=[X,E===Is?void 0:v&&E[0]===Is?[]:E,f];E=X,l?l(t,3,j):t(...j)}finally{fo=U}}}else c.run()};return a&&a(_),c=new jf(d),c.scheduler=i?()=>i(_,!1):_,f=O=>Qm(O,!1,c),h=c.onStop=()=>{const O=pi.get(c);if(O){if(l)l(O,4);else for(const X of O)X();pi.delete(c)}},t?o?_(!0):E=c.run():i?i(_.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function $n(e,t=1/0,n){if(t<=0||!it(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,ht(e))$n(e.value,t,n);else if(Te(e))for(let o=0;o<e.length;o++)$n(e[o],t,n);else if(pr(e)||Fo(e))e.forEach(o=>{$n(o,t,n)});else if(Vf(e)){for(const o in e)$n(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&$n(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _s(e,t,n,o){try{return o?e(...o):e()}catch(r){na(r,t,n)}}function pn(e,t,n,o){if(Ve(e)){const r=_s(e,t,n,o);return r&&Pf(r)&&r.catch(s=>{na(s,t,n)}),r}if(Te(e)){const r=[];for(let s=0;s<e.length;s++)r.push(pn(e[s],t,n,o));return r}}function na(e,t,n,o=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||lt;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){Mn(),_s(s,null,10,[e,l,u]),Dn();return}}ty(e,n,r,o,i)}function ty(e,t,n,o=!0,r=!1){if(r)throw e;console.error(e)}const Ot=[];let nn=-1;const Bo=[];let Gn=null,Ro=0;const lh=Promise.resolve();let gi=null;function Dt(e){const t=gi||lh;return e?t.then(this?e.bind(this):e):t}function ny(e){let t=nn+1,n=Ot.length;for(;t<n;){const o=t+n>>>1,r=Ot[o],s=Xr(r);s<e||s===e&&r.flags&2?t=o+1:n=o}return t}function hu(e){if(!(e.flags&1)){const t=Xr(e),n=Ot[Ot.length-1];!n||!(e.flags&2)&&t>=Xr(n)?Ot.push(e):Ot.splice(ny(t),0,e),e.flags|=1,uh()}}function uh(){gi||(gi=lh.then(dh))}function oy(e){Te(e)?Bo.push(...e):Gn&&e.id===-1?Gn.splice(Ro+1,0,e):e.flags&1||(Bo.push(e),e.flags|=1),uh()}function Ju(e,t,n=nn+1){for(;n<Ot.length;n++){const o=Ot[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ot.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function ch(e){if(Bo.length){const t=[...new Set(Bo)].sort((n,o)=>Xr(n)-Xr(o));if(Bo.length=0,Gn){Gn.push(...t);return}for(Gn=t,Ro=0;Ro<Gn.length;Ro++){const n=Gn[Ro];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Gn=null,Ro=0}}const Xr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function dh(e){try{for(nn=0;nn<Ot.length;nn++){const t=Ot[nn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),_s(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;nn<Ot.length;nn++){const t=Ot[nn];t&&(t.flags&=-2)}nn=-1,Ot.length=0,ch(),gi=null,(Ot.length||Bo.length)&&dh()}}let Et=null,fh=null;function mi(e){const t=Et;return Et=e,fh=e&&e.type.__scopeId||null,t}function Ae(e,t=Et,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&bi(-1);const s=mi(t);let i;try{i=e(...r)}finally{mi(s),o._d&&bi(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function ze(e,t){if(Et===null)return e;const n=ia(Et),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,i,a,l=lt]=t[r];s&&(Ve(s)&&(s={mounted:s,updated:s}),s.deep&&$n(i),o.push({dir:s,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function uo(e,t,n,o){const r=e.dirs,s=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];s&&(a.oldValue=s[i].value);let l=a.dir[o];l&&(Mn(),pn(l,n,8,[e.el,a,e,t]),Dn())}}const ry=Symbol("_vte"),sy=e=>e.__isTeleport,iy=Symbol("_leaveCb");function pu(e,t){e.shapeFlag&6&&e.component?(e.transition=t,pu(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ot(e,t){return Ve(e)?It({name:e.name},t,{setup:e}):e}function hh(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const yi=new WeakMap;function zr(e,t,n,o,r=!1){if(Te(e)){e.forEach((m,v)=>zr(m,t&&(Te(t)?t[v]:t),n,o,r));return}if(jo(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&zr(e,t,n,o.component.subTree);return}const s=o.shapeFlag&4?ia(o.component):o.el,i=r?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===lt?a.refs={}:a.refs,d=a.setupState,h=Ke(d),f=d===lt?Df:m=>et(h,m);if(u!=null&&u!==l){if(Qu(t),mt(u))c[u]=null,f(u)&&(d[u]=null);else if(ht(u)){u.value=null;const m=t;m.k&&(c[m.k]=null)}}if(Ve(l))_s(l,a,12,[i,c]);else{const m=mt(l),v=ht(l);if(m||v){const g=()=>{if(e.f){const y=m?f(l)?d[l]:c[l]:l.value;if(r)Te(y)&&ru(y,s);else if(Te(y))y.includes(s)||y.push(s);else if(m)c[l]=[s],f(l)&&(d[l]=c[l]);else{const E=[s];l.value=E,e.k&&(c[e.k]=E)}}else m?(c[l]=i,f(l)&&(d[l]=i)):v&&(l.value=i,e.k&&(c[e.k]=i))};if(i){const y=()=>{g(),yi.delete(e)};y.id=-1,yi.set(e,y),zt(y,n)}else Qu(e),g()}}}function Qu(e){const t=yi.get(e);t&&(t.flags|=8,yi.delete(e))}Ki().requestIdleCallback;Ki().cancelIdleCallback;const jo=e=>!!e.type.__asyncLoader,ph=e=>e.type.__isKeepAlive;function ay(e,t){gh(e,"a",t)}function ly(e,t){gh(e,"da",t)}function gh(e,t,n=Tt){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(oa(t,o,n),n){let r=n.parent;for(;r&&r.parent;)ph(r.parent.vnode)&&uy(o,t,n,r),r=r.parent}}function uy(e,t,n,o){const r=oa(t,e,o,!0);Io(()=>{ru(o[t],r)},n)}function oa(e,t,n=Tt,o=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{Mn();const a=ws(n),l=pn(t,n,e,i);return a(),Dn(),l});return o?r.unshift(s):r.push(s),s}}const Hn=e=>(t,n=Tt)=>{(!Qr||e==="sp")&&oa(e,(...o)=>t(...o),n)},mh=Hn("bm"),gt=Hn("m"),cy=Hn("bu"),dy=Hn("u"),gu=Hn("bum"),Io=Hn("um"),fy=Hn("sp"),hy=Hn("rtg"),py=Hn("rtc");function gy(e,t=Tt){oa("ec",e,t)}const yh="components";function mu(e,t){return bh(yh,e,!0,t)||e}const vh=Symbol.for("v-ndc");function Qn(e){return mt(e)?bh(yh,e,!1)||e:e||vh}function bh(e,t,n=!0,o=!1){const r=Et||Tt;if(r){const s=r.type;{const a=nv(s,!1);if(a&&(a===t||a===Bt(t)||a===Xi(Bt(t))))return s}const i=ec(r[e]||s[e],t)||ec(r.appContext[e],t);return!i&&o?s:i}}function ec(e,t){return e&&(e[t]||e[Bt(t)]||e[Xi(Bt(t))])}function rt(e,t,n,o){let r;const s=n&&n[o],i=Te(e);if(i||mt(e)){const a=i&&no(e);let l=!1,u=!1;a&&(l=!Ft(e),u=ro(e),e=ta(e)),r=new Array(e.length);for(let c=0,d=e.length;c<d;c++)r[c]=t(l?u?hi(kt(e[c])):kt(e[c]):e[c],c,void 0,s&&s[c])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s&&s[a])}else if(it(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,s&&s[l])}}else r=[];return n&&(n[o]=r),r}function pt(e,t,n={},o,r){if(Et.ce||Et.parent&&jo(Et.parent)&&Et.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),R(),ut(Ie,null,[re("slot",n,o&&o())],u?-2:64)}let s=e[t];s&&s._c&&(s._d=!1),R();const i=s&&xh(s(n)),a=n.key||i&&i.key,l=ut(Ie,{key:(a&&!Kt(a)?a:`_${t}`)+(!i&&o?"_fb":"")},i||(o?o():[]),i&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function xh(e){return e.some(t=>Kr(t)?!(t.type===Pn||t.type===Ie&&!xh(t.children)):!0)?e:null}const sl=e=>e?Fh(e)?ia(e):sl(e.parent):null,Hr=It(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sl(e.parent),$root:e=>sl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Eh(e),$forceUpdate:e=>e.f||(e.f=()=>{hu(e.update)}),$nextTick:e=>e.n||(e.n=Dt.bind(e.proxy)),$watch:e=>Hy.bind(e)}),Aa=(e,t)=>e!==lt&&!e.__isScriptSetup&&et(e,t),my={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:s,accessCache:i,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const f=i[t];if(f!==void 0)switch(f){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(Aa(o,t))return i[t]=1,o[t];if(r!==lt&&et(r,t))return i[t]=2,r[t];if((u=e.propsOptions[0])&&et(u,t))return i[t]=3,s[t];if(n!==lt&&et(n,t))return i[t]=4,n[t];il&&(i[t]=0)}}const c=Hr[t];let d,h;if(c)return t==="$attrs"&&Nt(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==lt&&et(n,t))return i[t]=4,n[t];if(h=l.config.globalProperties,et(h,t))return h[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:s}=e;return Aa(r,t)?(r[t]=n,!0):o!==lt&&et(o,t)?(o[t]=n,!0):et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:s,type:i}},a){let l,u;return!!(n[a]||e!==lt&&a[0]!=="$"&&et(e,a)||Aa(t,a)||(l=s[0])&&et(l,a)||et(o,a)||et(Hr,a)||et(r.config.globalProperties,a)||(u=i.__cssModules)&&u[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:et(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _h(){return wh().slots}function yu(){return wh().attrs}function wh(e){const t=Ln();return t.setupContext||(t.setupContext=jh(t))}function tc(e){return Te(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function yy(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}let il=!0;function vy(e){const t=Eh(e),n=e.proxy,o=e.ctx;il=!1,t.beforeCreate&&nc(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:i,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:m,activated:v,deactivated:g,beforeDestroy:y,beforeUnmount:E,destroyed:_,unmounted:O,render:X,renderTracked:U,renderTriggered:j,errorCaptured:M,serverPrefetch:B,expose:Y,inheritAttrs:H,components:N,directives:W,filters:p}=t;if(u&&by(u,o,null),i)for(const z in i){const V=i[z];Ve(V)&&(o[z]=V.bind(n))}if(r){const z=r.call(n,n);it(z)&&(e.data=gr(z))}if(il=!0,s)for(const z in s){const V=s[z],J=Ve(V)?V.bind(n,n):Ve(V.get)?V.get.bind(n,n):cn,Z=!Ve(V)&&Ve(V.set)?V.set.bind(n):cn,oe=ne({get:J,set:Z});Object.defineProperty(o,z,{enumerable:!0,configurable:!0,get:()=>oe.value,set:de=>oe.value=de})}if(a)for(const z in a)kh(a[z],o,n,z);if(l){const z=Ve(l)?l.call(n):l;Reflect.ownKeys(z).forEach(V=>{Xt(V,z[V])})}c&&nc(c,e,"c");function $(z,V){Te(V)?V.forEach(J=>z(J.bind(n))):V&&z(V.bind(n))}if($(mh,d),$(gt,h),$(cy,f),$(dy,m),$(ay,v),$(ly,g),$(gy,M),$(py,U),$(hy,j),$(gu,E),$(Io,O),$(fy,B),Te(Y))if(Y.length){const z=e.exposed||(e.exposed={});Y.forEach(V=>{Object.defineProperty(z,V,{get:()=>n[V],set:J=>n[V]=J,enumerable:!0})})}else e.exposed||(e.exposed={});X&&e.render===cn&&(e.render=X),H!=null&&(e.inheritAttrs=H),N&&(e.components=N),W&&(e.directives=W),B&&hh(e)}function by(e,t,n=cn){Te(e)&&(e=al(e));for(const o in e){const r=e[o];let s;it(r)?"default"in r?s=_t(r.from||o,r.default,!0):s=_t(r.from||o):s=_t(r),ht(s)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[o]=s}}function nc(e,t,n){pn(Te(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function kh(e,t,n,o){let r=o.includes(".")?Rh(n,o):()=>n[o];if(mt(e)){const s=t[e];Ve(s)&&Oe(r,s)}else if(Ve(e))Oe(r,e.bind(n));else if(it(e))if(Te(e))e.forEach(s=>kh(s,t,n,o));else{const s=Ve(e.handler)?e.handler.bind(n):t[e.handler];Ve(s)&&Oe(r,s,e)}}function Eh(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!o?l=t:(l={},r.length&&r.forEach(u=>vi(l,u,i,!0)),vi(l,t,i)),it(t)&&s.set(t,l),l}function vi(e,t,n,o=!1){const{mixins:r,extends:s}=t;s&&vi(e,s,n,!0),r&&r.forEach(i=>vi(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const a=xy[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const xy={data:oc,props:rc,emits:rc,methods:Sr,computed:Sr,beforeCreate:At,created:At,beforeMount:At,mounted:At,beforeUpdate:At,updated:At,beforeDestroy:At,beforeUnmount:At,destroyed:At,unmounted:At,activated:At,deactivated:At,errorCaptured:At,serverPrefetch:At,components:Sr,directives:Sr,watch:wy,provide:oc,inject:_y};function oc(e,t){return t?e?function(){return It(Ve(e)?e.call(this,this):e,Ve(t)?t.call(this,this):t)}:t:e}function _y(e,t){return Sr(al(e),al(t))}function al(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function At(e,t){return e?[...new Set([].concat(e,t))]:t}function Sr(e,t){return e?It(Object.create(null),e,t):t}function rc(e,t){return e?Te(e)&&Te(t)?[...new Set([...e,...t])]:It(Object.create(null),tc(e),tc(t??{})):t}function wy(e,t){if(!e)return t;if(!t)return e;const n=It(Object.create(null),e);for(const o in t)n[o]=At(e[o],t[o]);return n}function $h(){return{app:null,config:{isNativeTag:Df,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ky=0;function Ey(e,t){return function(o,r=null){Ve(o)||(o=It({},o)),r!=null&&!it(r)&&(r=null);const s=$h(),i=new WeakSet,a=[];let l=!1;const u=s.app={_uid:ky++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:sv,get config(){return s.config},set config(c){},use(c,...d){return i.has(c)||(c&&Ve(c.install)?(i.add(c),c.install(u,...d)):Ve(c)&&(i.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,h){if(!l){const f=u._ceVNode||re(o,r);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),e(f,c,h),l=!0,u._container=c,c.__vue_app__=u,ia(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(pn(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=xo;xo=u;try{return c()}finally{xo=d}}};return u}}let xo=null;function Xt(e,t){if(Tt){let n=Tt.provides;const o=Tt.parent&&Tt.parent.provides;o===n&&(n=Tt.provides=Object.create(o)),n[e]=t}}function _t(e,t,n=!1){const o=Ln();if(o||xo){let r=xo?xo._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Ve(t)?t.call(o&&o.proxy):t}}function $y(){return!!(Ln()||xo)}const Sh={},Ch=()=>Object.create(Sh),Nh=e=>Object.getPrototypeOf(e)===Sh;function Sy(e,t,n,o=!1){const r={},s=Ch();e.propsDefaults=Object.create(null),Th(e,t,r,s);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=o?r:oh(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function Cy(e,t,n,o){const{props:r,attrs:s,vnode:{patchFlag:i}}=e,a=Ke(r),[l]=e.propsOptions;let u=!1;if((o||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(ra(e.emitsOptions,h))continue;const f=t[h];if(l)if(et(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const m=Bt(h);r[m]=ll(l,a,m,f,e,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{Th(e,t,r,s)&&(u=!0);let c;for(const d in a)(!t||!et(t,d)&&((c=lo(d))===d||!et(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=ll(l,a,d,void 0,e,!0)):delete r[d]);if(s!==a)for(const d in s)(!t||!et(t,d))&&(delete s[d],u=!0)}u&&En(e.attrs,"set","")}function Th(e,t,n,o){const[r,s]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(Dr(l))continue;const u=t[l];let c;r&&et(r,c=Bt(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:ra(e.emitsOptions,l)||(!(l in o)||u!==o[l])&&(o[l]=u,i=!0)}if(s){const l=Ke(n),u=a||lt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=ll(r,l,d,u[d],e,!et(u,d))}}return i}function ll(e,t,n,o,r,s){const i=e[n];if(i!=null){const a=et(i,"default");if(a&&o===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&Ve(l)){const{propsDefaults:u}=r;if(n in u)o=u[n];else{const c=ws(r);o=u[n]=l.call(null,t),c()}}else o=l;r.ce&&r.ce._setProp(n,o)}i[0]&&(s&&!a?o=!1:i[1]&&(o===""||o===lo(n))&&(o=!0))}return o}const Ny=new WeakMap;function Ih(e,t,n=!1){const o=n?Ny:t.propsCache,r=o.get(e);if(r)return r;const s=e.props,i={},a=[];let l=!1;if(!Ve(e)){const c=d=>{l=!0;const[h,f]=Ih(d,t,!0);It(i,h),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return it(e)&&o.set(e,Lo),Lo;if(Te(s))for(let c=0;c<s.length;c++){const d=Bt(s[c]);sc(d)&&(i[d]=lt)}else if(s)for(const c in s){const d=Bt(c);if(sc(d)){const h=s[c],f=i[d]=Te(h)||Ve(h)?{type:h}:It({},h),m=f.type;let v=!1,g=!0;if(Te(m))for(let y=0;y<m.length;++y){const E=m[y],_=Ve(E)&&E.name;if(_==="Boolean"){v=!0;break}else _==="String"&&(g=!1)}else v=Ve(m)&&m.name==="Boolean";f[0]=v,f[1]=g,(v||et(f,"default"))&&a.push(d)}}const u=[i,a];return it(e)&&o.set(e,u),u}function sc(e){return e[0]!=="$"&&!Dr(e)}const vu=e=>e==="_"||e==="_ctx"||e==="$stable",bu=e=>Te(e)?e.map(rn):[rn(e)],Ty=(e,t,n)=>{if(t._n)return t;const o=Ae((...r)=>bu(t(...r)),n);return o._c=!1,o},Ah=(e,t,n)=>{const o=e._ctx;for(const r in e){if(vu(r))continue;const s=e[r];if(Ve(s))t[r]=Ty(r,s,o);else if(s!=null){const i=bu(s);t[r]=()=>i}}},Oh=(e,t)=>{const n=bu(t);e.slots.default=()=>n},Mh=(e,t,n)=>{for(const o in t)(n||!vu(o))&&(e[o]=t[o])},Iy=(e,t,n)=>{const o=e.slots=Ch();if(e.vnode.shapeFlag&32){const r=t._;r?(Mh(o,t,n),n&&zf(o,"_",r,!0)):Ah(t,o)}else t&&Oh(e,t)},Ay=(e,t,n)=>{const{vnode:o,slots:r}=e;let s=!0,i=lt;if(o.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:Mh(r,t,n):(s=!t.$stable,Ah(t,r)),i=t}else t&&(Oh(e,t),i={default:1});if(s)for(const a in r)!vu(a)&&i[a]==null&&delete r[a]},zt=Gy;function Oy(e){return My(e)}function My(e,t){const n=Ki();n.__VUE__=!0;const{insert:o,remove:r,patchProp:s,createElement:i,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=cn,insertStaticContent:m}=e,v=(I,D,b,k=null,C=null,S=null,w=void 0,P=null,T=!!D.dynamicChildren)=>{if(I===D)return;I&&!yr(I,D)&&(k=q(I),de(I,C,S,!0),I=null),D.patchFlag===-2&&(T=!1,D.dynamicChildren=null);const{type:F,ref:Q,shapeFlag:ee}=D;switch(F){case sa:g(I,D,b,k);break;case Pn:y(I,D,b,k);break;case Zs:I==null&&E(D,b,k,w);break;case Ie:N(I,D,b,k,C,S,w,P,T);break;default:ee&1?X(I,D,b,k,C,S,w,P,T):ee&6?W(I,D,b,k,C,S,w,P,T):(ee&64||ee&128)&&F.process(I,D,b,k,C,S,w,P,T,ge)}Q!=null&&C?zr(Q,I&&I.ref,S,D||I,!D):Q==null&&I&&I.ref!=null&&zr(I.ref,null,S,I,!0)},g=(I,D,b,k)=>{if(I==null)o(D.el=a(D.children),b,k);else{const C=D.el=I.el;D.children!==I.children&&u(C,D.children)}},y=(I,D,b,k)=>{I==null?o(D.el=l(D.children||""),b,k):D.el=I.el},E=(I,D,b,k)=>{[I.el,I.anchor]=m(I.children,D,b,k,I.el,I.anchor)},_=({el:I,anchor:D},b,k)=>{let C;for(;I&&I!==D;)C=h(I),o(I,b,k),I=C;o(D,b,k)},O=({el:I,anchor:D})=>{let b;for(;I&&I!==D;)b=h(I),r(I),I=b;r(D)},X=(I,D,b,k,C,S,w,P,T)=>{D.type==="svg"?w="svg":D.type==="math"&&(w="mathml"),I==null?U(D,b,k,C,S,w,P,T):B(I,D,C,S,w,P,T)},U=(I,D,b,k,C,S,w,P)=>{let T,F;const{props:Q,shapeFlag:ee,transition:le,dirs:he}=I;if(T=I.el=i(I.type,S,Q&&Q.is,Q),ee&8?c(T,I.children):ee&16&&M(I.children,T,null,k,C,Oa(I,S),w,P),he&&uo(I,null,k,"created"),j(T,I,I.scopeId,w,k),Q){for(const Ne in Q)Ne!=="value"&&!Dr(Ne)&&s(T,Ne,null,Q[Ne],S,k);"value"in Q&&s(T,"value",null,Q.value,S),(F=Q.onVnodeBeforeMount)&&tn(F,k,I)}he&&uo(I,null,k,"beforeMount");const $e=Dy(C,le);$e&&le.beforeEnter(T),o(T,D,b),((F=Q&&Q.onVnodeMounted)||$e||he)&&zt(()=>{F&&tn(F,k,I),$e&&le.enter(T),he&&uo(I,null,k,"mounted")},C)},j=(I,D,b,k,C)=>{if(b&&f(I,b),k)for(let S=0;S<k.length;S++)f(I,k[S]);if(C){let S=C.subTree;if(D===S||zh(S.type)&&(S.ssContent===D||S.ssFallback===D)){const w=C.vnode;j(I,w,w.scopeId,w.slotScopeIds,C.parent)}}},M=(I,D,b,k,C,S,w,P,T=0)=>{for(let F=T;F<I.length;F++){const Q=I[F]=P?Zn(I[F]):rn(I[F]);v(null,Q,D,b,k,C,S,w,P)}},B=(I,D,b,k,C,S,w)=>{const P=D.el=I.el;let{patchFlag:T,dynamicChildren:F,dirs:Q}=D;T|=I.patchFlag&16;const ee=I.props||lt,le=D.props||lt;let he;if(b&&co(b,!1),(he=le.onVnodeBeforeUpdate)&&tn(he,b,D,I),Q&&uo(D,I,b,"beforeUpdate"),b&&co(b,!0),(ee.innerHTML&&le.innerHTML==null||ee.textContent&&le.textContent==null)&&c(P,""),F?Y(I.dynamicChildren,F,P,b,k,Oa(D,C),S):w||V(I,D,P,null,b,k,Oa(D,C),S,!1),T>0){if(T&16)H(P,ee,le,b,C);else if(T&2&&ee.class!==le.class&&s(P,"class",null,le.class,C),T&4&&s(P,"style",ee.style,le.style,C),T&8){const $e=D.dynamicProps;for(let Ne=0;Ne<$e.length;Ne++){const De=$e[Ne],G=ee[De],te=le[De];(te!==G||De==="value")&&s(P,De,G,te,C,b)}}T&1&&I.children!==D.children&&c(P,D.children)}else!w&&F==null&&H(P,ee,le,b,C);((he=le.onVnodeUpdated)||Q)&&zt(()=>{he&&tn(he,b,D,I),Q&&uo(D,I,b,"updated")},k)},Y=(I,D,b,k,C,S,w)=>{for(let P=0;P<D.length;P++){const T=I[P],F=D[P],Q=T.el&&(T.type===Ie||!yr(T,F)||T.shapeFlag&198)?d(T.el):b;v(T,F,Q,null,k,C,S,w,!0)}},H=(I,D,b,k,C)=>{if(D!==b){if(D!==lt)for(const S in D)!Dr(S)&&!(S in b)&&s(I,S,D[S],null,C,k);for(const S in b){if(Dr(S))continue;const w=b[S],P=D[S];w!==P&&S!=="value"&&s(I,S,P,w,C,k)}"value"in b&&s(I,"value",D.value,b.value,C)}},N=(I,D,b,k,C,S,w,P,T)=>{const F=D.el=I?I.el:a(""),Q=D.anchor=I?I.anchor:a("");let{patchFlag:ee,dynamicChildren:le,slotScopeIds:he}=D;he&&(P=P?P.concat(he):he),I==null?(o(F,b,k),o(Q,b,k),M(D.children||[],b,Q,C,S,w,P,T)):ee>0&&ee&64&&le&&I.dynamicChildren?(Y(I.dynamicChildren,le,b,C,S,w,P),(D.key!=null||C&&D===C.subTree)&&Dh(I,D,!0)):V(I,D,b,Q,C,S,w,P,T)},W=(I,D,b,k,C,S,w,P,T)=>{D.slotScopeIds=P,I==null?D.shapeFlag&512?C.ctx.activate(D,b,k,w,T):p(D,b,k,C,S,w,T):A(I,D,T)},p=(I,D,b,k,C,S,w)=>{const P=I.component=Jy(I,k,C);if(ph(I)&&(P.ctx.renderer=ge),Qy(P,!1,w),P.asyncDep){if(C&&C.registerDep(P,$,w),!I.el){const T=P.subTree=re(Pn);y(null,T,D,b),I.placeholder=T.el}}else $(P,I,D,b,C,S,w)},A=(I,D,b)=>{const k=D.component=I.component;if(Yy(I,D,b))if(k.asyncDep&&!k.asyncResolved){z(k,D,b);return}else k.next=D,k.update();else D.el=I.el,k.vnode=D},$=(I,D,b,k,C,S,w)=>{const P=()=>{if(I.isMounted){let{next:ee,bu:le,u:he,parent:$e,vnode:Ne}=I;{const be=Ph(I);if(be){ee&&(ee.el=Ne.el,z(I,ee,w)),be.asyncDep.then(()=>{I.isUnmounted||P()});return}}let De=ee,G;co(I,!1),ee?(ee.el=Ne.el,z(I,ee,w)):ee=Ne,le&&Gs(le),(G=ee.props&&ee.props.onVnodeBeforeUpdate)&&tn(G,$e,ee,Ne),co(I,!0);const te=ac(I),me=I.subTree;I.subTree=te,v(me,te,d(me.el),q(me),I,C,S),ee.el=te.el,De===null&&Wy(I,te.el),he&&zt(he,C),(G=ee.props&&ee.props.onVnodeUpdated)&&zt(()=>tn(G,$e,ee,Ne),C)}else{let ee;const{el:le,props:he}=D,{bm:$e,m:Ne,parent:De,root:G,type:te}=I,me=jo(D);co(I,!1),$e&&Gs($e),!me&&(ee=he&&he.onVnodeBeforeMount)&&tn(ee,De,D),co(I,!0);{G.ce&&G.ce._def.shadowRoot!==!1&&G.ce._injectChildStyle(te);const be=I.subTree=ac(I);v(null,be,b,k,I,C,S),D.el=be.el}if(Ne&&zt(Ne,C),!me&&(ee=he&&he.onVnodeMounted)){const be=D;zt(()=>tn(ee,De,be),C)}(D.shapeFlag&256||De&&jo(De.vnode)&&De.vnode.shapeFlag&256)&&I.a&&zt(I.a,C),I.isMounted=!0,D=b=k=null}};I.scope.on();const T=I.effect=new jf(P);I.scope.off();const F=I.update=T.run.bind(T),Q=I.job=T.runIfDirty.bind(T);Q.i=I,Q.id=I.uid,T.scheduler=()=>hu(Q),co(I,!0),F()},z=(I,D,b)=>{D.component=I;const k=I.vnode.props;I.vnode=D,I.next=null,Cy(I,D.props,k,b),Ay(I,D.children,b),Mn(),Ju(I),Dn()},V=(I,D,b,k,C,S,w,P,T=!1)=>{const F=I&&I.children,Q=I?I.shapeFlag:0,ee=D.children,{patchFlag:le,shapeFlag:he}=D;if(le>0){if(le&128){Z(F,ee,b,k,C,S,w,P,T);return}else if(le&256){J(F,ee,b,k,C,S,w,P,T);return}}he&8?(Q&16&&pe(F,C,S),ee!==F&&c(b,ee)):Q&16?he&16?Z(F,ee,b,k,C,S,w,P,T):pe(F,C,S,!0):(Q&8&&c(b,""),he&16&&M(ee,b,k,C,S,w,P,T))},J=(I,D,b,k,C,S,w,P,T)=>{I=I||Lo,D=D||Lo;const F=I.length,Q=D.length,ee=Math.min(F,Q);let le;for(le=0;le<ee;le++){const he=D[le]=T?Zn(D[le]):rn(D[le]);v(I[le],he,b,null,C,S,w,P,T)}F>Q?pe(I,C,S,!0,!1,ee):M(D,b,k,C,S,w,P,T,ee)},Z=(I,D,b,k,C,S,w,P,T)=>{let F=0;const Q=D.length;let ee=I.length-1,le=Q-1;for(;F<=ee&&F<=le;){const he=I[F],$e=D[F]=T?Zn(D[F]):rn(D[F]);if(yr(he,$e))v(he,$e,b,null,C,S,w,P,T);else break;F++}for(;F<=ee&&F<=le;){const he=I[ee],$e=D[le]=T?Zn(D[le]):rn(D[le]);if(yr(he,$e))v(he,$e,b,null,C,S,w,P,T);else break;ee--,le--}if(F>ee){if(F<=le){const he=le+1,$e=he<Q?D[he].el:k;for(;F<=le;)v(null,D[F]=T?Zn(D[F]):rn(D[F]),b,$e,C,S,w,P,T),F++}}else if(F>le)for(;F<=ee;)de(I[F],C,S,!0),F++;else{const he=F,$e=F,Ne=new Map;for(F=$e;F<=le;F++){const He=D[F]=T?Zn(D[F]):rn(D[F]);He.key!=null&&Ne.set(He.key,F)}let De,G=0;const te=le-$e+1;let me=!1,be=0;const Pe=new Array(te);for(F=0;F<te;F++)Pe[F]=0;for(F=he;F<=ee;F++){const He=I[F];if(G>=te){de(He,C,S,!0);continue}let Be;if(He.key!=null)Be=Ne.get(He.key);else for(De=$e;De<=le;De++)if(Pe[De-$e]===0&&yr(He,D[De])){Be=De;break}Be===void 0?de(He,C,S,!0):(Pe[Be-$e]=F+1,Be>=be?be=Be:me=!0,v(He,D[Be],b,null,C,S,w,P,T),G++)}const Fe=me?Py(Pe):Lo;for(De=Fe.length-1,F=te-1;F>=0;F--){const He=$e+F,Be=D[He],St=D[He+1],Fn=He+1<Q?St.el||St.placeholder:k;Pe[F]===0?v(null,Be,b,Fn,C,S,w,P,T):me&&(De<0||F!==Fe[De]?oe(Be,b,Fn,2):De--)}}},oe=(I,D,b,k,C=null)=>{const{el:S,type:w,transition:P,children:T,shapeFlag:F}=I;if(F&6){oe(I.component.subTree,D,b,k);return}if(F&128){I.suspense.move(D,b,k);return}if(F&64){w.move(I,D,b,ge);return}if(w===Ie){o(S,D,b);for(let ee=0;ee<T.length;ee++)oe(T[ee],D,b,k);o(I.anchor,D,b);return}if(w===Zs){_(I,D,b);return}if(k!==2&&F&1&&P)if(k===0)P.beforeEnter(S),o(S,D,b),zt(()=>P.enter(S),C);else{const{leave:ee,delayLeave:le,afterLeave:he}=P,$e=()=>{I.ctx.isUnmounted?r(S):o(S,D,b)},Ne=()=>{S._isLeaving&&S[iy](!0),ee(S,()=>{$e(),he&&he()})};le?le(S,$e,Ne):Ne()}else o(S,D,b)},de=(I,D,b,k=!1,C=!1)=>{const{type:S,props:w,ref:P,children:T,dynamicChildren:F,shapeFlag:Q,patchFlag:ee,dirs:le,cacheIndex:he}=I;if(ee===-2&&(C=!1),P!=null&&(Mn(),zr(P,null,b,I,!0),Dn()),he!=null&&(D.renderCache[he]=void 0),Q&256){D.ctx.deactivate(I);return}const $e=Q&1&&le,Ne=!jo(I);let De;if(Ne&&(De=w&&w.onVnodeBeforeUnmount)&&tn(De,D,I),Q&6)ue(I.component,b,k);else{if(Q&128){I.suspense.unmount(b,k);return}$e&&uo(I,null,D,"beforeUnmount"),Q&64?I.type.remove(I,D,b,ge,k):F&&!F.hasOnce&&(S!==Ie||ee>0&&ee&64)?pe(F,D,b,!1,!0):(S===Ie&&ee&384||!C&&Q&16)&&pe(T,D,b),k&&K(I)}(Ne&&(De=w&&w.onVnodeUnmounted)||$e)&&zt(()=>{De&&tn(De,D,I),$e&&uo(I,null,D,"unmounted")},b)},K=I=>{const{type:D,el:b,anchor:k,transition:C}=I;if(D===Ie){ae(b,k);return}if(D===Zs){O(I);return}const S=()=>{r(b),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(I.shapeFlag&1&&C&&!C.persisted){const{leave:w,delayLeave:P}=C,T=()=>w(b,S);P?P(I.el,S,T):T()}else S()},ae=(I,D)=>{let b;for(;I!==D;)b=h(I),r(I),I=b;r(D)},ue=(I,D,b)=>{const{bum:k,scope:C,job:S,subTree:w,um:P,m:T,a:F}=I;ic(T),ic(F),k&&Gs(k),C.stop(),S&&(S.flags|=8,de(w,I,D,b)),P&&zt(P,D),zt(()=>{I.isUnmounted=!0},D)},pe=(I,D,b,k=!1,C=!1,S=0)=>{for(let w=S;w<I.length;w++)de(I[w],D,b,k,C)},q=I=>{if(I.shapeFlag&6)return q(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const D=h(I.anchor||I.el),b=D&&D[ry];return b?h(b):D};let se=!1;const ie=(I,D,b)=>{I==null?D._vnode&&de(D._vnode,null,null,!0):v(D._vnode||null,I,D,null,null,null,b),D._vnode=I,se||(se=!0,Ju(),ch(),se=!1)},ge={p:v,um:de,m:oe,r:K,mt:p,mc:M,pc:V,pbc:Y,n:q,o:e};return{render:ie,hydrate:void 0,createApp:Ey(ie)}}function Oa({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function co({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Dy(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Dh(e,t,n=!1){const o=e.children,r=t.children;if(Te(o)&&Te(r))for(let s=0;s<o.length;s++){const i=o[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Zn(r[s]),a.el=i.el),!n&&a.patchFlag!==-2&&Dh(i,a)),a.type===sa&&a.patchFlag!==-1&&(a.el=i.el),a.type===Pn&&!a.el&&(a.el=i.el)}}function Py(e){const t=e.slice(),n=[0];let o,r,s,i,a;const l=e.length;for(o=0;o<l;o++){const u=e[o];if(u!==0){if(r=n[n.length-1],e[r]<u){t[o]=r,n.push(o);continue}for(s=0,i=n.length-1;s<i;)a=s+i>>1,e[n[a]]<u?s=a+1:i=a;u<e[n[s]]&&(s>0&&(t[o]=n[s-1]),n[s]=o)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}function Ph(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ph(t)}function ic(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ry=Symbol.for("v-scx"),Vy=()=>_t(Ry);function zy(e,t){return xu(e,null,t)}function Oe(e,t,n){return xu(e,t,n)}function xu(e,t,n=lt){const{immediate:o,deep:r,flush:s,once:i}=n,a=It({},n),l=t&&o||!t&&s!=="post";let u;if(Qr){if(s==="sync"){const f=Vy();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=cn,f.resume=cn,f.pause=cn,f}}const c=Tt;a.call=(f,m,v)=>pn(f,c,m,v);let d=!1;s==="post"?a.scheduler=f=>{zt(f,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(f,m)=>{m?f():hu(f)}),a.augmentJob=f=>{t&&(f.flags|=4),d&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const h=ey(e,t,a);return Qr&&(u?u.push(h):l&&h()),h}function Hy(e,t,n){const o=this.proxy,r=mt(e)?e.includes(".")?Rh(o,e):()=>o[e]:e.bind(o,o);let s;Ve(t)?s=t:(s=t.handler,n=t);const i=ws(this),a=xu(r,s.bind(o),n);return i(),a}function Rh(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const Ly=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Bt(t)}Modifiers`]||e[`${lo(t)}Modifiers`];function Fy(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||lt;let r=n;const s=t.startsWith("update:"),i=s&&Ly(o,t.slice(7));i&&(i.trim&&(r=n.map(c=>mt(c)?c.trim():c)),i.number&&(r=n.map(ci)));let a,l=o[a=Sa(t)]||o[a=Sa(Bt(t))];!l&&s&&(l=o[a=Sa(lo(t))]),l&&pn(l,e,6,r);const u=o[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,pn(u,e,6,r)}}const By=new WeakMap;function Vh(e,t,n=!1){const o=n?By:t.emitsCache,r=o.get(e);if(r!==void 0)return r;const s=e.emits;let i={},a=!1;if(!Ve(e)){const l=u=>{const c=Vh(u,t,!0);c&&(a=!0,It(i,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(it(e)&&o.set(e,null),null):(Te(s)?s.forEach(l=>i[l]=null):It(i,s),it(e)&&o.set(e,i),i)}function ra(e,t){return!e||!Zi(t)?!1:(t=t.slice(2).replace(/Once$/,""),et(e,t[0].toLowerCase()+t.slice(1))||et(e,lo(t))||et(e,t))}function ac(e){const{type:t,vnode:n,proxy:o,withProxy:r,propsOptions:[s],slots:i,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:f,ctx:m,inheritAttrs:v}=e,g=mi(e);let y,E;try{if(n.shapeFlag&4){const O=r||o,X=O;y=rn(u.call(X,O,c,d,f,h,m)),E=a}else{const O=t;y=rn(O.length>1?O(d,{attrs:a,slots:i,emit:l}):O(d,null)),E=t.props?a:jy(a)}}catch(O){Lr.length=0,na(O,e,1),y=re(Pn)}let _=y;if(E&&v!==!1){const O=Object.keys(E),{shapeFlag:X}=_;O.length&&X&7&&(s&&O.some(ou)&&(E=Uy(E,s)),_=Xo(_,E,!1,!0))}return n.dirs&&(_=Xo(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&pu(_,n.transition),y=_,mi(g),y}const jy=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zi(n))&&((t||(t={}))[n]=e[n]);return t},Uy=(e,t)=>{const n={};for(const o in e)(!ou(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Yy(e,t,n){const{props:o,children:r,component:s}=e,{props:i,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?lc(o,i,u):!!i;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(i[h]!==o[h]&&!ra(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===i?!1:o?i?lc(o,i,u):!0:!!i;return!1}function lc(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const s=o[r];if(t[s]!==e[s]&&!ra(n,s))return!0}return!1}function Wy({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const zh=e=>e.__isSuspense;function Gy(e,t){t&&t.pendingBranch?Te(e)?t.effects.push(...e):t.effects.push(e):oy(e)}const Ie=Symbol.for("v-fgt"),sa=Symbol.for("v-txt"),Pn=Symbol.for("v-cmt"),Zs=Symbol.for("v-stc"),Lr=[];let Mt=null;function R(e=!1){Lr.push(Mt=e?null:[])}function Zy(){Lr.pop(),Mt=Lr[Lr.length-1]||null}let qo=1;function bi(e,t=!1){qo+=e,e<0&&Mt&&t&&(Mt.hasOnce=!0)}function Hh(e){return e.dynamicChildren=qo>0?Mt||Lo:null,Zy(),qo>0&&Mt&&Mt.push(e),e}function L(e,t,n,o,r,s){return Hh(x(e,t,n,o,r,s,!0))}function ut(e,t,n,o,r){return Hh(re(e,t,n,o,r,!0))}function Kr(e){return e?e.__v_isVNode===!0:!1}function yr(e,t){return e.type===t.type&&e.key===t.key}const Lh=({key:e})=>e??null,qs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?mt(e)||ht(e)||Ve(e)?{i:Et,r:e,k:t,f:!!n}:e:null);function x(e,t=null,n=null,o=0,r=null,s=e===Ie?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Lh(t),ref:t&&qs(t),scopeId:fh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Et};return a?(_u(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=mt(n)?8:16),qo>0&&!i&&Mt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Mt.push(l),l}const re=qy;function qy(e,t=null,n=null,o=0,r=null,s=!1){if((!e||e===vh)&&(e=Pn),Kr(e)){const a=Xo(e,t,!0);return n&&_u(a,n),qo>0&&!s&&Mt&&(a.shapeFlag&6?Mt[Mt.indexOf(e)]=a:Mt.push(a)),a.patchFlag=-2,a}if(ov(e)&&(e=e.__vccOpts),t){t=Ye(t);let{class:a,style:l}=t;a&&!mt(a)&&(t.class=st(a)),it(l)&&(fu(l)&&!Te(l)&&(l=It({},l)),t.style=ct(l))}const i=mt(e)?1:zh(e)?128:sy(e)?64:it(e)?4:Ve(e)?2:0;return x(e,t,n,o,r,i,s,!0)}function Ye(e){return e?fu(e)||Nh(e)?It({},e):e:null}function Xo(e,t,n=!1,o=!1){const{props:r,ref:s,patchFlag:i,children:a,transition:l}=e,u=t?Jr(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Lh(u),ref:t&&t.ref?n&&s?Te(s)?s.concat(qs(t)):[s,qs(t)]:qs(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ie?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xo(e.ssContent),ssFallback:e.ssFallback&&Xo(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&o&&pu(c,l.clone(c)),c}function tt(e=" ",t=0){return re(sa,null,e,t)}function Ko(e,t){const n=re(Zs,null,e);return n.staticCount=t,n}function xe(e="",t=!1){return t?(R(),ut(Pn,null,e)):re(Pn,null,e)}function rn(e){return e==null||typeof e=="boolean"?re(Pn):Te(e)?re(Ie,null,e.slice()):Kr(e)?Zn(e):re(sa,null,String(e))}function Zn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xo(e)}function _u(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Te(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),_u(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Nh(t)?t._ctx=Et:r===3&&Et&&(Et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ve(t)?(t={default:t,_ctx:Et},n=32):(t=String(t),o&64?(n=16,t=[tt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Jr(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=st([t.class,o.class]));else if(r==="style")t.style=ct([t.style,o.style]);else if(Zi(r)){const s=t[r],i=o[r];i&&s!==i&&!(Te(s)&&s.includes(i))&&(t[r]=s?[].concat(s,i):i)}else r!==""&&(t[r]=o[r])}return t}function tn(e,t,n,o=null){pn(e,t,7,[n,o])}const Xy=$h();let Ky=0;function Jy(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||Xy,s={uid:Ky++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ih(o,r),emitsOptions:Vh(o,r),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:o.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Fy.bind(null,s),e.ce&&e.ce(s),s}let Tt=null;const Ln=()=>Tt||Et;let xi,ul;{const e=Ki(),t=(n,o)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(o),s=>{r.length>1?r.forEach(i=>i(s)):r[0](s)}};xi=t("__VUE_INSTANCE_SETTERS__",n=>Tt=n),ul=t("__VUE_SSR_SETTERS__",n=>Qr=n)}const ws=e=>{const t=Tt;return xi(e),e.scope.on(),()=>{e.scope.off(),xi(t)}},uc=()=>{Tt&&Tt.scope.off(),xi(null)};function Fh(e){return e.vnode.shapeFlag&4}let Qr=!1;function Qy(e,t=!1,n=!1){t&&ul(t);const{props:o,children:r}=e.vnode,s=Fh(e);Sy(e,o,s,t),Iy(e,r,n||t);const i=s?ev(e,t):void 0;return t&&ul(!1),i}function ev(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,my);const{setup:o}=n;if(o){Mn();const r=e.setupContext=o.length>1?jh(e):null,s=ws(e),i=_s(o,e,0,[e.props,r]),a=Pf(i);if(Dn(),s(),(a||e.sp)&&!jo(e)&&hh(e),a){if(i.then(uc,uc),t)return i.then(l=>{cc(e,l)}).catch(l=>{na(l,e,0)});e.asyncDep=i}else cc(e,i)}else Bh(e)}function cc(e,t,n){Ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:it(t)&&(e.setupState=sh(t)),Bh(e)}function Bh(e,t,n){const o=e.type;e.render||(e.render=o.render||cn);{const r=ws(e);Mn();try{vy(e)}finally{Dn(),r()}}}const tv={get(e,t){return Nt(e,"get",""),e[t]}};function jh(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,tv),slots:e.slots,emit:e.emit,expose:t}}function ia(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sh(bo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Hr)return Hr[n](e)},has(t,n){return n in t||n in Hr}})):e.proxy}function nv(e,t=!0){return Ve(e)?e.displayName||e.name:e.name||t&&e.__name}function ov(e){return Ve(e)&&"__vccOpts"in e}const ne=(e,t)=>Jm(e,t,Qr);function Xe(e,t,n){try{bi(-1);const o=arguments.length;return o===2?it(t)&&!Te(t)?Kr(t)?re(e,null,[t]):re(e,t):re(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Kr(n)&&(n=[n]),re(e,t,n))}finally{bi(1)}}function rv(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(In(n[o],t[o]))return!1;return qo>0&&Mt&&Mt.push(e),!0}const sv="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cl;const dc=typeof window<"u"&&window.trustedTypes;if(dc)try{cl=dc.createPolicy("vue",{createHTML:e=>e})}catch{}const Uh=cl?e=>cl.createHTML(e):e=>e,iv="http://www.w3.org/2000/svg",av="http://www.w3.org/1998/Math/MathML",kn=typeof document<"u"?document:null,fc=kn&&kn.createElement("template"),lv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t==="svg"?kn.createElementNS(iv,e):t==="mathml"?kn.createElementNS(av,e):n?kn.createElement(e,{is:n}):kn.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>kn.createTextNode(e),createComment:e=>kn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>kn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,s){const i=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{fc.innerHTML=Uh(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const a=fc.content;if(o==="svg"||o==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},uv=Symbol("_vtc");function cv(e,t,n){const o=e[uv];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const _i=Symbol("_vod"),Yh=Symbol("_vsh"),dv={name:"show",beforeMount(e,{value:t},{transition:n}){e[_i]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):vr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),vr(e,!0),o.enter(e)):o.leave(e,()=>{vr(e,!1)}):vr(e,t))},beforeUnmount(e,{value:t}){vr(e,t)}};function vr(e,t){e.style.display=t?e[_i]:"none",e[Yh]=!t}const fv=Symbol(""),hv=/(?:^|;)\s*display\s*:/;function pv(e,t,n){const o=e.style,r=mt(n);let s=!1;if(n&&!r){if(t)if(mt(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Xs(o,a,"")}else for(const i in t)n[i]==null&&Xs(o,i,"");for(const i in n)i==="display"&&(s=!0),Xs(o,i,n[i])}else if(r){if(t!==n){const i=o[fv];i&&(n+=";"+i),o.cssText=n,s=hv.test(n)}}else t&&e.removeAttribute("style");_i in e&&(e[_i]=s?o.display:"",e[Yh]&&(o.display="none"))}const hc=/\s*!important$/;function Xs(e,t,n){if(Te(n))n.forEach(o=>Xs(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=gv(e,t);hc.test(n)?e.setProperty(lo(o),n.replace(hc,""),"important"):e[o]=n}}const pc=["Webkit","Moz","ms"],Ma={};function gv(e,t){const n=Ma[t];if(n)return n;let o=Bt(t);if(o!=="filter"&&o in e)return Ma[t]=o;o=Xi(o);for(let r=0;r<pc.length;r++){const s=pc[r]+o;if(s in e)return Ma[t]=s}return t}const gc="http://www.w3.org/1999/xlink";function mc(e,t,n,o,r,s=Em(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(gc,t.slice(6,t.length)):e.setAttributeNS(gc,t,n):n==null||s&&!Hf(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Kt(n)?String(n):n)}function yc(e,t,n,o,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Uh(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Hf(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(r||t)}function eo(e,t,n,o){e.addEventListener(t,n,o)}function mv(e,t,n,o){e.removeEventListener(t,n,o)}const vc=Symbol("_vei");function yv(e,t,n,o,r=null){const s=e[vc]||(e[vc]={}),i=s[t];if(o&&i)i.value=o;else{const[a,l]=vv(t);if(o){const u=s[t]=_v(o,r);eo(e,a,u,l)}else i&&(mv(e,a,i,l),s[t]=void 0)}}const bc=/(?:Once|Passive|Capture)$/;function vv(e){let t;if(bc.test(e)){t={};let o;for(;o=e.match(bc);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):lo(e.slice(2)),t]}let Da=0;const bv=Promise.resolve(),xv=()=>Da||(bv.then(()=>Da=0),Da=Date.now());function _v(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;pn(wv(o,n.value),t,5,[o])};return n.value=e,n.attached=xv(),n}function wv(e,t){if(Te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const xc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,kv=(e,t,n,o,r,s)=>{const i=r==="svg";t==="class"?cv(e,o,i):t==="style"?pv(e,n,o):Zi(t)?ou(t)||yv(e,t,n,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ev(e,t,o,i))?(yc(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&mc(e,t,o,i,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!mt(o))?yc(e,Bt(t),o,s,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),mc(e,t,o,i))};function Ev(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&xc(t)&&Ve(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return xc(t)&&mt(n)?!1:t in e}const Jo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Te(t)?n=>Gs(t,n):t};function $v(e){e.target.composing=!0}function _c(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const An=Symbol("_assign"),ft={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e[An]=Jo(r);const s=o||r.props&&r.props.type==="number";eo(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=ci(a)),e[An](a)}),n&&eo(e,"change",()=>{e.value=e.value.trim()}),t||(eo(e,"compositionstart",$v),eo(e,"compositionend",_c),eo(e,"change",_c))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:r,number:s}},i){if(e[An]=Jo(i),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?ci(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||r&&e.value.trim()===l)||(e.value=l))}},Fr={deep:!0,created(e,t,n){e[An]=Jo(n),eo(e,"change",()=>{const o=e._modelValue,r=es(e),s=e.checked,i=e[An];if(Te(o)){const a=iu(o,r),l=a!==-1;if(s&&!l)i(o.concat(r));else if(!s&&l){const u=[...o];u.splice(a,1),i(u)}}else if(pr(o)){const a=new Set(o);s?a.add(r):a.delete(r),i(a)}else i(Wh(e,s))})},mounted:wc,beforeUpdate(e,t,n){e[An]=Jo(n),wc(e,t,n)}};function wc(e,{value:t,oldValue:n},o){e._modelValue=t;let r;if(Te(t))r=iu(t,o.props.value)>-1;else if(pr(t))r=t.has(o.props.value);else{if(t===n)return;r=xs(t,Wh(e,!0))}e.checked!==r&&(e.checked=r)}const Ut={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const r=pr(t);eo(e,"change",()=>{const s=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?ci(es(i)):es(i));e[An](e.multiple?r?new Set(s):s:s[0]),e._assigning=!0,Dt(()=>{e._assigning=!1})}),e[An]=Jo(o)},mounted(e,{value:t}){kc(e,t)},beforeUpdate(e,t,n){e[An]=Jo(n)},updated(e,{value:t}){e._assigning||kc(e,t)}};function kc(e,t){const n=e.multiple,o=Te(t);if(!(n&&!o&&!pr(t))){for(let r=0,s=e.options.length;r<s;r++){const i=e.options[r],a=es(i);if(n)if(o){const l=typeof a;l==="string"||l==="number"?i.selected=t.some(u=>String(u)===String(a)):i.selected=iu(t,a)>-1}else i.selected=t.has(a);else if(xs(es(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function es(e){return"_value"in e?e._value:e.value}function Wh(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Sv=["ctrl","shift","alt","meta"],Cv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Sv.some(n=>e[`${n}Key`]&&!t.includes(n))},Ho=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((r,...s)=>{for(let i=0;i<t.length;i++){const a=Cv[t[i]];if(a&&a(r,t))return}return e(r,...s)}))},Nv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},As=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=(r=>{if(!("key"in r))return;const s=lo(r.key);if(t.some(i=>i===s||Nv[i]===s))return e(r)}))},Tv=It({patchProp:kv},lv);let Ec;function Iv(){return Ec||(Ec=Oy(Tv))}const Av=((...e)=>{const t=Iv().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=Mv(o);if(!r)return;const s=t._component;!Ve(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,Ov(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t});function Ov(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Mv(e){return mt(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Gh;const aa=e=>Gh=e,Zh=Symbol();function dl(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Br;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Br||(Br={}));function Dv(){const e=Ji(!0),t=e.run(()=>fe({}));let n=[],o=[];const r=bo({install(s){aa(r),r._a=s,s.provide(Zh,r),s.config.globalProperties.$pinia=r,o.forEach(i=>n.push(i)),o=[]},use(s){return this._a?n.push(s):o.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const qh=()=>{};function $c(e,t,n,o=qh){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),o())};return!n&&Qi()&&Pr(r),r}function Mo(e,...t){e.slice().forEach(n=>{n(...t)})}const Pv=e=>e(),Sc=Symbol(),Pa=Symbol();function fl(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],r=e[n];dl(r)&&dl(o)&&e.hasOwnProperty(n)&&!ht(o)&&!no(o)?e[n]=fl(r,o):e[n]=o}return e}const Rv=Symbol();function Vv(e){return!dl(e)||!e.hasOwnProperty(Rv)}const{assign:Un}=Object;function zv(e){return!!(ht(e)&&e.effect)}function Hv(e,t,n,o){const{state:r,actions:s,getters:i}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=r?r():{});const c=ih(n.state.value[e]);return Un(c,s,Object.keys(i||{}).reduce((d,h)=>(d[h]=bo(ne(()=>{aa(n);const f=n._s.get(e);return i[h].call(f,f)})),d),{}))}return l=Xh(e,u,t,n,o,!0),l}function Xh(e,t,n={},o,r,s){let i;const a=Un({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],f;const m=o.state.value[e];!s&&!m&&(o.state.value[e]={}),fe({});let v;function g(M){let B;u=c=!1,typeof M=="function"?(M(o.state.value[e]),B={type:Br.patchFunction,storeId:e,events:f}):(fl(o.state.value[e],M),B={type:Br.patchObject,payload:M,storeId:e,events:f});const Y=v=Symbol();Dt().then(()=>{v===Y&&(u=!0)}),c=!0,Mo(d,B,o.state.value[e])}const y=s?function(){const{state:B}=n,Y=B?B():{};this.$patch(H=>{Un(H,Y)})}:qh;function E(){i.stop(),d=[],h=[],o._s.delete(e)}const _=(M,B="")=>{if(Sc in M)return M[Pa]=B,M;const Y=function(){aa(o);const H=Array.from(arguments),N=[],W=[];function p(z){N.push(z)}function A(z){W.push(z)}Mo(h,{args:H,name:Y[Pa],store:X,after:p,onError:A});let $;try{$=M.apply(this&&this.$id===e?this:X,H)}catch(z){throw Mo(W,z),z}return $ instanceof Promise?$.then(z=>(Mo(N,z),z)).catch(z=>(Mo(W,z),Promise.reject(z))):(Mo(N,$),$)};return Y[Sc]=!0,Y[Pa]=B,Y},O={_p:o,$id:e,$onAction:$c.bind(null,h),$patch:g,$reset:y,$subscribe(M,B={}){const Y=$c(d,M,B.detached,()=>H()),H=i.run(()=>Oe(()=>o.state.value[e],N=>{(B.flush==="sync"?c:u)&&M({storeId:e,type:Br.direct,events:f},N)},Un({},l,B)));return Y},$dispose:E},X=gr(O);o._s.set(e,X);const j=(o._a&&o._a.runWithContext||Pv)(()=>o._e.run(()=>(i=Ji()).run(()=>t({action:_}))));for(const M in j){const B=j[M];if(ht(B)&&!zv(B)||no(B))s||(m&&Vv(B)&&(ht(B)?B.value=m[M]:fl(B,m[M])),o.state.value[e][M]=B);else if(typeof B=="function"){const Y=_(B,M);j[M]=Y,a.actions[M]=B}}return Un(X,j),Un(Ke(X),j),Object.defineProperty(X,"$state",{get:()=>o.state.value[e],set:M=>{g(B=>{Un(B,M)})}}),o._p.forEach(M=>{Un(X,i.run(()=>M({store:X,app:o._a,pinia:o,options:a})))}),m&&s&&n.hydrate&&n.hydrate(X.$state,m),u=!0,c=!0,X}/*! #__NO_SIDE_EFFECTS__ */function Kh(e,t,n){let o,r;const s=typeof t=="function";typeof e=="string"?(o=e,r=s?n:t):(r=e,o=e.id);function i(a,l){const u=$y();return a=a||(u?_t(Zh,null):null),a&&aa(a),a=Gh,a._s.has(o)||(s?Xh(o,t,r,a):Hv(o,r,a)),a._s.get(o)}return i.$id=o,i}function ts(e){return Qi()?(Pr(e),!0):!1}function Sn(e){return typeof e=="function"?e():ce(e)}const Lv=typeof window<"u"&&typeof document<"u",Fv=e=>typeof e<"u",Bv=Object.prototype.toString,jv=e=>Bv.call(e)==="[object Object]",Uv=()=>{};function Yv(e,t){function n(...o){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(s)})}return n}const Jh=e=>e();function Wv(e=Jh){const t=fe(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...s)=>{t.value&&e(...s)};return{isActive:fi(t),pause:n,resume:o,eventFilter:r}}function Cc(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function Gv(e,t,n={}){const{eventFilter:o=Jh,...r}=n;return Oe(e,Yv(o,t),r)}function Do(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:s,pause:i,resume:a,isActive:l}=Wv(o);return{stop:Gv(e,t,{...r,eventFilter:s}),pause:i,resume:a,isActive:l}}function Zv(e,t={}){if(!ht(e))return ih(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=Zm(()=>({get(){return e.value[o]},set(r){var s;if((s=Sn(t.replaceRef))!=null?s:!0)if(Array.isArray(e.value)){const a=[...e.value];a[o]=r,e.value=a}else{const a={...e.value,[o]:r};Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[o]=r}}));return n}function hl(e,t=!1){function n(d,{flush:h="sync",deep:f=!1,timeout:m,throwOnTimeout:v}={}){let g=null;const E=[new Promise(_=>{g=Oe(e,O=>{d(O)!==t&&(g==null||g(),_(O))},{flush:h,deep:f,immediate:!0})})];return m!=null&&E.push(Cc(m,v).then(()=>Sn(e)).finally(()=>g==null?void 0:g())),Promise.race(E)}function o(d,h){if(!ht(d))return n(O=>O===d,h);const{flush:f="sync",deep:m=!1,timeout:v,throwOnTimeout:g}=h??{};let y=null;const _=[new Promise(O=>{y=Oe([e,d],([X,U])=>{t!==(X===U)&&(y==null||y(),O(X))},{flush:f,deep:m,immediate:!0})})];return v!=null&&_.push(Cc(v,g).then(()=>Sn(e)).finally(()=>(y==null||y(),Sn(e)))),Promise.race(_)}function r(d){return n(h=>!!h,d)}function s(d){return o(null,d)}function i(d){return o(void 0,d)}function a(d){return n(Number.isNaN,d)}function l(d,h){return n(f=>{const m=Array.from(f);return m.includes(d)||m.includes(Sn(d))},h)}function u(d){return c(1,d)}function c(d=1,h){let f=-1;return n(()=>(f+=1,f>=d),h)}return Array.isArray(Sn(e))?{toMatch:n,toContains:l,changed:u,changedTimes:c,get not(){return hl(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:s,toBeNaN:a,toBeUndefined:i,changed:u,changedTimes:c,get not(){return hl(e,!t)}}}function pl(e){return hl(e)}function qv(e){var t;const n=Sn(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Qh=Lv?window:void 0;function ep(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=Qh):[t,n,o,r]=e,!t)return Uv;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],i=()=>{s.forEach(c=>c()),s.length=0},a=(c,d,h,f)=>(c.addEventListener(d,h,f),()=>c.removeEventListener(d,h,f)),l=Oe(()=>[qv(t),Sn(r)],([c,d])=>{if(i(),!c)return;const h=jv(d)?{...d}:d;s.push(...n.flatMap(f=>o.map(m=>a(c,f,m,h))))},{immediate:!0,flush:"post"}),u=()=>{l(),i()};return ts(u),u}function Xv(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Nc(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=Qh,eventName:s="keydown",passive:i=!1,dedupe:a=!1}=o,l=Xv(t);return ep(r,s,c=>{c.repeat&&Sn(a)||l(c)&&n(c)},i)}function Kv(e){return JSON.parse(JSON.stringify(e))}function Ra(e,t,n,o={}){var r,s,i;const{clone:a=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d,shouldEmit:h}=o,f=Ln(),m=n||(f==null?void 0:f.emit)||((r=f==null?void 0:f.$emit)==null?void 0:r.bind(f))||((i=(s=f==null?void 0:f.proxy)==null?void 0:s.$emit)==null?void 0:i.bind(f==null?void 0:f.proxy));let v=u;t||(t="modelValue"),v=v||`update:${t.toString()}`;const g=_=>a?typeof a=="function"?a(_):Kv(_):_,y=()=>Fv(e[t])?g(e[t]):d,E=_=>{h?h(_)&&m(v,_):m(v,_)};if(l){const _=y(),O=fe(_);let X=!1;return Oe(()=>e[t],U=>{X||(X=!0,O.value=g(U),Dt(()=>X=!1))}),Oe(O,U=>{!X&&(U!==e[t]||c)&&E(U)},{deep:c}),O}else return ne({get(){return y()},set(_){E(_)}})}var Jv={value:()=>{}};function la(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Ks(n)}function Ks(e){this._=e}function Qv(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Ks.prototype=la.prototype={constructor:Ks,on:function(e,t){var n=this._,o=Qv(e+"",n),r,s=-1,i=o.length;if(arguments.length<2){for(;++s<i;)if((r=(e=o[s]).type)&&(r=e0(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(r=(e=o[s]).type)n[r]=Tc(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Tc(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ks(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,s;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,r=s.length;o<r;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)}};function e0(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function Tc(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Jv,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var gl="http://www.w3.org/1999/xhtml";const Ic={svg:"http://www.w3.org/2000/svg",xhtml:gl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ua(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ic.hasOwnProperty(t)?{space:Ic[t],local:e}:e}function t0(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===gl&&t.documentElement.namespaceURI===gl?t.createElement(e):t.createElementNS(n,e)}}function n0(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function tp(e){var t=ua(e);return(t.local?n0:t0)(t)}function o0(){}function wu(e){return e==null?o0:function(){return this.querySelector(e)}}function r0(e){typeof e!="function"&&(e=wu(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=new Array(i),l,u,c=0;c<i;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Ht(o,this._parents)}function s0(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function i0(){return[]}function np(e){return e==null?i0:function(){return this.querySelectorAll(e)}}function a0(e){return function(){return s0(e.apply(this,arguments))}}function l0(e){typeof e=="function"?e=a0(e):e=np(e);for(var t=this._groups,n=t.length,o=[],r=[],s=0;s<n;++s)for(var i=t[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&(o.push(e.call(l,l.__data__,u,i)),r.push(l));return new Ht(o,r)}function op(e){return function(){return this.matches(e)}}function rp(e){return function(t){return t.matches(e)}}var u0=Array.prototype.find;function c0(e){return function(){return u0.call(this.children,e)}}function d0(){return this.firstElementChild}function f0(e){return this.select(e==null?d0:c0(typeof e=="function"?e:rp(e)))}var h0=Array.prototype.filter;function p0(){return Array.from(this.children)}function g0(e){return function(){return h0.call(this.children,e)}}function m0(e){return this.selectAll(e==null?p0:g0(typeof e=="function"?e:rp(e)))}function y0(e){typeof e!="function"&&(e=op(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Ht(o,this._parents)}function sp(e){return new Array(e.length)}function v0(){return new Ht(this._enter||this._groups.map(sp),this._parents)}function wi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}wi.prototype={constructor:wi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function b0(e){return function(){return e}}function x0(e,t,n,o,r,s){for(var i=0,a,l=t.length,u=s.length;i<u;++i)(a=t[i])?(a.__data__=s[i],o[i]=a):n[i]=new wi(e,s[i]);for(;i<l;++i)(a=t[i])&&(r[i]=a)}function _0(e,t,n,o,r,s,i){var a,l,u=new Map,c=t.length,d=s.length,h=new Array(c),f;for(a=0;a<c;++a)(l=t[a])&&(h[a]=f=i.call(l,l.__data__,a,t)+"",u.has(f)?r[a]=l:u.set(f,l));for(a=0;a<d;++a)f=i.call(e,s[a],a,s)+"",(l=u.get(f))?(o[a]=l,l.__data__=s[a],u.delete(f)):n[a]=new wi(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(r[a]=l)}function w0(e){return e.__data__}function k0(e,t){if(!arguments.length)return Array.from(this,w0);var n=t?_0:x0,o=this._parents,r=this._groups;typeof e!="function"&&(e=b0(e));for(var s=r.length,i=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=o[u],d=r[u],h=d.length,f=E0(e.call(c,c&&c.__data__,u,o)),m=f.length,v=a[u]=new Array(m),g=i[u]=new Array(m),y=l[u]=new Array(h);n(c,d,v,g,y,f,t);for(var E=0,_=0,O,X;E<m;++E)if(O=v[E]){for(E>=_&&(_=E+1);!(X=g[_])&&++_<m;);O._next=X||null}}return i=new Ht(i,o),i._enter=a,i._exit=l,i}function E0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $0(){return new Ht(this._exit||this._groups.map(sp),this._parents)}function S0(e,t,n){var o=this.enter(),r=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),o&&r?o.merge(r).order():r}function C0(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,s=o.length,i=Math.min(r,s),a=new Array(r),l=0;l<i;++l)for(var u=n[l],c=o[l],d=u.length,h=a[l]=new Array(d),f,m=0;m<d;++m)(f=u[m]||c[m])&&(h[m]=f);for(;l<r;++l)a[l]=n[l];return new Ht(a,this._parents)}function N0(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,s=o[r],i;--r>=0;)(i=o[r])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function T0(e){e||(e=I0);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s){for(var i=n[s],a=i.length,l=r[s]=new Array(a),u,c=0;c<a;++c)(u=i[c])&&(l[c]=u);l.sort(t)}return new Ht(r,this._parents).order()}function I0(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function A0(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function O0(){return Array.from(this)}function M0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length;r<s;++r){var i=o[r];if(i)return i}return null}function D0(){let e=0;for(const t of this)++e;return e}function P0(){return!this.node()}function R0(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],s=0,i=r.length,a;s<i;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function V0(e){return function(){this.removeAttribute(e)}}function z0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function H0(e,t){return function(){this.setAttribute(e,t)}}function L0(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function F0(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function B0(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function j0(e,t){var n=ua(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?z0:V0:typeof t=="function"?n.local?B0:F0:n.local?L0:H0)(n,t))}function ip(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function U0(e){return function(){this.style.removeProperty(e)}}function Y0(e,t,n){return function(){this.style.setProperty(e,t,n)}}function W0(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function G0(e,t,n){return arguments.length>1?this.each((t==null?U0:typeof t=="function"?W0:Y0)(e,t,n??"")):Qo(this.node(),e)}function Qo(e,t){return e.style.getPropertyValue(t)||ip(e).getComputedStyle(e,null).getPropertyValue(t)}function Z0(e){return function(){delete this[e]}}function q0(e,t){return function(){this[e]=t}}function X0(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function K0(e,t){return arguments.length>1?this.each((t==null?Z0:typeof t=="function"?X0:q0)(e,t)):this.node()[e]}function ap(e){return e.trim().split(/^|\s+/)}function ku(e){return e.classList||new lp(e)}function lp(e){this._node=e,this._names=ap(e.getAttribute("class")||"")}lp.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function up(e,t){for(var n=ku(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function cp(e,t){for(var n=ku(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function J0(e){return function(){up(this,e)}}function Q0(e){return function(){cp(this,e)}}function eb(e,t){return function(){(t.apply(this,arguments)?up:cp)(this,e)}}function tb(e,t){var n=ap(e+"");if(arguments.length<2){for(var o=ku(this.node()),r=-1,s=n.length;++r<s;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?eb:t?J0:Q0)(n,t))}function nb(){this.textContent=""}function ob(e){return function(){this.textContent=e}}function rb(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function sb(e){return arguments.length?this.each(e==null?nb:(typeof e=="function"?rb:ob)(e)):this.node().textContent}function ib(){this.innerHTML=""}function ab(e){return function(){this.innerHTML=e}}function lb(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ub(e){return arguments.length?this.each(e==null?ib:(typeof e=="function"?lb:ab)(e)):this.node().innerHTML}function cb(){this.nextSibling&&this.parentNode.appendChild(this)}function db(){return this.each(cb)}function fb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hb(){return this.each(fb)}function pb(e){var t=typeof e=="function"?e:tp(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function gb(){return null}function mb(e,t){var n=typeof e=="function"?e:tp(e),o=t==null?gb:typeof t=="function"?t:wu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function yb(){var e=this.parentNode;e&&e.removeChild(this)}function vb(){return this.each(yb)}function bb(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xb(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _b(e){return this.select(e?xb:bb)}function wb(e){return arguments.length?this.property("__data__",e):this.node().__data__}function kb(e){return function(t){e.call(this,t,this.__data__)}}function Eb(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function $b(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function Sb(e,t,n){return function(){var o=this.__on,r,s=kb(t);if(o){for(var i=0,a=o.length;i<a;++i)if((r=o[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(r):this.__on=[r]}}function Cb(e,t,n){var o=Eb(e+""),r,s=o.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<s;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}return}for(a=t?Sb:$b,r=0;r<s;++r)this.each(a(o[r],t,n));return this}function dp(e,t,n){var o=ip(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Nb(e,t){return function(){return dp(this,e,t)}}function Tb(e,t){return function(){return dp(this,e,t.apply(this,arguments))}}function Ib(e,t){return this.each((typeof t=="function"?Tb:Nb)(e,t))}function*Ab(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length,i;r<s;++r)(i=o[r])&&(yield i)}var fp=[null];function Ht(e,t){this._groups=e,this._parents=t}function ks(){return new Ht([[document.documentElement]],fp)}function Ob(){return this}Ht.prototype=ks.prototype={constructor:Ht,select:r0,selectAll:l0,selectChild:f0,selectChildren:m0,filter:y0,data:k0,enter:v0,exit:$0,join:S0,merge:C0,selection:Ob,order:N0,sort:T0,call:A0,nodes:O0,node:M0,size:D0,empty:P0,each:R0,attr:j0,style:G0,property:K0,classed:tb,text:sb,html:ub,raise:db,lower:hb,append:pb,insert:mb,remove:vb,clone:_b,datum:wb,on:Cb,dispatch:Ib,[Symbol.iterator]:Ab};function Yt(e){return typeof e=="string"?new Ht([[document.querySelector(e)]],[document.documentElement]):new Ht([[e]],fp)}function Mb(e){let t;for(;t=e.sourceEvent;)e=t;return e}function on(e,t){if(e=Mb(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Db={passive:!1},ns={capture:!0,passive:!1};function Va(e){e.stopImmediatePropagation()}function Uo(e){e.preventDefault(),e.stopImmediatePropagation()}function hp(e){var t=e.document.documentElement,n=Yt(e).on("dragstart.drag",Uo,ns);"onselectstart"in t?n.on("selectstart.drag",Uo,ns):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function pp(e,t){var n=e.document.documentElement,o=Yt(e).on("dragstart.drag",null);t&&(o.on("click.drag",Uo,ns),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Os=e=>()=>e;function ml(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:s,x:i,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}ml.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Pb(e){return!e.ctrlKey&&!e.button}function Rb(){return this.parentNode}function Vb(e,t){return t??{x:e.x,y:e.y}}function zb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hb(){var e=Pb,t=Rb,n=Vb,o=zb,r={},s=la("start","drag","end"),i=0,a,l,u,c,d=0;function h(O){O.on("mousedown.drag",f).filter(o).on("touchstart.drag",g).on("touchmove.drag",y,Db).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(O,X){if(!(c||!e.call(this,O,X))){var U=_(this,t.call(this,O,X),O,X,"mouse");U&&(Yt(O.view).on("mousemove.drag",m,ns).on("mouseup.drag",v,ns),hp(O.view),Va(O),u=!1,a=O.clientX,l=O.clientY,U("start",O))}}function m(O){if(Uo(O),!u){var X=O.clientX-a,U=O.clientY-l;u=X*X+U*U>d}r.mouse("drag",O)}function v(O){Yt(O.view).on("mousemove.drag mouseup.drag",null),pp(O.view,u),Uo(O),r.mouse("end",O)}function g(O,X){if(e.call(this,O,X)){var U=O.changedTouches,j=t.call(this,O,X),M=U.length,B,Y;for(B=0;B<M;++B)(Y=_(this,j,O,X,U[B].identifier,U[B]))&&(Va(O),Y("start",O,U[B]))}}function y(O){var X=O.changedTouches,U=X.length,j,M;for(j=0;j<U;++j)(M=r[X[j].identifier])&&(Uo(O),M("drag",O,X[j]))}function E(O){var X=O.changedTouches,U=X.length,j,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),j=0;j<U;++j)(M=r[X[j].identifier])&&(Va(O),M("end",O,X[j]))}function _(O,X,U,j,M,B){var Y=s.copy(),H=on(B||U,X),N,W,p;if((p=n.call(O,new ml("beforestart",{sourceEvent:U,target:h,identifier:M,active:i,x:H[0],y:H[1],dx:0,dy:0,dispatch:Y}),j))!=null)return N=p.x-H[0]||0,W=p.y-H[1]||0,function A($,z,V){var J=H,Z;switch($){case"start":r[M]=A,Z=i++;break;case"end":delete r[M],--i;case"drag":H=on(V||z,X),Z=i;break}Y.call($,O,new ml($,{sourceEvent:z,subject:p,target:h,identifier:M,active:Z,x:H[0]+N,y:H[1]+W,dx:H[0]-J[0],dy:H[1]-J[1],dispatch:Y}),j)}}return h.filter=function(O){return arguments.length?(e=typeof O=="function"?O:Os(!!O),h):e},h.container=function(O){return arguments.length?(t=typeof O=="function"?O:Os(O),h):t},h.subject=function(O){return arguments.length?(n=typeof O=="function"?O:Os(O),h):n},h.touchable=function(O){return arguments.length?(o=typeof O=="function"?O:Os(!!O),h):o},h.on=function(){var O=s.on.apply(s,arguments);return O===s?h:O},h.clickDistance=function(O){return arguments.length?(d=(O=+O)*O,h):Math.sqrt(d)},h}function Eu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gp(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Es(){}var os=.7,ki=1/os,Yo="\\s*([+-]?\\d+)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lb=/^#([0-9a-f]{3,8})$/,Fb=new RegExp(`^rgb\\(${Yo},${Yo},${Yo}\\)$`),Bb=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),jb=new RegExp(`^rgba\\(${Yo},${Yo},${Yo},${rs}\\)$`),Ub=new RegExp(`^rgba\\(${dn},${dn},${dn},${rs}\\)$`),Yb=new RegExp(`^hsl\\(${rs},${dn},${dn}\\)$`),Wb=new RegExp(`^hsla\\(${rs},${dn},${dn},${rs}\\)$`),Ac={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Eu(Es,$o,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Oc,formatHex:Oc,formatHex8:Gb,formatHsl:Zb,formatRgb:Mc,toString:Mc});function Oc(){return this.rgb().formatHex()}function Gb(){return this.rgb().formatHex8()}function Zb(){return mp(this).formatHsl()}function Mc(){return this.rgb().formatRgb()}function $o(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Lb.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Dc(t):n===3?new Rt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ms(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ms(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Fb.exec(e))?new Rt(t[1],t[2],t[3],1):(t=Bb.exec(e))?new Rt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jb.exec(e))?Ms(t[1],t[2],t[3],t[4]):(t=Ub.exec(e))?Ms(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Yb.exec(e))?Vc(t[1],t[2]/100,t[3]/100,1):(t=Wb.exec(e))?Vc(t[1],t[2]/100,t[3]/100,t[4]):Ac.hasOwnProperty(e)?Dc(Ac[e]):e==="transparent"?new Rt(NaN,NaN,NaN,0):null}function Dc(e){return new Rt(e>>16&255,e>>8&255,e&255,1)}function Ms(e,t,n,o){return o<=0&&(e=t=n=NaN),new Rt(e,t,n,o)}function qb(e){return e instanceof Es||(e=$o(e)),e?(e=e.rgb(),new Rt(e.r,e.g,e.b,e.opacity)):new Rt}function yl(e,t,n,o){return arguments.length===1?qb(e):new Rt(e,t,n,o??1)}function Rt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Eu(Rt,yl,gp(Es,{brighter(e){return e=e==null?ki:Math.pow(ki,e),new Rt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?os:Math.pow(os,e),new Rt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rt(_o(this.r),_o(this.g),_o(this.b),Ei(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pc,formatHex:Pc,formatHex8:Xb,formatRgb:Rc,toString:Rc}));function Pc(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}`}function Xb(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}${mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rc(){const e=Ei(this.opacity);return`${e===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${e===1?")":`, ${e})`}`}function Ei(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mo(e){return e=_o(e),(e<16?"0":"")+e.toString(16)}function Vc(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wt(e,t,n,o)}function mp(e){if(e instanceof Wt)return new Wt(e.h,e.s,e.l,e.opacity);if(e instanceof Es||(e=$o(e)),!e)return new Wt;if(e instanceof Wt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),s=Math.max(t,n,o),i=NaN,a=s-r,l=(s+r)/2;return a?(t===s?i=(n-o)/a+(n<o)*6:n===s?i=(o-t)/a+2:i=(t-n)/a+4,a/=l<.5?s+r:2-s-r,i*=60):a=l>0&&l<1?0:i,new Wt(i,a,l,e.opacity)}function Kb(e,t,n,o){return arguments.length===1?mp(e):new Wt(e,t,n,o??1)}function Wt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Eu(Wt,Kb,gp(Es,{brighter(e){return e=e==null?ki:Math.pow(ki,e),new Wt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?os:Math.pow(os,e),new Wt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Rt(za(e>=240?e-240:e+120,r,o),za(e,r,o),za(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Wt(zc(this.h),Ds(this.s),Ds(this.l),Ei(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ei(this.opacity);return`${e===1?"hsl(":"hsla("}${zc(this.h)}, ${Ds(this.s)*100}%, ${Ds(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zc(e){return e=(e||0)%360,e<0?e+360:e}function Ds(e){return Math.max(0,Math.min(1,e||0))}function za(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const $u=e=>()=>e;function Jb(e,t){return function(n){return e+n*t}}function Qb(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function ex(e){return(e=+e)==1?yp:function(t,n){return n-t?Qb(t,n,e):$u(isNaN(t)?n:t)}}function yp(e,t){var n=t-e;return n?Jb(e,n):$u(isNaN(e)?t:e)}const $i=(function e(t){var n=ex(t);function o(r,s){var i=n((r=yl(r)).r,(s=yl(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),u=yp(r.opacity,s.opacity);return function(c){return r.r=i(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return o.gamma=e,o})(1);function tx(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),r;return function(s){for(r=0;r<n;++r)o[r]=e[r]*(1-s)+t[r]*s;return o}}function nx(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ox(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,r=new Array(o),s=new Array(n),i;for(i=0;i<o;++i)r[i]=jr(e[i],t[i]);for(;i<n;++i)s[i]=t[i];return function(a){for(i=0;i<o;++i)s[i]=r[i](a);return s}}function rx(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function sn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sx(e,t){var n={},o={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=jr(e[r],t[r]):o[r]=t[r];return function(s){for(r in n)o[r]=n[r](s);return o}}var vl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ha=new RegExp(vl.source,"g");function ix(e){return function(){return e}}function ax(e){return function(t){return e(t)+""}}function vp(e,t){var n=vl.lastIndex=Ha.lastIndex=0,o,r,s,i=-1,a=[],l=[];for(e=e+"",t=t+"";(o=vl.exec(e))&&(r=Ha.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(o=o[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,l.push({i,x:sn(o,r)})),n=Ha.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?l[0]?ax(l[0].x):ix(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function jr(e,t){var n=typeof t,o;return t==null||n==="boolean"?$u(t):(n==="number"?sn:n==="string"?(o=$o(t))?(t=o,$i):vp:t instanceof $o?$i:t instanceof Date?rx:nx(t)?tx:Array.isArray(t)?ox:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sx:sn)(e,t)}var Hc=180/Math.PI,bl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bp(e,t,n,o,r,s){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,l/=a),e*o<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Hc,skewX:Math.atan(l)*Hc,scaleX:i,scaleY:a}}var Ps;function lx(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?bl:bp(t.a,t.b,t.c,t.d,t.e,t.f)}function ux(e){return e==null||(Ps||(Ps=document.createElementNS("http://www.w3.org/2000/svg","g")),Ps.setAttribute("transform",e),!(e=Ps.transform.baseVal.consolidate()))?bl:(e=e.matrix,bp(e.a,e.b,e.c,e.d,e.e,e.f))}function xp(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function s(u,c,d,h,f,m){if(u!==d||c!==h){var v=f.push("translate(",null,t,null,n);m.push({i:v-4,x:sn(u,d)},{i:v-2,x:sn(c,h)})}else(d||h)&&f.push("translate("+d+t+h+n)}function i(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(r(d)+"rotate(",null,o)-2,x:sn(u,c)})):c&&d.push(r(d)+"rotate("+c+o)}function a(u,c,d,h){u!==c?h.push({i:d.push(r(d)+"skewX(",null,o)-2,x:sn(u,c)}):c&&d.push(r(d)+"skewX("+c+o)}function l(u,c,d,h,f,m){if(u!==d||c!==h){var v=f.push(r(f)+"scale(",null,",",null,")");m.push({i:v-4,x:sn(u,d)},{i:v-2,x:sn(c,h)})}else(d!==1||h!==1)&&f.push(r(f)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,h),i(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(f){for(var m=-1,v=h.length,g;++m<v;)d[(g=h[m]).i]=g.x(f);return d.join("")}}}var cx=xp(lx,"px, ","px)","deg)"),dx=xp(ux,", ",")",")"),fx=1e-12;function Lc(e){return((e=Math.exp(e))+1/e)/2}function hx(e){return((e=Math.exp(e))-1/e)/2}function px(e){return((e=Math.exp(2*e))-1)/(e+1)}const Js=(function e(t,n,o){function r(s,i){var a=s[0],l=s[1],u=s[2],c=i[0],d=i[1],h=i[2],f=c-a,m=d-l,v=f*f+m*m,g,y;if(v<fx)y=Math.log(h/u)/t,g=function(j){return[a+j*f,l+j*m,u*Math.exp(t*j*y)]};else{var E=Math.sqrt(v),_=(h*h-u*u+o*v)/(2*u*n*E),O=(h*h-u*u-o*v)/(2*h*n*E),X=Math.log(Math.sqrt(_*_+1)-_),U=Math.log(Math.sqrt(O*O+1)-O);y=(U-X)/t,g=function(j){var M=j*y,B=Lc(X),Y=u/(n*E)*(B*px(t*M+X)-hx(X));return[a+Y*f,l+Y*m,u*B/Lc(t*M+X)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return r.rho=function(s){var i=Math.max(.001,+s),a=i*i,l=a*a;return e(i,a,l)},r})(Math.SQRT2,2,4);var er=0,Cr=0,br=0,_p=1e3,Si,Nr,Ci=0,So=0,ca=0,ss=typeof performance=="object"&&performance.now?performance:Date,wp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Su(){return So||(wp(gx),So=ss.now()+ca)}function gx(){So=0}function Ni(){this._call=this._time=this._next=null}Ni.prototype=kp.prototype={constructor:Ni,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Su():+n)+(t==null?0:+t),!this._next&&Nr!==this&&(Nr?Nr._next=this:Si=this,Nr=this),this._call=e,this._time=n,xl()},stop:function(){this._call&&(this._call=null,this._time=1/0,xl())}};function kp(e,t,n){var o=new Ni;return o.restart(e,t,n),o}function mx(){Su(),++er;for(var e=Si,t;e;)(t=So-e._time)>=0&&e._call.call(void 0,t),e=e._next;--er}function Fc(){So=(Ci=ss.now())+ca,er=Cr=0;try{mx()}finally{er=0,vx(),So=0}}function yx(){var e=ss.now(),t=e-Ci;t>_p&&(ca-=t,Ci=e)}function vx(){for(var e,t=Si,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Si=n);Nr=e,xl(o)}function xl(e){if(!er){Cr&&(Cr=clearTimeout(Cr));var t=e-So;t>24?(e<1/0&&(Cr=setTimeout(Fc,e-ss.now()-ca)),br&&(br=clearInterval(br))):(br||(Ci=ss.now(),br=setInterval(yx,_p)),er=1,wp(Fc))}}function Bc(e,t,n){var o=new Ni;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var bx=la("start","end","cancel","interrupt"),xx=[],Ep=0,jc=1,_l=2,Qs=3,Uc=4,wl=5,ei=6;function da(e,t,n,o,r,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;_x(e,n,{name:t,index:o,group:r,on:bx,tween:xx,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ep})}function Cu(e,t){var n=Qt(e,t);if(n.state>Ep)throw new Error("too late; already scheduled");return n}function yn(e,t){var n=Qt(e,t);if(n.state>Qs)throw new Error("too late; already running");return n}function Qt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function _x(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=kp(s,0,n.time);function s(u){n.state=jc,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,h,f;if(n.state!==jc)return l();for(c in o)if(f=o[c],f.name===n.name){if(f.state===Qs)return Bc(i);f.state===Uc?(f.state=ei,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=ei,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[c])}if(Bc(function(){n.state===Qs&&(n.state=Uc,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=_l,n.on.call("start",e,e.__data__,n.index,n.group),n.state===_l){for(n.state=Qs,r=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=f);r.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=wl,1),d=-1,h=r.length;++d<h;)r[d].call(e,c);n.state===wl&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ei,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function ti(e,t){var n=e.__transition,o,r,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){s=!1;continue}r=o.state>_l&&o.state<wl,o.state=ei,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}s&&delete e.__transition}}function wx(e){return this.each(function(){ti(this,e)})}function kx(e,t){var n,o;return function(){var r=yn(this,e),s=r.tween;if(s!==n){o=n=s;for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}r.tween=o}}function Ex(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var s=yn(this,e),i=s.tween;if(i!==o){r=(o=i).slice();for(var a={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=a;break}l===u&&r.push(a)}s.tween=r}}function $x(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Qt(this.node(),n).tween,r=0,s=o.length,i;r<s;++r)if((i=o[r]).name===e)return i.value;return null}return this.each((t==null?kx:Ex)(n,e,t))}function Nu(e,t,n){var o=e._id;return e.each(function(){var r=yn(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Qt(r,o).value[t]}}function $p(e,t){var n;return(typeof t=="number"?sn:t instanceof $o?$i:(n=$o(t))?(t=n,$i):vp)(e,t)}function Sx(e){return function(){this.removeAttribute(e)}}function Cx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Nx(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttribute(e);return i===r?null:i===o?s:s=t(o=i,n)}}function Tx(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===o?s:s=t(o=i,n)}}function Ix(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function Ax(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function Ox(e,t){var n=ua(e),o=n==="transform"?dx:$p;return this.attrTween(e,typeof t=="function"?(n.local?Ax:Ix)(n,o,Nu(this,"attr."+e,t)):t==null?(n.local?Cx:Sx)(n):(n.local?Tx:Nx)(n,o,t))}function Mx(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Dx(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Px(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&Dx(e,s)),n}return r._value=t,r}function Rx(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&Mx(e,s)),n}return r._value=t,r}function Vx(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=ua(e);return this.tween(n,(o.local?Px:Rx)(o,t))}function zx(e,t){return function(){Cu(this,e).delay=+t.apply(this,arguments)}}function Hx(e,t){return t=+t,function(){Cu(this,e).delay=t}}function Lx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zx:Hx)(t,e)):Qt(this.node(),t).delay}function Fx(e,t){return function(){yn(this,e).duration=+t.apply(this,arguments)}}function Bx(e,t){return t=+t,function(){yn(this,e).duration=t}}function jx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Fx:Bx)(t,e)):Qt(this.node(),t).duration}function Ux(e,t){if(typeof t!="function")throw new Error;return function(){yn(this,e).ease=t}}function Yx(e){var t=this._id;return arguments.length?this.each(Ux(t,e)):Qt(this.node(),t).ease}function Wx(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;yn(this,e).ease=n}}function Gx(e){if(typeof e!="function")throw new Error;return this.each(Wx(this._id,e))}function Zx(e){typeof e!="function"&&(e=op(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Rn(o,this._parents,this._name,this._id)}function qx(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),i=new Array(o),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=i[a]=new Array(c),h,f=0;f<c;++f)(h=l[f]||u[f])&&(d[f]=h);for(;a<o;++a)i[a]=t[a];return new Rn(i,this._parents,this._name,this._id)}function Xx(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Kx(e,t,n){var o,r,s=Xx(t)?Cu:yn;return function(){var i=s(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}function Jx(e,t){var n=this._id;return arguments.length<2?Qt(this.node(),n).on.on(e):this.each(Kx(n,e,t))}function Qx(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function e_(){return this.on("end.remove",Qx(this._id))}function t_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wu(e));for(var o=this._groups,r=o.length,s=new Array(r),i=0;i<r;++i)for(var a=o[i],l=a.length,u=s[i]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=e.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,da(u[h],t,n,h,u,Qt(c,n)));return new Rn(s,this._parents,t,n)}function n_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=np(e));for(var o=this._groups,r=o.length,s=[],i=[],a=0;a<r;++a)for(var l=o[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=e.call(c,c.__data__,d,l),f,m=Qt(c,n),v=0,g=h.length;v<g;++v)(f=h[v])&&da(f,t,n,v,h,m);s.push(h),i.push(c)}return new Rn(s,i,t,n)}var o_=ks.prototype.constructor;function r_(){return new o_(this._groups,this._parents)}function s_(e,t){var n,o,r;return function(){var s=Qo(this,e),i=(this.style.removeProperty(e),Qo(this,e));return s===i?null:s===n&&i===o?r:r=t(n=s,o=i)}}function Sp(e){return function(){this.style.removeProperty(e)}}function i_(e,t,n){var o,r=n+"",s;return function(){var i=Qo(this,e);return i===r?null:i===o?s:s=t(o=i,n)}}function a_(e,t,n){var o,r,s;return function(){var i=Qo(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Qo(this,e))),i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a))}}function l_(e,t){var n,o,r,s="style."+t,i="end."+s,a;return function(){var l=yn(this,e),u=l.on,c=l.value[s]==null?a||(a=Sp(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(i,r=c),l.on=o}}function u_(e,t,n){var o=(e+="")=="transform"?cx:$p;return t==null?this.styleTween(e,s_(e,o)).on("end.style."+e,Sp(e)):typeof t=="function"?this.styleTween(e,a_(e,o,Nu(this,"style."+e,t))).each(l_(this._id,e)):this.styleTween(e,i_(e,o,t),n).on("end.style."+e,null)}function c_(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function d_(e,t,n){var o,r;function s(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&c_(e,i,n)),o}return s._value=t,s}function f_(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,d_(e,t,n??""))}function h_(e){return function(){this.textContent=e}}function p_(e){return function(){var t=e(this);this.textContent=t??""}}function g_(e){return this.tween("text",typeof e=="function"?p_(Nu(this,"text",e)):h_(e==null?"":e+""))}function m_(e){return function(t){this.textContent=e.call(this,t)}}function y_(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&m_(r)),t}return o._value=e,o}function v_(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,y_(e))}function b_(){for(var e=this._name,t=this._id,n=Cp(),o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)if(l=i[u]){var c=Qt(l,t);da(l,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Rn(o,this._parents,e,n)}function x_(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(s,i){var a={value:i},l={value:function(){--r===0&&s()}};n.each(function(){var u=yn(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),r===0&&s()})}var __=0;function Rn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Cp(){return++__}var xn=ks.prototype;Rn.prototype={constructor:Rn,select:t_,selectAll:n_,selectChild:xn.selectChild,selectChildren:xn.selectChildren,filter:Zx,merge:qx,selection:r_,transition:b_,call:xn.call,nodes:xn.nodes,node:xn.node,size:xn.size,empty:xn.empty,each:xn.each,on:Jx,attr:Ox,attrTween:Vx,style:u_,styleTween:f_,text:g_,textTween:v_,remove:e_,tween:$x,delay:Lx,duration:jx,ease:Yx,easeVarying:Gx,end:x_,[Symbol.iterator]:xn[Symbol.iterator]};function w_(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var k_={time:null,delay:0,duration:250,ease:w_};function E_(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function $_(e){var t,n;e instanceof Rn?(t=e._id,e=e._name):(t=Cp(),(n=k_).time=Su(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&da(l,e,t,u,i,n||E_(l,t));return new Rn(o,this._parents,e,t)}ks.prototype.interrupt=wx;ks.prototype.transition=$_;const Rs=e=>()=>e;function S_(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Cn(e,t,n){this.k=e,this.x=t,this.y=n}Cn.prototype={constructor:Cn,scale:function(e){return e===1?this:new Cn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Cn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tr=new Cn(1,0,0);Cn.prototype;function La(e){e.stopImmediatePropagation()}function xr(e){e.preventDefault(),e.stopImmediatePropagation()}function C_(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function N_(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Yc(){return this.__zoom||tr}function T_(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function I_(){return navigator.maxTouchPoints||"ontouchstart"in this}function A_(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function O_(){var e=C_,t=N_,n=A_,o=T_,r=I_,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Js,u=la("start","zoom","end"),c,d,h,f=500,m=150,v=0,g=10;function y(p){p.property("__zoom",Yc).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",Y).filter(r).on("touchstart.zoom",H).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(p,A,$,z){var V=p.selection?p.selection():p;V.property("__zoom",Yc),p!==V?X(p,A,$,z):V.interrupt().each(function(){U(this,arguments).event(z).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},y.scaleBy=function(p,A,$,z){y.scaleTo(p,function(){var V=this.__zoom.k,J=typeof A=="function"?A.apply(this,arguments):A;return V*J},$,z)},y.scaleTo=function(p,A,$,z){y.transform(p,function(){var V=t.apply(this,arguments),J=this.__zoom,Z=$==null?O(V):typeof $=="function"?$.apply(this,arguments):$,oe=J.invert(Z),de=typeof A=="function"?A.apply(this,arguments):A;return n(_(E(J,de),Z,oe),V,i)},$,z)},y.translateBy=function(p,A,$,z){y.transform(p,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),i)},null,z)},y.translateTo=function(p,A,$,z,V){y.transform(p,function(){var J=t.apply(this,arguments),Z=this.__zoom,oe=z==null?O(J):typeof z=="function"?z.apply(this,arguments):z;return n(tr.translate(oe[0],oe[1]).scale(Z.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof $=="function"?-$.apply(this,arguments):-$),J,i)},z,V)};function E(p,A){return A=Math.max(s[0],Math.min(s[1],A)),A===p.k?p:new Cn(A,p.x,p.y)}function _(p,A,$){var z=A[0]-$[0]*p.k,V=A[1]-$[1]*p.k;return z===p.x&&V===p.y?p:new Cn(p.k,z,V)}function O(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function X(p,A,$,z){p.on("start.zoom",function(){U(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){U(this,arguments).event(z).end()}).tween("zoom",function(){var V=this,J=arguments,Z=U(V,J).event(z),oe=t.apply(V,J),de=$==null?O(oe):typeof $=="function"?$.apply(V,J):$,K=Math.max(oe[1][0]-oe[0][0],oe[1][1]-oe[0][1]),ae=V.__zoom,ue=typeof A=="function"?A.apply(V,J):A,pe=l(ae.invert(de).concat(K/ae.k),ue.invert(de).concat(K/ue.k));return function(q){if(q===1)q=ue;else{var se=pe(q),ie=K/se[2];q=new Cn(ie,de[0]-se[0]*ie,de[1]-se[1]*ie)}Z.zoom(null,q)}})}function U(p,A,$){return!$&&p.__zooming||new j(p,A)}function j(p,A){this.that=p,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,A),this.taps=0}j.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,A){return this.mouse&&p!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var A=Yt(this.that).datum();u.call(p,this.that,new S_(p,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),A)}};function M(p,...A){if(!e.apply(this,arguments))return;var $=U(this,A).event(p),z=this.__zoom,V=Math.max(s[0],Math.min(s[1],z.k*Math.pow(2,o.apply(this,arguments)))),J=on(p);if($.wheel)($.mouse[0][0]!==J[0]||$.mouse[0][1]!==J[1])&&($.mouse[1]=z.invert($.mouse[0]=J)),clearTimeout($.wheel);else{if(z.k===V)return;$.mouse=[J,z.invert(J)],ti(this),$.start()}xr(p),$.wheel=setTimeout(Z,m),$.zoom("mouse",n(_(E(z,V),$.mouse[0],$.mouse[1]),$.extent,i));function Z(){$.wheel=null,$.end()}}function B(p,...A){if(h||!e.apply(this,arguments))return;var $=p.currentTarget,z=U(this,A,!0).event(p),V=Yt(p.view).on("mousemove.zoom",de,!0).on("mouseup.zoom",K,!0),J=on(p,$),Z=p.clientX,oe=p.clientY;hp(p.view),La(p),z.mouse=[J,this.__zoom.invert(J)],ti(this),z.start();function de(ae){if(xr(ae),!z.moved){var ue=ae.clientX-Z,pe=ae.clientY-oe;z.moved=ue*ue+pe*pe>v}z.event(ae).zoom("mouse",n(_(z.that.__zoom,z.mouse[0]=on(ae,$),z.mouse[1]),z.extent,i))}function K(ae){V.on("mousemove.zoom mouseup.zoom",null),pp(ae.view,z.moved),xr(ae),z.event(ae).end()}}function Y(p,...A){if(e.apply(this,arguments)){var $=this.__zoom,z=on(p.changedTouches?p.changedTouches[0]:p,this),V=$.invert(z),J=$.k*(p.shiftKey?.5:2),Z=n(_(E($,J),z,V),t.apply(this,A),i);xr(p),a>0?Yt(this).transition().duration(a).call(X,Z,z,p):Yt(this).call(y.transform,Z,z,p)}}function H(p,...A){if(e.apply(this,arguments)){var $=p.touches,z=$.length,V=U(this,A,p.changedTouches.length===z).event(p),J,Z,oe,de;for(La(p),Z=0;Z<z;++Z)oe=$[Z],de=on(oe,this),de=[de,this.__zoom.invert(de),oe.identifier],V.touch0?!V.touch1&&V.touch0[2]!==de[2]&&(V.touch1=de,V.taps=0):(V.touch0=de,J=!0,V.taps=1+!!c);c&&(c=clearTimeout(c)),J&&(V.taps<2&&(d=de[0],c=setTimeout(function(){c=null},f)),ti(this),V.start())}}function N(p,...A){if(this.__zooming){var $=U(this,A).event(p),z=p.changedTouches,V=z.length,J,Z,oe,de;for(xr(p),J=0;J<V;++J)Z=z[J],oe=on(Z,this),$.touch0&&$.touch0[2]===Z.identifier?$.touch0[0]=oe:$.touch1&&$.touch1[2]===Z.identifier&&($.touch1[0]=oe);if(Z=$.that.__zoom,$.touch1){var K=$.touch0[0],ae=$.touch0[1],ue=$.touch1[0],pe=$.touch1[1],q=(q=ue[0]-K[0])*q+(q=ue[1]-K[1])*q,se=(se=pe[0]-ae[0])*se+(se=pe[1]-ae[1])*se;Z=E(Z,Math.sqrt(q/se)),oe=[(K[0]+ue[0])/2,(K[1]+ue[1])/2],de=[(ae[0]+pe[0])/2,(ae[1]+pe[1])/2]}else if($.touch0)oe=$.touch0[0],de=$.touch0[1];else return;$.zoom("touch",n(_(Z,oe,de),$.extent,i))}}function W(p,...A){if(this.__zooming){var $=U(this,A).event(p),z=p.changedTouches,V=z.length,J,Z;for(La(p),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),J=0;J<V;++J)Z=z[J],$.touch0&&$.touch0[2]===Z.identifier?delete $.touch0:$.touch1&&$.touch1[2]===Z.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(Z=on(Z,this),Math.hypot(d[0]-Z[0],d[1]-Z[1])<g)){var oe=Yt(this).on("dblclick.zoom");oe&&oe.apply(this,arguments)}}}return y.wheelDelta=function(p){return arguments.length?(o=typeof p=="function"?p:Rs(+p),y):o},y.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Rs(!!p),y):e},y.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Rs(!!p),y):r},y.extent=function(p){return arguments.length?(t=typeof p=="function"?p:Rs([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),y):t},y.scaleExtent=function(p){return arguments.length?(s[0]=+p[0],s[1]=+p[1],y):[s[0],s[1]]},y.translateExtent=function(p){return arguments.length?(i[0][0]=+p[0][0],i[1][0]=+p[1][0],i[0][1]=+p[0][1],i[1][1]=+p[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(p){return arguments.length?(n=p,y):n},y.duration=function(p){return arguments.length?(a=+p,y):a},y.interpolate=function(p){return arguments.length?(l=p,y):l},y.on=function(){var p=u.on.apply(u,arguments);return p===u?y:p},y.clickDistance=function(p){return arguments.length?(v=(p=+p)*p,y):Math.sqrt(v)},y.tapDistance=function(p){return arguments.length?(g=+p,y):g},y}var Se=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(Se||{}),Tu=(e=>(e.Partial="partial",e.Full="full",e))(Tu||{}),ho=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(ho||{}),Vn=(e=>(e.Strict="strict",e.Loose="loose",e))(Vn||{}),kl=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(kl||{}),Ur=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Ur||{}),Np=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(Np||{});const M_=["INPUT","SELECT","TEXTAREA"],D_=typeof document<"u"?document:null;function El(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=typeof(o==null?void 0:o.hasAttribute)=="function"?o.hasAttribute("contenteditable"):!1,s=typeof(o==null?void 0:o.closest)=="function"?o.closest(".nokey"):null;return M_.includes(o==null?void 0:o.nodeName)||r||!!s}function P_(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Wc(e,t,n,o){const r=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(i=>i.trim().toLowerCase());if(r.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const s=r.every((i,a)=>n.has(i)&&Array.from(n.values())[a]===r[a]);return o&&n.delete(e.toLowerCase()),s}function R_(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=V_(n.code,e);return Array.isArray(e)?e.some(r=>Wc(n[o],r,t,n.type==="keyup")):Wc(n[o],e,t,n.type==="keyup")}}function V_(e,t){return t.includes(e)?"code":"key"}function Yr(e,t){const n=ne(()=>Ge(t==null?void 0:t.target)??D_),o=Zo(Ge(e)===!0);let r=!1;const s=new Set;let i=l(Ge(e));Oe(()=>Ge(e),(u,c)=>{typeof c=="boolean"&&typeof u!="boolean"&&a(),i=l(u)},{immediate:!0}),ep(["blur","contextmenu"],a),Nc((...u)=>i(...u),u=>{var c,d;const h=Ge(t==null?void 0:t.actInsideInputWithModifier)??!0,f=Ge(t==null?void 0:t.preventDefault)??!1;if(r=P_(u),(!r||r&&!h)&&El(u))return;const v=((d=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:d[0])||u.target,g=(v==null?void 0:v.nodeName)==="BUTTON"||(v==null?void 0:v.nodeName)==="A";!f&&(r||!g)&&u.preventDefault(),o.value=!0},{eventName:"keydown",target:n}),Nc((...u)=>i(...u),u=>{const c=Ge(t==null?void 0:t.actInsideInputWithModifier)??!0;if(o.value){if((!r||r&&!c)&&El(u))return;r=!1,o.value=!1}},{eventName:"keyup",target:n});function a(){r=!1,s.clear(),o.value=Ge(e)===!0}function l(u){return u===null?(a(),()=>!1):typeof u=="boolean"?(a(),o.value=u,()=>!1):Array.isArray(u)||typeof u=="string"?R_(u,s):u}return o}const Tp="vue-flow__node-desc",Ip="vue-flow__edge-desc",z_="vue-flow__aria-live",Ap=["Enter"," ","Escape"],Wo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Ti(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function Ii(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function fa(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Co(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Op(e,t){return{x:Co(e.x,t[0][0],t[1][0]),y:Co(e.y,t[0][1],t[1][1])}}function Gc(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function so(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function wo(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!so(e)}function Tr(e){return wo(e)&&"computedPosition"in e}function Vs(e){return!Number.isNaN(e)&&Number.isFinite(e)}function H_(e){return Vs(e.width)&&Vs(e.height)&&Vs(e.x)&&Vs(e.y)}function L_(e,t,n){const o={id:e.id.toString(),type:e.type??"default",dimensions:bo({width:0,height:0}),computedPosition:bo({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:yt(e.data)?e.data:{},events:bo(yt(e.events)?e.events:{})};return Object.assign(t??o,e,{id:e.id.toString(),parentNode:n})}function Mp(e,t,n){var o,r;const s={id:e.id.toString(),type:e.type??(t==null?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(r=e.targetHandle)==null?void 0:r.toString(),updatable:e.updatable??(n==null?void 0:n.updatable),selectable:e.selectable??(n==null?void 0:n.selectable),focusable:e.focusable??(n==null?void 0:n.focusable),data:yt(e.data)?e.data:{},events:bo(yt(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(t??s,e,{id:e.id.toString()})}function Dp(e,t,n,o){const r=typeof e=="string"?e:e.id,s=new Set,i=o==="source"?"target":"source";for(const a of n)a[i]===r&&s.add(a[o]);return t.filter(a=>s.has(a.id))}function F_(...e){if(e.length===3){const[s,i,a]=e;return Dp(s,i,a,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(s=>so(s)&&s.source===o).map(s=>n.find(i=>wo(i)&&i.id===s.target))}function B_(...e){if(e.length===3){const[s,i,a]=e;return Dp(s,i,a,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(s=>so(s)&&s.target===o).map(s=>n.find(i=>wo(i)&&i.id===s.source))}function Pp({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function j_(e,t){return t.some(n=>so(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function is({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function as({x:e,y:t},{x:n,y:o,zoom:r},s=!1,i=[1,1]){const a={x:(e-n)/r,y:(t-o)/r};return s?ha(a,i):a}function Rp(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Ai({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function Vp({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function U_(e,t){return Vp(Rp(Ai(e),Ai(t)))}function Iu(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=Rp(t,Ai({...o.computedPosition,...o.dimensions}))}return Vp(t)}function zp(e,t,n={x:0,y:0,zoom:1},o=!1,r=!1){const s={...as(t,n),width:t.width/n.zoom,height:t.height/n.zoom},i=[];for(const a of e){const{dimensions:l,selectable:u=!0,hidden:c=!1}=a,d=l.width??a.width??null,h=l.height??a.height??null;if(r&&!u||c)continue;const f=Ii(s,Ti(a)),m=d===null||h===null,v=o&&f>0,g=(d??0)*(h??0);(m||v||f>=g||a.dragging)&&i.push(a)}return i}function po(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function Po(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return $s(`The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Y_(e,t,n){if(typeof e=="string"||typeof e=="number"){const o=Po(e,n),r=Po(e,t);return{top:o,right:r,bottom:o,left:r,x:r*2,y:o*2}}if(typeof e=="object"){const o=Po(e.top??e.y??0,n),r=Po(e.bottom??e.y??0,n),s=Po(e.left??e.x??0,t),i=Po(e.right??e.x??0,t);return{top:o,right:i,bottom:r,left:s,x:s+i,y:o+r}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function W_(e,t,n,o,r,s){const{x:i,y:a}=is(e,{x:t,y:n,zoom:o}),{x:l,y:u}=is({x:e.x+e.width,y:e.y+e.height},{x:t,y:n,zoom:o}),c=r-l,d=s-u;return{left:Math.floor(i),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(d)}}function Zc(e,t,n,o,r,s=.1){const i=Y_(s,t,n),a=(t-i.x)/e.width,l=(n-i.y)/e.height,u=Math.min(a,l),c=Co(u,o,r),d=e.x+e.width/2,h=e.y+e.height/2,f=t/2-d*c,m=n/2-h*c,v=W_(e,f,m,c,t,n),g={left:Math.min(v.left-i.left,0),top:Math.min(v.top-i.top,0),right:Math.min(v.right-i.right,0),bottom:Math.min(v.bottom-i.bottom,0)};return{x:f-g.left+g.right,y:m-g.top+g.bottom,zoom:c}}function G_(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function Hp(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:Hp(n,t):!1}function ls(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function $l(e){const t=e.ctrlKey&&us()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function qc(e,t,n){return e<t?Co(Math.abs(e-t),1,t)/t:e>n?-Co(Math.abs(e-n),1,t)/t:0}function Lp(e,t,n=15,o=40){const r=qc(e.x,o,t.width-o)*n,s=qc(e.y,o,t.height-o)*n;return[r,s]}function Fa(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let r={};if(typeof t.style=="function"?r={...t.style(t)}:t.style&&(r={...t.style}),r.width=r.width??`${t.dimensions.width}px`,r.height=r.height??`${t.dimensions.height}px`,n>0)if(typeof r.width=="string"){const s=Number(r.width.replace("px",""));r.width=`${s+n}px`}else r.width+=n;if(o>0)if(typeof r.height=="string"){const s=Number(r.height.replace("px",""));r.height=`${s+o}px`}else r.height+=o;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,typeof r.width=="string"){const i=Number(r.width.replace("px",""));r.width=`${i+s}px`}else r.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,typeof r.height=="string"){const i=Number(r.height.replace("px",""));r.height=`${i+s}px`}else r.height+=s;e.position.y=0}t.dimensions.width=Number(r.width.toString().replace("px","")),t.dimensions.height=Number(r.height.toString().replace("px","")),typeof t.style=="function"?t.style=s=>{const i=t.style;return{...i(s),...r}}:t.style={...t.style,...r}}}}function Xc(e,t){var n,o;const r=e.filter(i=>i.type==="add"||i.type==="remove");for(const i of r)if(i.type==="add")t.findIndex(l=>l.id===i.item.id)===-1&&t.push(i.item);else if(i.type==="remove"){const a=t.findIndex(l=>l.id===i.id);a!==-1&&t.splice(a,1)}const s=t.map(i=>i.id);for(const i of t)for(const a of e)if(a.id===i.id)switch(a.type){case"select":i.selected=a.selected;break;case"position":if(Tr(i)&&(typeof a.position<"u"&&(i.position=a.position),typeof a.dragging<"u"&&(i.dragging=a.dragging),i.expandParent&&i.parentNode)){const l=t[s.indexOf(i.parentNode)];l&&Tr(l)&&Fa(i,l)}break;case"dimensions":if(Tr(i)&&(typeof a.dimensions<"u"&&(i.dimensions=a.dimensions),typeof a.updateStyle<"u"&&a.updateStyle&&(i.style={...i.style||{},width:`${(n=a.dimensions)==null?void 0:n.width}px`,height:`${(o=a.dimensions)==null?void 0:o.height}px`}),typeof a.resizing<"u"&&(i.resizing=a.resizing),i.expandParent&&i.parentNode)){const l=t[s.indexOf(i.parentNode)];l&&Tr(l)&&(!!l.dimensions.width&&!!l.dimensions.height?Fa(i,l):Dt(()=>{Fa(i,l)}))}break}return t}function Yn(e,t){return{id:e,type:"select",selected:t}}function Kc(e){return{item:e,type:"add"}}function Jc(e){return{id:e,type:"remove"}}function Qc(e,t,n,o,r){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:r||null,type:"remove"}}function qn(e,t=new Set,n=!1){const o=[];for(const[r,s]of e){const i=t.has(r);!(s.selected===void 0&&!i)&&s.selected!==i&&(n&&(s.selected=i),o.push(Yn(s.id,i)))}return o}const ed=()=>{};function _e(e){const t=new Set;let n=ed,o=()=>!1;const r=()=>t.size>0||o(),s=h=>{n=h},i=()=>{n=ed},a=h=>{o=h},l=()=>{o=()=>!1},u=h=>{t.delete(h)};return{on:h=>{t.add(h);const f=()=>u(h);return ts(f),{off:f}},off:u,trigger:h=>{const f=[n];return r()?f.push(...t):e&&f.push(e),Promise.allSettled(f.map(m=>m(h)))},hasListeners:r,listeners:t,setEmitter:s,removeEmitter:i,setHasEmitListeners:a,removeHasEmitListeners:l}}function td(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function Z_(e,t,n,o){var r,s;const i=new Map;for(const[a,l]of e)(l.selected||l.id===o)&&(!l.parentNode||!Hp(l,e))&&(l.draggable||t&&typeof l.draggable>"u")&&e.get(a)&&i.set(a,{id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((r=l.computedPosition)==null?void 0:r.x)||0,y:n.y-((s=l.computedPosition)==null?void 0:s.y)||0},from:{x:l.computedPosition.x,y:l.computedPosition.y},extent:l.extent,parentNode:l.parentNode,dimensions:{...l.dimensions},expandParent:l.expandParent});return Array.from(i.values())}function Ba({id:e,dragItems:t,findNode:n}){const o=[];for(const r of t){const s=n(r.id);s&&o.push(s)}return[e?o.find(r=>r.id===e):o[0],o]}function Fp(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function q_(e,t,n){const[o,r,s,i]=typeof e!="string"?Fp(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+i,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-s]]:!1}function X_(e,t,n,o){let r=e.extent||n;if((r==="parent"||!Array.isArray(r)&&(r==null?void 0:r.range)==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const s=q_(r,e,o);s&&(r=s)}else t(new xt(vt.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){const s=(o==null?void 0:o.computedPosition.x)||0,i=(o==null?void 0:o.computedPosition.y)||0;r=[[r[0][0]+s,r[0][1]+i],[r[1][0]+s,r[1][1]+i]]}else if(r!=="parent"&&(r!=null&&r.range)&&Array.isArray(r.range)){const[s,i,a,l]=Fp(r.padding),u=(o==null?void 0:o.computedPosition.x)||0,c=(o==null?void 0:o.computedPosition.y)||0;r=[[r.range[0][0]+u+l,r.range[0][1]+c+s],[r.range[1][0]+u-i,r.range[1][1]+c-a]]}return r==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function K_({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Au(e,t,n,o,r){const s=K_(e.dimensions,X_(e,n,o,r)),i=Op(t,s);return{position:{x:i.x-((r==null?void 0:r.computedPosition.x)||0),y:i.y-((r==null?void 0:r.computedPosition.y)||0)},computedPosition:i}}function nr(e,t,n=Se.Left,o=!1){const r=((t==null?void 0:t.x)??0)+e.computedPosition.x,s=((t==null?void 0:t.y)??0)+e.computedPosition.y,{width:i,height:a}=t??t1(e);if(o)return{x:r+i/2,y:s+a/2};switch((t==null?void 0:t.position)??n){case Se.Top:return{x:r+i/2,y:s};case Se.Right:return{x:r+i,y:s+a/2};case Se.Bottom:return{x:r+i/2,y:s+a};case Se.Left:return{x:r,y:s+a/2}}}function nd(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function J_({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:s,width:i,height:a,viewport:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Ai({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:i/l.zoom,height:a/l.zoom}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*h)>0}function Q_(e,t,n=!1){const o=typeof e.zIndex=="number";let r=o?e.zIndex:0;const s=t(e.source),i=t(e.target);return!s||!i?0:(n&&(r=o?e.zIndex:Math.max(s.computedPosition.z||0,i.computedPosition.z||0)),r)}var vt=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(vt||{});const od={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class xt extends Error{constructor(t,...n){var o;super((o=od[t])==null?void 0:o.call(od,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function Ou(e){return"clientX"in e}function e1(e){return"sourceEvent"in e}function ln(e,t){const n=Ou(e);let o,r;return n?(o=e.clientX,r=e.clientY):"touches"in e&&e.touches.length>0?(o=e.touches[0].clientX,r=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(o=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):(o=0,r=0),{x:o-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}}const us=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function t1(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function ha(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const n1=()=>!0;function ja(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function o1(e,t,n){const o=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Ii(r,Ti(s))>0&&o.push(s);return o}const r1=250;function s1(e,t,n,o){var r,s;let i=[],a=Number.POSITIVE_INFINITY;const l=o1(e,n,t+r1);for(const u of l){const c=[...((r=u.handleBounds)==null?void 0:r.source)??[],...((s=u.handleBounds)==null?void 0:s.target)??[]];for(const d of c){if(o.nodeId===d.nodeId&&o.type===d.type&&o.id===d.id)continue;const{x:h,y:f}=nr(u,d,d.position,!0),m=Math.sqrt((h-e.x)**2+(f-e.y)**2);m>t||(m<a?(i=[{...d,x:h,y:f}],a=m):m===a&&i.push({...d,x:h,y:f}))}}if(!i.length)return null;if(i.length>1){const u=o.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function rd(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:r,fromType:s,doc:i,lib:a,flowId:l,isValidConnection:u=n1},c,d,h,f){const m=s==="target",v=t?i.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y}=ln(e),E=i.elementFromPoint(g,y),_=E!=null&&E.classList.contains(`${a}-flow__handle`)?E:v,O={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const X=Bp(void 0,_),U=_.getAttribute("data-nodeid"),j=_.getAttribute("data-handleid"),M=_.classList.contains("connectable"),B=_.classList.contains("connectableend");if(!U||!X)return O;const Y={source:m?U:o,sourceHandle:m?j:r,target:m?o:U,targetHandle:m?r:j};O.connection=Y;const N=M&&B&&(n===Vn.Strict?m&&X==="source"||!m&&X==="target":U!==o||j!==r);O.isValid=N&&u(Y,{nodes:d,edges:c,sourceNode:h(Y.source),targetNode:h(Y.target)}),O.toHandle=jp(U,X,j,f,n,!0)}return O}function Bp(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function i1(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function a1(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function jp(e,t,n,o,r,s=!1){var i,a,l;const u=o.get(e);if(!u)return null;const c=r===Vn.Strict?(i=u.handleBounds)==null?void 0:i[t]:[...((a=u.handleBounds)==null?void 0:a.source)??[],...((l=u.handleBounds)==null?void 0:l.target)??[]],d=(n?c==null?void 0:c.find(h=>h.id===n):c==null?void 0:c[0])??null;return d&&s?{...d,...nr(u,d,d.position,!0)}:d}const Sl={[Se.Left]:Se.Right,[Se.Right]:Se.Left,[Se.Top]:Se.Bottom,[Se.Bottom]:Se.Top},l1=["production","prod"];function $s(e,...t){Up()&&console.warn(`[Vue Flow]: ${e}`,...t)}function Up(){return!l1.includes("production")}function sd(e,t,n,o,r){const s=t.querySelectorAll(`.vue-flow__handle.${e}`);return s!=null&&s.length?Array.from(s).map(i=>{const a=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:r,position:i.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o,...fa(i)}}):null}function Cl(e,t,n,o,r,s=!1,i){r.value=!1,e.selected?(s||e.selected&&t)&&(o([e]),Dt(()=>{i.blur()})):n([e])}function yt(e){return typeof ce(e)<"u"}function u1(e,t,n,o){if(!e||!e.source||!e.target)return n(new xt(vt.EDGE_INVALID,(e==null?void 0:e.id)??"[ID UNKNOWN]")),!1;let r;return so(e)?r=e:r={...e,id:Pp(e)},r=Mp(r,void 0,o),j_(r,t)?!1:r}function c1(e,t,n,o,r){if(!t.source||!t.target)return r(new xt(vt.EDGE_INVALID,e.id)),!1;if(!n)return r(new xt(vt.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...i}=e;return{...i,id:o?Pp(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function id(e,t,n){const o={},r=[];for(let s=0;s<e.length;++s){const i=e[s];if(!wo(i)){n(new xt(vt.NODE_INVALID,i==null?void 0:i.id)||`[ID UNKNOWN|INDEX ${s}]`);continue}const a=L_(i,t(i.id),i.parentNode);i.parentNode&&(o[i.parentNode]=!0),r[s]=a}for(const s of r){const i=t(s.parentNode)||r.find(a=>a.id===s.parentNode);s.parentNode&&!i&&n(new xt(vt.NODE_MISSING_PARENT,s.id,s.parentNode)),(s.parentNode||o[s.id])&&(o[s.id]&&(s.isParent=!0),i&&(i.isParent=!0))}return r}function ad(e,t,n,o,r,s){let i=r;const a=o.get(i)||new Map;o.set(i,a.set(n,t)),i=`${r}-${e}`;const l=o.get(i)||new Map;if(o.set(i,l.set(n,t)),s){i=`${r}-${e}-${s}`;const u=o.get(i)||new Map;o.set(i,u.set(n,t))}}function Ua(e,t,n){e.clear();for(const o of n){const{source:r,target:s,sourceHandle:i=null,targetHandle:a=null}=o,l={edgeId:o.id,source:r,target:s,sourceHandle:i,targetHandle:a},u=`${r}-${i}--${s}-${a}`,c=`${s}-${a}--${r}-${i}`;ad("source",l,c,e,r,i),ad("target",l,u,e,s,a)}}function ld(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Ya(e,t,n,o,r,s,i,a){const l=[];for(const u of e){const c=so(u)?u:u1(u,a,r,s);if(!c)continue;const d=n(c.source),h=n(c.target);if(!d||!h){r(new xt(vt.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!d){r(new xt(vt.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!h){r(new xt(vt.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:a,nodes:i,sourceNode:d,targetNode:h})){r(new xt(vt.EDGE_INVALID,c.id));continue}const f=o(c.id);l.push({...Mp(c,f,s),sourceNode:d,targetNode:h})}return l}const ud=Symbol("vueFlow"),Yp=Symbol("nodeId"),Wp=Symbol("nodeRef"),d1=Symbol("edgeId"),f1=Symbol("edgeRef"),pa=Symbol("slots");function Gp(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:r,nodeLookup:s,nodeExtent:i,nodeDragThreshold:a,viewport:l,autoPanOnNodeDrag:u,autoPanSpeed:c,nodesDraggable:d,panBy:h,findNode:f,multiSelectionActive:m,nodesSelectionActive:v,selectNodesOnDrag:g,removeSelectedElements:y,addSelectedNodes:E,updateNodePositions:_,emits:O}=at(),{onStart:X,onDrag:U,onStop:j,onClick:M,el:B,disabled:Y,id:H,selectable:N,dragHandle:W}=e,p=Zo(!1);let A=[],$,z=null,V={x:void 0,y:void 0},J={x:0,y:0},Z=null,oe=!1,de=!1,K=0,ae=!1;const ue=g1(),pe=({x:I,y:D})=>{V={x:I,y:D};let b=!1;if(A=A.map(k=>{const C={x:I-k.distance.x,y:D-k.distance.y},{computedPosition:S}=Au(k,n.value?ha(C,o.value):C,O.error,i.value,k.parentNode?f(k.parentNode):void 0);return b=b||k.position.x!==S.x||k.position.y!==S.y,k.position=S,k}),de=de||b,!!b&&(_(A,!0,!0),p.value=!0,Z)){const[k,C]=Ba({id:H,dragItems:A,findNode:f});U({event:Z,node:k,nodes:C})}},q=()=>{if(!z)return;const[I,D]=Lp(J,z,c.value);if(I!==0||D!==0){const b={x:(V.x??0)-I/l.value.zoom,y:(V.y??0)-D/l.value.zoom};h({x:I,y:D})&&pe(b)}K=requestAnimationFrame(q)},se=(I,D)=>{oe=!0;const b=f(H);!g.value&&!m.value&&b&&(b.selected||y()),b&&Ge(N)&&g.value&&Cl(b,m.value,E,y,v,!1,D);const k=ue(I.sourceEvent);if(V=k,A=Z_(s.value,d.value,k,H),A.length){const[C,S]=Ba({id:H,dragItems:A,findNode:f});X({event:I.sourceEvent,node:C,nodes:S})}},ie=(I,D)=>{var b;I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1||(de=!1,a.value===0&&se(I,D),V=ue(I.sourceEvent),z=((b=t.value)==null?void 0:b.getBoundingClientRect())||null,J=ln(I.sourceEvent,z))},ge=(I,D)=>{const b=ue(I.sourceEvent);if(!ae&&oe&&u.value&&(ae=!0,q()),!oe){const k=b.xSnapped-(V.x??0),C=b.ySnapped-(V.y??0);Math.sqrt(k*k+C*C)>a.value&&se(I,D)}(V.x!==b.xSnapped||V.y!==b.ySnapped)&&A.length&&oe&&(Z=I.sourceEvent,J=ln(I.sourceEvent,z),pe(b))},ke=I=>{let D=!1;if(!oe&&!p.value&&!m.value){const b=I.sourceEvent,k=ue(b),C=k.xSnapped-(V.x??0),S=k.ySnapped-(V.y??0),w=Math.sqrt(C*C+S*S);w!==0&&w<=a.value&&(M==null||M(b),D=!0)}if(A.length&&!D){de&&(_(A,!1,!1),de=!1);const[b,k]=Ba({id:H,dragItems:A,findNode:f});j({event:I.sourceEvent,node:b,nodes:k})}A=[],p.value=!1,ae=!1,oe=!1,V={x:void 0,y:void 0},cancelAnimationFrame(K)};return Oe([()=>Ge(Y),B],([I,D],b,k)=>{if(D){const C=Yt(D);I||($=Hb().on("start",S=>ie(S,D)).on("drag",S=>ge(S,D)).on("end",S=>ke(S)).filter(S=>{const w=S.target,P=Ge(W);return!S.button&&(!r.value||!td(w,`.${r.value}`,D)&&(!P||td(w,P,D)))}),C.call($)),k(()=>{C.on(".drag",null),$&&($.on("start",null),$.on("drag",null),$.on("end",null))})}}),p}function h1(){return{doubleClick:_e(),click:_e(),mouseEnter:_e(),mouseMove:_e(),mouseLeave:_e(),contextMenu:_e(),updateStart:_e(),update:_e(),updateEnd:_e()}}function p1(e,t){const n=h1();return n.doubleClick.on(o=>{var r,s;t.edgeDoubleClick(o),(s=(r=e.events)==null?void 0:r.doubleClick)==null||s.call(r,o)}),n.click.on(o=>{var r,s;t.edgeClick(o),(s=(r=e.events)==null?void 0:r.click)==null||s.call(r,o)}),n.mouseEnter.on(o=>{var r,s;t.edgeMouseEnter(o),(s=(r=e.events)==null?void 0:r.mouseEnter)==null||s.call(r,o)}),n.mouseMove.on(o=>{var r,s;t.edgeMouseMove(o),(s=(r=e.events)==null?void 0:r.mouseMove)==null||s.call(r,o)}),n.mouseLeave.on(o=>{var r,s;t.edgeMouseLeave(o),(s=(r=e.events)==null?void 0:r.mouseLeave)==null||s.call(r,o)}),n.contextMenu.on(o=>{var r,s;t.edgeContextMenu(o),(s=(r=e.events)==null?void 0:r.contextMenu)==null||s.call(r,o)}),n.updateStart.on(o=>{var r,s;t.edgeUpdateStart(o),(s=(r=e.events)==null?void 0:r.updateStart)==null||s.call(r,o)}),n.update.on(o=>{var r,s;t.edgeUpdate(o),(s=(r=e.events)==null?void 0:r.update)==null||s.call(r,o)}),n.updateEnd.on(o=>{var r,s;t.edgeUpdateEnd(o),(s=(r=e.events)==null?void 0:r.updateEnd)==null||s.call(r,o)}),Object.entries(n).reduce((o,[r,s])=>(o.emit[r]=s.trigger,o.on[r]=s.on,o),{emit:{},on:{}})}function g1(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:o}=at();return r=>{var s;const i=((s=o.value)==null?void 0:s.getBoundingClientRect())??{left:0,top:0},a=e1(r)?r.sourceEvent:r,{x:l,y:u}=ln(a,i),c=as({x:l,y:u},e.value),{x:d,y:h}=n.value?ha(c,t.value):c;return{xSnapped:d,ySnapped:h,...c}}}function zs(){return!0}function Zp({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:r,onEdgeUpdate:s,onEdgeUpdateEnd:i}){const{id:a,vueFlowRef:l,connectionMode:u,connectionRadius:c,connectOnClick:d,connectionClickStartHandle:h,nodesConnectable:f,autoPanOnConnect:m,autoPanSpeed:v,findNode:g,panBy:y,startConnection:E,updateConnection:_,endConnection:O,emits:X,viewport:U,edges:j,nodes:M,isValidConnection:B,nodeLookup:Y}=at();let H=null,N=!1,W=null;function p($){var z;const V=Ge(n)==="target",J=Ou($),Z=Gc($.target),oe=$.currentTarget;if(oe&&(J&&$.button===0||!J)){let de=function(Q){b=ln(Q,ke),pe=s1(as(b,U.value,!1,[1,1]),c.value,Y.value,S),k||(C(),k=!0);const ee=rd(Q,{handle:pe,connectionMode:u.value,fromNodeId:Ge(t),fromHandleId:Ge(e),fromType:V?"target":"source",isValidConnection:ue,doc:Z,lib:"vue",flowId:a,nodeLookup:Y.value},j.value,M.value,g,Y.value);W=ee.handleDomNode,H=ee.connection,N=a1(!!pe,ee.isValid);const le={...F,isValid:N,to:ee.toHandle&&N?is({x:ee.toHandle.x,y:ee.toHandle.y},U.value):b,toHandle:ee.toHandle,toPosition:N&&ee.toHandle?ee.toHandle.position:Sl[S.position],toNode:ee.toHandle?Y.value.get(ee.toHandle.nodeId):null};if(N&&pe&&(F!=null&&F.toHandle)&&le.toHandle&&F.toHandle.type===le.toHandle.type&&F.toHandle.nodeId===le.toHandle.nodeId&&F.toHandle.id===le.toHandle.id&&F.to.x===le.to.x&&F.to.y===le.to.y)return;const he=pe??ee.toHandle;if(_(he&&N?is({x:he.x,y:he.y},U.value):b,ee.toHandle,i1(!!he,N)),F=le,!pe&&!N&&!W)return ja(D);H&&H.source!==H.target&&W&&(ja(D),D=W,W.classList.add("connecting","vue-flow__handle-connecting"),W.classList.toggle("valid",!!N),W.classList.toggle("vue-flow__handle-valid",!!N))},K=function(Q){"touches"in Q&&Q.touches.length>0||((pe||W)&&H&&N&&(s?s(Q,H):X.connect(H)),X.connectEnd(Q),r&&(i==null||i(Q)),ja(D),cancelAnimationFrame(q),O(Q),k=!1,N=!1,H=null,W=null,Z.removeEventListener("mousemove",de),Z.removeEventListener("mouseup",K),Z.removeEventListener("touchmove",de),Z.removeEventListener("touchend",K))};const ae=g(Ge(t));let ue=Ge(o)||B.value||zs;!ue&&ae&&(ue=(V?ae.isValidSourcePos:ae.isValidTargetPos)||zs);let pe,q=0;const{x:se,y:ie}=ln($),ge=Bp(Ge(r),oe),ke=(z=l.value)==null?void 0:z.getBoundingClientRect();if(!ke||!ge)return;const I=jp(Ge(t),ge,Ge(e),Y.value,u.value);if(!I)return;let D,b=ln($,ke),k=!1;const C=()=>{if(!m.value)return;const[Q,ee]=Lp(b,ke,v.value);y({x:Q,y:ee}),q=requestAnimationFrame(C)},S={...I,nodeId:Ge(t),type:ge,position:I.position},w=Y.value.get(Ge(t)),T={inProgress:!0,isValid:null,from:nr(w,S,Se.Left,!0),fromHandle:S,fromPosition:S.position,fromNode:w,to:b,toHandle:null,toPosition:Sl[S.position],toNode:null};E({nodeId:Ge(t),id:Ge(e),type:ge,position:(oe==null?void 0:oe.getAttribute("data-handlepos"))||Se.Top,...b},{x:se-ke.left,y:ie-ke.top}),X.connectStart({event:$,nodeId:Ge(t),handleId:Ge(e),handleType:ge});let F=T;Z.addEventListener("mousemove",de),Z.addEventListener("mouseup",K),Z.addEventListener("touchmove",de),Z.addEventListener("touchend",K)}}function A($){var z,V;if(!d.value)return;const J=Ge(n)==="target";if(!h.value){X.clickConnectStart({event:$,nodeId:Ge(t),handleId:Ge(e)}),E({nodeId:Ge(t),type:Ge(n),id:Ge(e),position:Se.Top,...ln($)},void 0,!0);return}let Z=Ge(o)||B.value||zs;const oe=g(Ge(t));if(!Z&&oe&&(Z=(J?oe.isValidSourcePos:oe.isValidTargetPos)||zs),oe&&(typeof oe.connectable>"u"?f.value:oe.connectable)===!1)return;const de=Gc($.target),K=rd($,{handle:{nodeId:Ge(t),id:Ge(e),type:Ge(n),position:Se.Top,...ln($)},connectionMode:u.value,fromNodeId:h.value.nodeId,fromHandleId:h.value.id??null,fromType:h.value.type,isValidConnection:Z,doc:de,lib:"vue",flowId:a,nodeLookup:Y.value},j.value,M.value,g,Y.value),ae=((z=K.connection)==null?void 0:z.source)===((V=K.connection)==null?void 0:V.target);K.isValid&&K.connection&&!ae&&X.connect(K.connection),X.clickConnectEnd($),O($,!0)}return{handlePointerDown:p,handleClick:A}}function m1(){return _t(Yp,"")}function qp(e){const t=e??m1()??"",n=_t(Wp,fe(null)),{findNode:o,edges:r,emits:s}=at(),i=o(t);return i||s.error(new xt(vt.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:i,parentNode:ne(()=>o(i.parentNode)),connectedEdges:ne(()=>po([i],r.value))}}function y1(){return{doubleClick:_e(),click:_e(),mouseEnter:_e(),mouseMove:_e(),mouseLeave:_e(),contextMenu:_e(),dragStart:_e(),drag:_e(),dragStop:_e()}}function v1(e,t){const n=y1();return n.doubleClick.on(o=>{var r,s;t.nodeDoubleClick(o),(s=(r=e.events)==null?void 0:r.doubleClick)==null||s.call(r,o)}),n.click.on(o=>{var r,s;t.nodeClick(o),(s=(r=e.events)==null?void 0:r.click)==null||s.call(r,o)}),n.mouseEnter.on(o=>{var r,s;t.nodeMouseEnter(o),(s=(r=e.events)==null?void 0:r.mouseEnter)==null||s.call(r,o)}),n.mouseMove.on(o=>{var r,s;t.nodeMouseMove(o),(s=(r=e.events)==null?void 0:r.mouseMove)==null||s.call(r,o)}),n.mouseLeave.on(o=>{var r,s;t.nodeMouseLeave(o),(s=(r=e.events)==null?void 0:r.mouseLeave)==null||s.call(r,o)}),n.contextMenu.on(o=>{var r,s;t.nodeContextMenu(o),(s=(r=e.events)==null?void 0:r.contextMenu)==null||s.call(r,o)}),n.dragStart.on(o=>{var r,s;t.nodeDragStart(o),(s=(r=e.events)==null?void 0:r.dragStart)==null||s.call(r,o)}),n.drag.on(o=>{var r,s;t.nodeDrag(o),(s=(r=e.events)==null?void 0:r.drag)==null||s.call(r,o)}),n.dragStop.on(o=>{var r,s;t.nodeDragStop(o),(s=(r=e.events)==null?void 0:r.dragStop)==null||s.call(r,o)}),Object.entries(n).reduce((o,[r,s])=>(o.emit[r]=s.trigger,o.on[r]=s.on,o),{emit:{},on:{}})}function Xp(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:s,nodesDraggable:i,emits:a}=at();return(l,u=!1)=>{const c=s.value?r.value[0]:5,d=s.value?r.value[1]:5,h=u?4:1,f=l.x*c*h,m=l.y*d*h,v=[];for(const g of e.value)if(g.draggable||i&&typeof g.draggable>"u"){const y={x:g.computedPosition.x+f,y:g.computedPosition.y+m},{computedPosition:E}=Au(g,y,a.error,t.value,g.parentNode?o(g.parentNode):void 0);v.push({id:g.id,position:E,from:g.position,distance:{x:l.x,y:l.y},dimensions:g.dimensions})}n(v,!0,!1)}}const Hs=.1,b1=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function Bn(){return $s("Viewport not initialized yet."),Promise.resolve(!1)}const x1={zoomIn:Bn,zoomOut:Bn,zoomTo:Bn,fitView:Bn,setCenter:Bn,fitBounds:Bn,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:Bn,setTransform:Bn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function _1(e){function t(o,r){return new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((r==null?void 0:r.interpolate)==="linear"?jr:Js).scaleBy(Wa(e.d3Selection,r==null?void 0:r.duration,r==null?void 0:r.ease,()=>{s(!0)}),o):s(!1)})}function n(o,r,s,i){return new Promise(a=>{var l;const{x:u,y:c}=Op({x:-o,y:-r},e.translateExtent),d=tr.translate(-u,-c).scale(s);e.d3Selection&&e.d3Zoom?(l=e.d3Zoom)==null||l.interpolate((i==null?void 0:i.interpolate)==="linear"?jr:Js).transform(Wa(e.d3Selection,i==null?void 0:i.duration,i==null?void 0:i.ease,()=>{a(!0)}),d):a(!1)})}return ne(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:r=>t(1.2,r),zoomOut:r=>t(1/1.2,r),zoomTo:(r,s)=>new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((s==null?void 0:s.interpolate)==="linear"?jr:Js).scaleTo(Wa(e.d3Selection,s==null?void 0:s.duration,s==null?void 0:s.ease,()=>{i(!0)}),r):i(!1)}),setViewport:(r,s)=>n(r.x,r.y,r.zoom,s),setTransform:(r,s)=>n(r.x,r.y,r.zoom,s),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(r={padding:Hs,includeHiddenNodes:!1,duration:0})=>{var s,i;const a=[];for(const h of e.nodes)h.dimensions.width&&h.dimensions.height&&((r==null?void 0:r.includeHiddenNodes)||!h.hidden)&&(!((s=r.nodes)!=null&&s.length)||(i=r.nodes)!=null&&i.length&&r.nodes.includes(h.id))&&a.push(h);if(!a.length)return Promise.resolve(!1);const l=Iu(a),{x:u,y:c,zoom:d}=Zc(l,e.dimensions.width,e.dimensions.height,r.minZoom??e.minZoom,r.maxZoom??e.maxZoom,r.padding??Hs);return n(u,c,d,r)},setCenter:(r,s,i)=>{const a=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:e.maxZoom,l=e.dimensions.width/2-r*a,u=e.dimensions.height/2-s*a;return n(l,u,a,i)},fitBounds:(r,s={padding:Hs})=>{const{x:i,y:a,zoom:l}=Zc(r,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,s.padding??Hs);return n(i,a,l,s)},project:r=>as(r,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:r=>{if(e.vueFlowRef){const{x:s,y:i}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x-s,y:r.y-i};return as(a,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:r=>{if(e.vueFlowRef){const{x:s,y:i}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x+s,y:r.y+i};return is(a,e.viewport)}return{x:0,y:0}}}:x1)}function Wa(e,t=0,n=b1,o=()=>{}){const r=typeof t=="number"&&t>0;return r||o(),r?e.transition().duration(t).ease(n).on("end",o):e}function w1(e,t,n){const o=Ji(!0);return o.run(()=>{const r=()=>{o.run(()=>{let v,g,y=!!(n.nodes.value.length||n.edges.value.length);v=Do([e.modelValue,()=>{var E,_;return(_=(E=e.modelValue)==null?void 0:E.value)==null?void 0:_.length}],([E])=>{E&&Array.isArray(E)&&(g==null||g.pause(),n.setElements(E),!g&&!y&&E.length?y=!0:g==null||g.resume())}),g=Do([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([E,_])=>{var O;(O=e.modelValue)!=null&&O.value&&Array.isArray(e.modelValue.value)&&(v==null||v.pause(),e.modelValue.value=[...E,..._],Dt(()=>{v==null||v.resume()}))},{immediate:y}),Pr(()=>{v==null||v.stop(),g==null||g.stop()})})},s=()=>{o.run(()=>{let v,g,y=!!n.nodes.value.length;v=Do([e.nodes,()=>{var E,_;return(_=(E=e.nodes)==null?void 0:E.value)==null?void 0:_.length}],([E])=>{E&&Array.isArray(E)&&(g==null||g.pause(),n.setNodes(E),!g&&!y&&E.length?y=!0:g==null||g.resume())}),g=Do([n.nodes,()=>n.nodes.value.length],([E])=>{var _;(_=e.nodes)!=null&&_.value&&Array.isArray(e.nodes.value)&&(v==null||v.pause(),e.nodes.value=[...E],Dt(()=>{v==null||v.resume()}))},{immediate:y}),Pr(()=>{v==null||v.stop(),g==null||g.stop()})})},i=()=>{o.run(()=>{let v,g,y=!!n.edges.value.length;v=Do([e.edges,()=>{var E,_;return(_=(E=e.edges)==null?void 0:E.value)==null?void 0:_.length}],([E])=>{E&&Array.isArray(E)&&(g==null||g.pause(),n.setEdges(E),!g&&!y&&E.length?y=!0:g==null||g.resume())}),g=Do([n.edges,()=>n.edges.value.length],([E])=>{var _;(_=e.edges)!=null&&_.value&&Array.isArray(e.edges.value)&&(v==null||v.pause(),e.edges.value=[...E],Dt(()=>{v==null||v.resume()}))},{immediate:y}),Pr(()=>{v==null||v.stop(),g==null||g.stop()})})},a=()=>{o.run(()=>{Oe(()=>t.maxZoom,()=>{t.maxZoom&&yt(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},l=()=>{o.run(()=>{Oe(()=>t.minZoom,()=>{t.minZoom&&yt(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},u=()=>{o.run(()=>{Oe(()=>t.translateExtent,()=>{t.translateExtent&&yt(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{o.run(()=>{Oe(()=>t.nodeExtent,()=>{t.nodeExtent&&yt(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{o.run(()=>{Oe(()=>t.applyDefault,()=>{yt(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},h=()=>{o.run(()=>{const v=async g=>{let y=g;typeof t.autoConnect=="function"&&(y=await t.autoConnect(g)),y!==!1&&n.addEdges([y])};Oe(()=>t.autoConnect,()=>{yt(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Oe(n.autoConnect,(g,y,E)=>{g?n.onConnect(v):n.hooks.value.connect.off(v),E(()=>{n.hooks.value.connect.off(v)})},{immediate:!0})})},f=()=>{const v=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const g of Object.keys(t)){const y=g;if(!v.includes(y)){const E=nt(()=>t[y]),_=n[y];ht(_)&&o.run(()=>{Oe(E,O=>{yt(O)&&(_.value=O)},{immediate:!0})})}}};(()=>{r(),s(),i(),l(),a(),u(),c(),d(),h(),f()})()}),()=>o.stop()}function k1(){return{edgesChange:_e(),nodesChange:_e(),nodeDoubleClick:_e(),nodeClick:_e(),nodeMouseEnter:_e(),nodeMouseMove:_e(),nodeMouseLeave:_e(),nodeContextMenu:_e(),nodeDragStart:_e(),nodeDrag:_e(),nodeDragStop:_e(),nodesInitialized:_e(),miniMapNodeClick:_e(),miniMapNodeDoubleClick:_e(),miniMapNodeMouseEnter:_e(),miniMapNodeMouseMove:_e(),miniMapNodeMouseLeave:_e(),connect:_e(),connectStart:_e(),connectEnd:_e(),clickConnectStart:_e(),clickConnectEnd:_e(),paneReady:_e(),init:_e(),move:_e(),moveStart:_e(),moveEnd:_e(),selectionDragStart:_e(),selectionDrag:_e(),selectionDragStop:_e(),selectionContextMenu:_e(),selectionStart:_e(),selectionEnd:_e(),viewportChangeStart:_e(),viewportChange:_e(),viewportChangeEnd:_e(),paneScroll:_e(),paneClick:_e(),paneContextMenu:_e(),paneMouseEnter:_e(),paneMouseMove:_e(),paneMouseLeave:_e(),edgeContextMenu:_e(),edgeMouseEnter:_e(),edgeMouseMove:_e(),edgeMouseLeave:_e(),edgeDoubleClick:_e(),edgeClick:_e(),edgeUpdateStart:_e(),edgeUpdate:_e(),edgeUpdateEnd:_e(),updateNodeInternals:_e(),error:_e(e=>$s(e.message))}}function E1(e,t){const n=Ln();mh(()=>{for(const[r,s]of Object.entries(t.value)){const i=a=>{e(r,a)};s.setEmitter(i),ts(s.removeEmitter),s.setHasEmitListeners(()=>o(r)),ts(s.removeHasEmitListeners)}});function o(r){var s;const i=$1(r);return!!((s=n==null?void 0:n.vnode.props)==null?void 0:s[i])}}function $1(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(r,s)=>s.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function Kp(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Tu.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Ur.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:ho.Bezier,style:{}},connectionMode:Vn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:us()?"Meta":"Control",zoomActivationKeyCode:us()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:k1(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const S1=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function C1(e,t,n){const o=_1(e),r=b=>{const k=b??[];e.hooks.updateNodeInternals.trigger(k)},s=b=>B_(b,e.nodes,e.edges),i=b=>F_(b,e.nodes,e.edges),a=b=>po(b,e.edges),l=({id:b,type:k,nodeId:C})=>{var S;const w=b?`-${k}-${b}`:`-${k}`;return Array.from(((S=e.connectionLookup.get(`${C}${w}`))==null?void 0:S.values())??[])},u=b=>{if(b)return t.value.get(b)},c=b=>{if(b)return n.value.get(b)},d=(b,k,C)=>{var S,w;const P=[];for(const T of b){const F={id:T.id,type:"position",dragging:C,from:T.from};if(k&&(F.position=T.position,T.parentNode)){const Q=u(T.parentNode);F.position={x:F.position.x-(((S=Q==null?void 0:Q.computedPosition)==null?void 0:S.x)??0),y:F.position.y-(((w=Q==null?void 0:Q.computedPosition)==null?void 0:w.y)??0)}}P.push(F)}P!=null&&P.length&&e.hooks.nodesChange.trigger(P)},h=b=>{if(!e.vueFlowRef)return;const k=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!k)return;const C=window.getComputedStyle(k),{m22:S}=new window.DOMMatrixReadOnly(C.transform),w=[];for(const P of b){const T=P,F=u(T.id);if(F){const Q=fa(T.nodeElement);if(!!(Q.width&&Q.height&&(F.dimensions.width!==Q.width||F.dimensions.height!==Q.height||T.forceUpdate))){const le=T.nodeElement.getBoundingClientRect();F.dimensions=Q,F.handleBounds.source=sd("source",T.nodeElement,le,S,F.id),F.handleBounds.target=sd("target",T.nodeElement,le,S,F.id),w.push({id:F.id,type:"dimensions",dimensions:Q})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),w.length&&e.hooks.nodesChange.trigger(w)},f=(b,k)=>{const C=new Set,S=new Set;for(const T of b)wo(T)?C.add(T.id):so(T)&&S.add(T.id);const w=qn(t.value,C,!0),P=qn(n.value,S);if(e.multiSelectionActive){for(const T of C)w.push(Yn(T,k));for(const T of S)P.push(Yn(T,k))}w.length&&e.hooks.nodesChange.trigger(w),P.length&&e.hooks.edgesChange.trigger(P)},m=b=>{if(e.multiSelectionActive){const k=b.map(C=>Yn(C.id,!0));e.hooks.nodesChange.trigger(k);return}e.hooks.nodesChange.trigger(qn(t.value,new Set(b.map(k=>k.id)),!0)),e.hooks.edgesChange.trigger(qn(n.value))},v=b=>{if(e.multiSelectionActive){const k=b.map(C=>Yn(C.id,!0));e.hooks.edgesChange.trigger(k);return}e.hooks.edgesChange.trigger(qn(n.value,new Set(b.map(k=>k.id)))),e.hooks.nodesChange.trigger(qn(t.value,new Set,!0))},g=b=>{f(b,!0)},y=b=>{const C=(b||e.nodes).map(S=>(S.selected=!1,Yn(S.id,!1)));e.hooks.nodesChange.trigger(C)},E=b=>{const C=(b||e.edges).map(S=>(S.selected=!1,Yn(S.id,!1)));e.hooks.edgesChange.trigger(C)},_=b=>{if(!b||!b.length)return f([],!1);const k=b.reduce((C,S)=>{const w=Yn(S.id,!1);return wo(S)?C.nodes.push(w):C.edges.push(w),C},{nodes:[],edges:[]});k.nodes.length&&e.hooks.nodesChange.trigger(k.nodes),k.edges.length&&e.hooks.edgesChange.trigger(k.edges)},O=b=>{var k;(k=e.d3Zoom)==null||k.scaleExtent([b,e.maxZoom]),e.minZoom=b},X=b=>{var k;(k=e.d3Zoom)==null||k.scaleExtent([e.minZoom,b]),e.maxZoom=b},U=b=>{var k;(k=e.d3Zoom)==null||k.translateExtent(b),e.translateExtent=b},j=b=>{e.nodeExtent=b,r()},M=b=>{var k;(k=e.d3Zoom)==null||k.clickDistance(b)},B=b=>{e.nodesDraggable=b,e.nodesConnectable=b,e.elementsSelectable=b},Y=b=>{const k=b instanceof Function?b(e.nodes):b;!e.initialized&&!k.length||(e.nodes=id(k,u,e.hooks.error.trigger))},H=b=>{const k=b instanceof Function?b(e.edges):b;if(!e.initialized&&!k.length)return;const C=Ya(k,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Ua(e.connectionLookup,n.value,C),e.edges=C},N=b=>{const k=b instanceof Function?b([...e.nodes,...e.edges]):b;!e.initialized&&!k.length||(Y(k.filter(wo)),H(k.filter(so)))},W=b=>{let k=b instanceof Function?b(e.nodes):b;k=Array.isArray(k)?k:[k];const C=id(k,u,e.hooks.error.trigger),S=[];for(const w of C)S.push(Kc(w));S.length&&e.hooks.nodesChange.trigger(S)},p=b=>{let k=b instanceof Function?b(e.edges):b;k=Array.isArray(k)?k:[k];const C=Ya(k,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),S=[];for(const w of C)S.push(Kc(w));S.length&&e.hooks.edgesChange.trigger(S)},A=(b,k=!0,C=!1)=>{const S=b instanceof Function?b(e.nodes):b,w=Array.isArray(S)?S:[S],P=[],T=[];function F(ee){const le=a(ee);for(const he of le)(!yt(he.deletable)||he.deletable)&&T.push(Qc(he.id,he.source,he.target,he.sourceHandle,he.targetHandle))}function Q(ee){const le=[];for(const he of e.nodes)he.parentNode===ee&&le.push(he);if(le.length){for(const he of le)P.push(Jc(he.id));k&&F(le);for(const he of le)Q(he.id)}}for(const ee of w){const le=typeof ee=="string"?u(ee):ee;le&&(yt(le.deletable)&&!le.deletable||(P.push(Jc(le.id)),k&&F([le]),C&&Q(le.id)))}T.length&&e.hooks.edgesChange.trigger(T),P.length&&e.hooks.nodesChange.trigger(P)},$=b=>{const k=b instanceof Function?b(e.edges):b,C=Array.isArray(k)?k:[k],S=[];for(const w of C){const P=typeof w=="string"?c(w):w;P&&(yt(P.deletable)&&!P.deletable||S.push(Qc(typeof w=="string"?w:w.id,P.source,P.target,P.sourceHandle,P.targetHandle)))}e.hooks.edgesChange.trigger(S)},z=(b,k,C=!0)=>{const S=c(b.id);if(!S)return!1;const w=e.edges.indexOf(S),P=c1(b,k,S,C,e.hooks.error.trigger);if(P){const[T]=Ya([P],e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((F,Q)=>Q===w?T:F),Ua(e.connectionLookup,n.value,[T]),T}return!1},V=(b,k,C={replace:!1})=>{const S=c(b);if(!S)return;const w=typeof k=="function"?k(S):k;S.data=C.replace?w:{...S.data,...w}},J=b=>Xc(b,e.nodes),Z=b=>{const k=Xc(b,e.edges);return Ua(e.connectionLookup,n.value,k),k},oe=(b,k,C={replace:!1})=>{const S=u(b);if(!S)return;const w=typeof k=="function"?k(S):k;C.replace?e.nodes.splice(e.nodes.indexOf(S),1,w):Object.assign(S,w)},de=(b,k,C={replace:!1})=>{const S=u(b);if(!S)return;const w=typeof k=="function"?k(S):k;S.data=C.replace?w:{...S.data,...w}},K=(b,k,C=!1)=>{C?e.connectionClickStartHandle=b:e.connectionStartHandle=b,e.connectionEndHandle=null,e.connectionStatus=null,k&&(e.connectionPosition=k)},ae=(b,k=null,C=null)=>{e.connectionStartHandle&&(e.connectionPosition=b,e.connectionEndHandle=k,e.connectionStatus=C)},ue=(b,k)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,k?e.connectionClickStartHandle=null:e.connectionStartHandle=null},pe=b=>{const k=H_(b),C=k?null:Tr(b)?b:u(b.id);return!k&&!C?[null,null,k]:[k?b:Ti(C),C,k]},q=(b,k=!0,C=e.nodes)=>{const[S,w,P]=pe(b);if(!S)return[];const T=[];for(const F of C||e.nodes){if(!P&&(F.id===w.id||!F.computedPosition))continue;const Q=Ti(F),ee=Ii(Q,S);(k&&ee>0||ee>=Q.width*Q.height||ee>=Number(S.width)*Number(S.height))&&T.push(F)}return T},se=(b,k,C=!0)=>{const[S]=pe(b);if(!S)return!1;const w=Ii(S,k);return C&&w>0||w>=Number(S.width)*Number(S.height)},ie=b=>{const{viewport:k,dimensions:C,d3Zoom:S,d3Selection:w,translateExtent:P}=e;if(!S||!w||!b.x&&!b.y)return!1;const T=tr.translate(k.x+b.x,k.y+b.y).scale(k.zoom),F=[[0,0],[C.width,C.height]],Q=S.constrain()(T,F,P),ee=e.viewport.x!==Q.x||e.viewport.y!==Q.y||e.viewport.zoom!==Q.k;return S.transform(w,Q),ee},ge=b=>{const k=b instanceof Function?b(e):b,C=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];yt(k.defaultEdgeOptions)&&(e.defaultEdgeOptions=k.defaultEdgeOptions);const S=k.modelValue||k.nodes||k.edges?[]:void 0;S&&(k.modelValue&&S.push(...k.modelValue),k.nodes&&S.push(...k.nodes),k.edges&&S.push(...k.edges),N(S));const w=()=>{yt(k.maxZoom)&&X(k.maxZoom),yt(k.minZoom)&&O(k.minZoom),yt(k.translateExtent)&&U(k.translateExtent)};for(const P of Object.keys(k)){const T=P,F=k[T];![...S1,...C].includes(T)&&yt(F)&&(e[T]=F)}pl(()=>e.d3Zoom).not.toBeNull().then(w),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:h,setElements:N,setNodes:Y,setEdges:H,addNodes:W,addEdges:p,removeNodes:A,removeEdges:$,findNode:u,findEdge:c,updateEdge:z,updateEdgeData:V,updateNode:oe,updateNodeData:de,applyEdgeChanges:Z,applyNodeChanges:J,addSelectedElements:g,addSelectedNodes:m,addSelectedEdges:v,setMinZoom:O,setMaxZoom:X,setTranslateExtent:U,setNodeExtent:j,setPaneClickDistance:M,removeSelectedElements:_,removeSelectedNodes:y,removeSelectedEdges:E,startConnection:K,updateConnection:ae,endConnection:ue,setInteractive:B,setState:ge,getIntersectingNodes:q,getIncomers:s,getOutgoers:i,getConnectedEdges:a,getHandleConnections:l,isNodeIntersecting:se,panBy:ie,fitView:b=>o.value.fitView(b),zoomIn:b=>o.value.zoomIn(b),zoomOut:b=>o.value.zoomOut(b),zoomTo:(b,k)=>o.value.zoomTo(b,k),setViewport:(b,k)=>o.value.setViewport(b,k),setTransform:(b,k)=>o.value.setTransform(b,k),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(b,k,C)=>o.value.setCenter(b,k,C),fitBounds:(b,k)=>o.value.fitBounds(b,k),project:b=>o.value.project(b),screenToFlowCoordinate:b=>o.value.screenToFlowCoordinate(b),flowToScreenCoordinate:b=>o.value.flowToScreenCoordinate(b),toObject:()=>{const b=[],k=[];for(const C of e.nodes){const{computedPosition:S,handleBounds:w,selected:P,dimensions:T,isParent:F,resizing:Q,dragging:ee,events:le,...he}=C;b.push(he)}for(const C of e.edges){const{selected:S,sourceNode:w,targetNode:P,events:T,...F}=C;k.push(F)}return JSON.parse(JSON.stringify({nodes:b,edges:k,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:b=>new Promise(k=>{const{nodes:C,edges:S,position:w,zoom:P,viewport:T}=b;if(C&&Y(C),S&&H(S),T!=null&&T.x&&(T!=null&&T.y)||w){const F=(T==null?void 0:T.x)||w[0],Q=(T==null?void 0:T.y)||w[1],ee=(T==null?void 0:T.zoom)||P||e.viewport.zoom;return pl(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:F,y:Q,zoom:ee}).then(()=>{k(!0)})})}else k(!0)}),updateNodeInternals:r,viewportHelper:o,$reset:()=>{const b=Kp();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const k=tr.translate(b.defaultViewport.x??0,b.defaultViewport.y??0).scale(Co(b.defaultViewport.zoom??1,b.minZoom,b.maxZoom)),C=e.viewportRef.getBoundingClientRect(),S=[[0,0],[C.width,C.height]],w=e.d3Zoom.constrain()(k,S,b.translateExtent);e.d3Zoom.transform(e.d3Selection,w)}ge(b)},$destroy:()=>{}}}const N1=["data-id","data-handleid","data-nodeid","data-handlepos"],T1={name:"Handle",compatConfig:{MODE:3}},io=ot({...T1,props:{id:{default:null},type:{},position:{default:()=>Se.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=yy(e,["position","connectable","connectableStart","connectableEnd","id"]),o=nt(()=>n.type??"source"),r=nt(()=>n.isValidConnection??null),{id:s,connectionStartHandle:i,connectionClickStartHandle:a,connectionEndHandle:l,vueFlowRef:u,nodesConnectable:c,noDragClassName:d,noPanClassName:h}=at(),{id:f,node:m,nodeEl:v,connectedEdges:g}=qp(),y=fe(),E=nt(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),_=nt(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),O=nt(()=>{var H,N,W,p,A,$;return((H=i.value)==null?void 0:H.nodeId)===f&&((N=i.value)==null?void 0:N.id)===e.id&&((W=i.value)==null?void 0:W.type)===o.value||((p=l.value)==null?void 0:p.nodeId)===f&&((A=l.value)==null?void 0:A.id)===e.id&&(($=l.value)==null?void 0:$.type)===o.value}),X=nt(()=>{var H,N,W;return((H=a.value)==null?void 0:H.nodeId)===f&&((N=a.value)==null?void 0:N.id)===e.id&&((W=a.value)==null?void 0:W.type)===o.value}),{handlePointerDown:U,handleClick:j}=Zp({nodeId:f,handleId:e.id,isValidConnection:r,type:o}),M=ne(()=>typeof e.connectable=="string"&&e.connectable==="single"?!g.value.some(H=>{const N=H[`${o.value}Handle`];return H[o.value]!==f?!1:N?N===e.id:!0}):typeof e.connectable=="number"?g.value.filter(H=>{const N=H[`${o.value}Handle`];return H[o.value]!==f?!1:N?N===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(m,g.value):yt(e.connectable)?e.connectable:c.value);gt(()=>{var H;if(!m.dimensions.width||!m.dimensions.height)return;const N=(H=m.handleBounds[o.value])==null?void 0:H.find(J=>J.id===e.id);if(!u.value||N)return;const W=u.value.querySelector(".vue-flow__transformationpane");if(!v.value||!y.value||!W||!e.id)return;const p=v.value.getBoundingClientRect(),A=y.value.getBoundingClientRect(),$=window.getComputedStyle(W),{m22:z}=new window.DOMMatrixReadOnly($.transform),V={id:e.id,position:e.position,x:(A.left-p.left)/z,y:(A.top-p.top)/z,type:o.value,nodeId:f,...fa(y.value)};m.handleBounds[o.value]=[...m.handleBounds[o.value]??[],V]});function B(H){const N=Ou(H);M.value&&E.value&&(N&&H.button===0||!N)&&U(H)}function Y(H){!f||!a.value&&!E.value||M.value&&j(H)}return t({handleClick:j,handlePointerDown:U,onClick:Y,onPointerDown:B}),(H,N)=>(R(),L("div",{ref_key:"handle",ref:y,"data-id":`${ce(s)}-${ce(f)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":ce(f),"data-handlepos":H.position,class:st(["vue-flow__handle",[`vue-flow__handle-${H.position}`,`vue-flow__handle-${e.id}`,ce(d),ce(h),o.value,{connectable:M.value,connecting:X.value,connectablestart:E.value,connectableend:_.value,connectionindicator:M.value&&(E.value&&!O.value||_.value&&O.value)}]]),onMousedown:B,onTouchstartPassive:B,onClick:Y},[pt(H.$slots,"default",{id:H.id})],42,N1))}}),ga=function({sourcePosition:e=Se.Bottom,targetPosition:t=Se.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:s,data:i}){const a=i.label??n;return[Xe(io,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof a!="string"&&a?Xe(a):Xe(Ie,[a]),Xe(io,{type:"source",position:e,connectable:o,isValidConnection:s})]};ga.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];ga.inheritAttrs=!1;ga.compatConfig={MODE:3};const I1=ga,ma=function({targetPosition:e=Se.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:r}){const s=r.label??t;return[Xe(io,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof s!="string"&&s?Xe(s):Xe(Ie,[s])]};ma.props=["targetPosition","label","isValidTargetPos","connectable","data"];ma.inheritAttrs=!1;ma.compatConfig={MODE:3};const A1=ma,ya=function({sourcePosition:e=Se.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:r}){const s=r.label??t;return[typeof s!="string"&&s?Xe(s):Xe(Ie,[s]),Xe(io,{type:"source",position:e,connectable:n,isValidConnection:o})]};ya.props=["sourcePosition","label","isValidSourcePos","connectable","data"];ya.inheritAttrs=!1;ya.compatConfig={MODE:3};const O1=ya,M1=["transform"],D1=["width","height","x","y","rx","ry"],P1=["y"],R1={name:"EdgeText",compatConfig:{MODE:3}},V1=ot({...R1,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=fe({x:0,y:0,width:0,height:0}),n=fe(null),o=ne(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);gt(r),Oe([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;const s=n.value.getBBox();(s.width!==t.value.width||s.height!==t.value.height)&&(t.value=s)}return(s,i)=>(R(),L("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[s.labelShowBg?(R(),L("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*s.labelBgPadding[0]}px`,height:`${t.value.height+2*s.labelBgPadding[1]}px`,x:-s.labelBgPadding[0],y:-s.labelBgPadding[1],style:ct(s.labelBgStyle),rx:s.labelBgBorderRadius,ry:s.labelBgBorderRadius},null,12,D1)):xe("",!0),x("text",Jr(s.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:s.labelStyle}),[pt(s.$slots,"default",{},()=>[typeof s.label!="string"?(R(),ut(Qn(s.label),{key:0})):(R(),L(Ie,{key:1},[tt(ve(s.label),1)],64))])],16,P1)],8,M1))}}),z1=["id","d","marker-end","marker-start"],H1=["d","stroke-width"],L1={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},va=ot({...L1,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=fe(null),o=fe(null),r=fe(null),s=yu();return t({pathEl:n,interactionEl:o,labelEl:r}),(i,a)=>(R(),L(Ie,null,[x("path",Jr(ce(s),{id:i.id,ref_key:"pathEl",ref:n,d:i.path,class:"vue-flow__edge-path","marker-end":i.markerEnd,"marker-start":i.markerStart}),null,16,z1),i.interactionWidth?(R(),L("path",{key:0,ref_key:"interactionEl",ref:o,fill:"none",d:i.path,"stroke-width":i.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,H1)):xe("",!0),i.label&&i.labelX&&i.labelY?(R(),ut(V1,{key:1,ref_key:"labelEl",ref:r,x:i.labelX,y:i.labelY,label:i.label,"label-show-bg":i.labelShowBg,"label-bg-style":i.labelBgStyle,"label-bg-padding":i.labelBgPadding,"label-bg-border-radius":i.labelBgBorderRadius,"label-style":i.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):xe("",!0)],64))}});function Jp({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,s=n<e?n+r:n-r,i=Math.abs(o-t)/2,a=o<t?o+i:o-i;return[s,a,r,i]}function Qp({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:s,targetControlX:i,targetControlY:a}){const l=e*.125+r*.375+i*.375+n*.125,u=t*.125+s*.375+a*.375+o*.125,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}function Ls(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function cd({pos:e,x1:t,y1:n,x2:o,y2:r,c:s}){let i,a;switch(e){case Se.Left:i=t-Ls(t-o,s),a=n;break;case Se.Right:i=t+Ls(o-t,s),a=n;break;case Se.Top:i=t,a=n-Ls(n-r,s);break;case Se.Bottom:i=t,a=n+Ls(r-n,s);break}return[i,a]}function eg(e){const{sourceX:t,sourceY:n,sourcePosition:o=Se.Bottom,targetX:r,targetY:s,targetPosition:i=Se.Top,curvature:a=.25}=e,[l,u]=cd({pos:o,x1:t,y1:n,x2:r,y2:s,c:a}),[c,d]=cd({pos:i,x1:r,y1:s,x2:t,y2:n,c:a}),[h,f,m,v]=Qp({sourceX:t,sourceY:n,targetX:r,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${t},${n} C${l},${u} ${c},${d} ${r},${s}`,h,f,m,v]}function dd({pos:e,x1:t,y1:n,x2:o,y2:r}){let s,i;switch(e){case Se.Left:case Se.Right:s=.5*(t+o),i=n;break;case Se.Top:case Se.Bottom:s=t,i=.5*(n+r);break}return[s,i]}function tg(e){const{sourceX:t,sourceY:n,sourcePosition:o=Se.Bottom,targetX:r,targetY:s,targetPosition:i=Se.Top}=e,[a,l]=dd({pos:o,x1:t,y1:n,x2:r,y2:s}),[u,c]=dd({pos:i,x1:r,y1:s,x2:t,y2:n}),[d,h,f,m]=Qp({sourceX:t,sourceY:n,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${n} C${a},${l} ${u},${c} ${r},${s}`,d,h,f,m]}const fd={[Se.Left]:{x:-1,y:0},[Se.Right]:{x:1,y:0},[Se.Top]:{x:0,y:-1},[Se.Bottom]:{x:0,y:1}};function F1({source:e,sourcePosition:t=Se.Bottom,target:n}){return t===Se.Left||t===Se.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function hd(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function B1({source:e,sourcePosition:t=Se.Bottom,target:n,targetPosition:o=Se.Top,center:r,offset:s}){const i=fd[t],a=fd[o],l={x:e.x+i.x*s,y:e.y+i.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},c=F1({source:l,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",h=c[d];let f,m,v;const g={x:0,y:0},y={x:0,y:0},[E,_,O,X]=Jp({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*a[d]===-1){m=r.x??E,v=r.y??_;const j=[{x:m,y:l.y},{x:m,y:u.y}],M=[{x:l.x,y:v},{x:u.x,y:v}];i[d]===h?f=d==="x"?j:M:f=d==="x"?M:j}else{const j=[{x:l.x,y:u.y}],M=[{x:u.x,y:l.y}];if(d==="x"?f=i.x===h?M:j:f=i.y===h?j:M,t===o){const W=Math.abs(e[d]-n[d]);if(W<=s){const p=Math.min(s-1,s-W);i[d]===h?g[d]=(l[d]>e[d]?-1:1)*p:y[d]=(u[d]>n[d]?-1:1)*p}}if(t!==o){const W=d==="x"?"y":"x",p=i[d]===a[W],A=l[W]>u[W],$=l[W]<u[W];(i[d]===1&&(!p&&A||p&&$)||i[d]!==1&&(!p&&$||p&&A))&&(f=d==="x"?j:M)}const B={x:l.x+g.x,y:l.y+g.y},Y={x:u.x+y.x,y:u.y+y.y},H=Math.max(Math.abs(B.x-f[0].x),Math.abs(Y.x-f[0].x)),N=Math.max(Math.abs(B.y-f[0].y),Math.abs(Y.y-f[0].y));H>=N?(m=(B.x+Y.x)/2,v=f[0].y):(m=f[0].x,v=(B.y+Y.y)/2)}return[[e,{x:l.x+g.x,y:l.y+g.y},...f,{x:u.x+y.x,y:u.y+y.y},n],m,v,O,X]}function j1(e,t,n,o){const r=Math.min(hd(e,t)/2,hd(t,n)/2,o),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+r*u},${i}Q ${s},${i} ${s},${i+r*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${i+r*l}Q ${s},${i} ${s+r*a},${i}`}function Nl(e){const{sourceX:t,sourceY:n,sourcePosition:o=Se.Bottom,targetX:r,targetY:s,targetPosition:i=Se.Top,borderRadius:a=5,centerX:l,centerY:u,offset:c=20}=e,[d,h,f,m,v]=B1({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:s},targetPosition:i,center:{x:l,y:u},offset:c});return[d.reduce((y,E,_)=>{let O;return _>0&&_<d.length-1?O=j1(d[_-1],E,d[_+1],a):O=`${_===0?"M":"L"}${E.x} ${E.y}`,y+=O,y},""),h,f,m,v]}function U1(e){const{sourceX:t,sourceY:n,targetX:o,targetY:r}=e,[s,i,a,l]=Jp({sourceX:t,sourceY:n,targetX:o,targetY:r});return[`M ${t},${n}L ${o},${r}`,s,i,a,l]}const Y1=ot({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=U1(e);return Xe(va,{path:n,labelX:o,labelY:r,...t,...e})}}}),W1=Y1,G1=ot({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=Nl({...e,sourcePosition:e.sourcePosition??Se.Bottom,targetPosition:e.targetPosition??Se.Top});return Xe(va,{path:n,labelX:o,labelY:r,...t,...e})}}}),ng=G1,Z1=ot({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Xe(ng,{...e,...t,borderRadius:0})}}),q1=Z1,X1=ot({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=eg({...e,sourcePosition:e.sourcePosition??Se.Bottom,targetPosition:e.targetPosition??Se.Top});return Xe(va,{path:n,labelX:o,labelY:r,...t,...e})}}}),K1=X1,J1=ot({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=tg({...e,sourcePosition:e.sourcePosition??Se.Bottom,targetPosition:e.targetPosition??Se.Top});return Xe(va,{path:n,labelX:o,labelY:r,...t,...e})}}}),Q1=J1,ew={input:O1,default:I1,output:A1},tw={default:K1,straight:W1,step:q1,smoothstep:ng,simplebezier:Q1};function nw(e,t,n){const o=ne(()=>v=>t.value.get(v)),r=ne(()=>v=>n.value.get(v)),s=ne(()=>{const v={...tw,...e.edgeTypes},g=Object.keys(v);for(const y of e.edges)y.type&&!g.includes(y.type)&&(v[y.type]=y.type);return v}),i=ne(()=>{const v={...ew,...e.nodeTypes},g=Object.keys(v);for(const y of e.nodes)y.type&&!g.includes(y.type)&&(v[y.type]=y.type);return v}),a=ne(()=>e.onlyRenderVisibleElements?zp(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),l=ne(()=>{if(e.onlyRenderVisibleElements){const v=[];for(const g of e.edges){const y=t.value.get(g.source),E=t.value.get(g.target);J_({sourcePos:y.computedPosition||{x:0,y:0},targetPos:E.computedPosition||{x:0,y:0},sourceWidth:y.dimensions.width,sourceHeight:y.dimensions.height,targetWidth:E.dimensions.width,targetHeight:E.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&v.push(g)}return v}return e.edges}),u=ne(()=>[...a.value,...l.value]),c=ne(()=>{const v=[];for(const g of e.nodes)g.selected&&v.push(g);return v}),d=ne(()=>{const v=[];for(const g of e.edges)g.selected&&v.push(g);return v}),h=ne(()=>[...c.value,...d.value]),f=ne(()=>{const v=[];for(const g of e.nodes)g.dimensions.width&&g.dimensions.height&&g.handleBounds!==void 0&&v.push(g);return v}),m=ne(()=>a.value.length>0&&f.value.length===a.value.length);return{getNode:o,getEdge:r,getElements:u,getEdgeTypes:s,getNodeTypes:i,getEdges:l,getNodes:a,getSelectedElements:h,getSelectedNodes:c,getSelectedEdges:d,getNodesInitialized:f,areNodesInitialized:m}}class go{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=Ln())==null?void 0:t.appContext.app,o=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??go.instance;return go.instance=o??new go,n&&(n.config.globalProperties.$vueFlowStorage=go.instance),go.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Kp(),r=gr(o),s={};for(const[h,f]of Object.entries(r.hooks)){const m=`on${h.charAt(0).toUpperCase()+h.slice(1)}`;s[m]=f.on}const i={};for(const[h,f]of Object.entries(r.hooks))i[h]=f.trigger;const a=ne(()=>{const h=new Map;for(const f of r.nodes)h.set(f.id,f);return h}),l=ne(()=>{const h=new Map;for(const f of r.edges)h.set(f.id,f);return h}),u=nw(r,a,l),c=C1(r,a,l);c.setState({...r,...n});const d={...s,...u,...c,...Zv(r),nodeLookup:a,edgeLookup:l,emits:i,id:t,vueFlowVersion:"1.47.0",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function at(e){const t=go.getInstance(),n=Qi(),o=typeof e=="object",r=o?e:{id:e},s=r.id,i=s??(n==null?void 0:n.vueFlowId);let a;if(n){const l=_t(ud,null);typeof l<"u"&&l!==null&&(!i||l.id===i)&&(a=l)}if(a||i&&(a=t.get(i)),!a||i&&a.id!==i){const l=s??t.getId(),u=t.create(l,r);a=u,(n??Ji(!0)).run(()=>{Oe(u.applyDefault,(d,h,f)=>{const m=g=>{u.applyNodeChanges(g)},v=g=>{u.applyEdgeChanges(g)};d?(u.onNodesChange(m),u.onEdgesChange(v)):(u.hooks.value.nodesChange.off(m),u.hooks.value.edgesChange.off(v)),f(()=>{u.hooks.value.nodesChange.off(m),u.hooks.value.edgesChange.off(v)})},{immediate:!0}),ts(()=>{if(a){const d=t.get(a.id);d?d.$destroy():$s(`No store instance found for id ${a.id} in storage.`)}})})}else o&&a.setState(r);if(n&&(Xt(ud,a),n.vueFlowId=a.id),o){const l=Ln();(l==null?void 0:l.type.name)!=="VueFlow"&&a.emits.error(new xt(vt.USEVUEFLOW_OPTIONS))}return a}function ow(e){const{emits:t,dimensions:n}=at();let o;gt(()=>{const r=()=>{var s,i;if(!e.value||!(((i=(s=e.value).checkVisibility)==null?void 0:i.call(s))??!0))return;const a=fa(e.value);(a.width===0||a.height===0)&&t.error(new xt(vt.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:a.width||500,height:a.height||500}};r(),window.addEventListener("resize",r),e.value&&(o=new ResizeObserver(()=>r()),o.observe(e.value)),gu(()=>{window.removeEventListener("resize",r),o&&e.value&&o.unobserve(e.value)})})}const rw={name:"UserSelection",compatConfig:{MODE:3}},sw=ot({...rw,props:{userSelectionRect:{}},setup(e){return(t,n)=>(R(),L("div",{class:"vue-flow__selection vue-flow__container",style:ct({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),iw=["tabIndex"],aw={name:"NodesSelection",compatConfig:{MODE:3}},lw=ot({...aw,setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:r,disableKeyboardA11y:s,userSelectionActive:i}=at(),a=Xp(),l=fe(null),u=Gp({el:l,onStart(m){t.selectionDragStart(m),t.nodeDragStart(m)},onDrag(m){t.selectionDrag(m),t.nodeDrag(m)},onStop(m){t.selectionDragStop(m),t.nodeDragStop(m)}});gt(()=>{var m;s.value||(m=l.value)==null||m.focus({preventScroll:!0})});const c=ne(()=>Iu(o.value)),d=ne(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function h(m){t.selectionContextMenu({event:m,nodes:o.value})}function f(m){s||Wo[m.key]&&(m.preventDefault(),a({x:Wo[m.key].x,y:Wo[m.key].y},m.shiftKey))}return(m,v)=>!ce(i)&&c.value.width&&c.value.height?(R(),L("div",{key:0,class:st(["vue-flow__nodesselection vue-flow__container",ce(r)]),style:ct({transform:`translate(${ce(n).x}px,${ce(n).y}px) scale(${ce(n).zoom})`})},[x("div",{ref_key:"el",ref:l,class:st([{dragging:ce(u)},"vue-flow__nodesselection-rect"]),style:ct(d.value),tabIndex:ce(s)?void 0:-1,onContextmenu:h,onKeydown:f},null,46,iw)],6)):xe("",!0)}});function uw(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const cw={name:"Pane",compatConfig:{MODE:3}},dw=ot({...cw,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:r,userSelectionActive:s,removeSelectedElements:i,userSelectionRect:a,elementsSelectable:l,nodesSelectionActive:u,getSelectedEdges:c,getSelectedNodes:d,removeNodes:h,removeEdges:f,selectionMode:m,deleteKeyCode:v,multiSelectionKeyCode:g,multiSelectionActive:y,edgeLookup:E,nodeLookup:_,connectionLookup:O,defaultEdgeOptions:X,connectionStartHandle:U}=at(),j=fe(null),M=fe(new Set),B=fe(new Set),Y=fe(),H=nt(()=>l.value&&(e.isSelecting||s.value)),N=nt(()=>U.value!==null);let W=!1,p=!1;const A=Yr(v,{actInsideInputWithModifier:!1}),$=Yr(g);Oe(A,ae=>{ae&&(h(d.value),f(c.value),u.value=!1)}),Oe($,ae=>{y.value=ae});function z(ae,ue){return pe=>{pe.target===ue&&(ae==null||ae(pe))}}function V(ae){if(W||N.value){W=!1;return}r.paneClick(ae),i(),u.value=!1}function J(ae){ae.preventDefault(),ae.stopPropagation(),r.paneContextMenu(ae)}function Z(ae){r.paneScroll(ae)}function oe(ae){var ue,pe,q;if(Y.value=(ue=t.value)==null?void 0:ue.getBoundingClientRect(),!l.value||!e.isSelecting||ae.button!==0||ae.target!==j.value||!Y.value)return;(q=(pe=ae.target)==null?void 0:pe.setPointerCapture)==null||q.call(pe,ae.pointerId);const{x:se,y:ie}=uw(ae,Y.value);p=!0,W=!1,i(),a.value={width:0,height:0,startX:se,startY:ie,x:se,y:ie},r.selectionStart(ae)}function de(ae){var ue;if(!Y.value||!a.value)return;W=!0;const{x:pe,y:q}=ln(ae,Y.value),{startX:se=0,startY:ie=0}=a.value,ge={startX:se,startY:ie,x:pe<se?pe:se,y:q<ie?q:ie,width:Math.abs(pe-se),height:Math.abs(q-ie)},ke=M.value,I=B.value;M.value=new Set(zp(n.value,ge,o.value,m.value===Tu.Partial,!0).map(b=>b.id)),B.value=new Set;const D=((ue=X.value)==null?void 0:ue.selectable)??!0;for(const b of M.value){const k=O.value.get(b);if(k)for(const{edgeId:C}of k.values()){const S=E.value.get(C);S&&(S.selectable??D)&&B.value.add(C)}}if(!ld(ke,M.value)){const b=qn(_.value,M.value,!0);r.nodesChange(b)}if(!ld(I,B.value)){const b=qn(E.value,B.value);r.edgesChange(b)}a.value=ge,s.value=!0,u.value=!1}function K(ae){var ue;ae.button!==0||!p||((ue=ae.target)==null||ue.releasePointerCapture(ae.pointerId),!s.value&&a.value&&ae.target===j.value&&V(ae),s.value=!1,a.value=null,u.value=M.value.size>0,r.selectionEnd(ae),e.selectionKeyPressed&&(W=!1),p=!1)}return(ae,ue)=>(R(),L("div",{ref_key:"container",ref:j,class:st(["vue-flow__pane vue-flow__container",{selection:ae.isSelecting}]),onClick:ue[0]||(ue[0]=pe=>H.value?void 0:z(V,j.value)(pe)),onContextmenu:ue[1]||(ue[1]=pe=>z(J,j.value)(pe)),onWheelPassive:ue[2]||(ue[2]=pe=>z(Z,j.value)(pe)),onPointerenter:ue[3]||(ue[3]=pe=>H.value?void 0:ce(r).paneMouseEnter(pe)),onPointerdown:ue[4]||(ue[4]=pe=>H.value?oe(pe):ce(r).paneMouseMove(pe)),onPointermove:ue[5]||(ue[5]=pe=>H.value?de(pe):ce(r).paneMouseMove(pe)),onPointerup:ue[6]||(ue[6]=pe=>H.value?K(pe):void 0),onPointerleave:ue[7]||(ue[7]=pe=>ce(r).paneMouseLeave(pe))},[pt(ae.$slots,"default"),ce(s)&&ce(a)?(R(),ut(sw,{key:0,"user-selection-rect":ce(a)},null,8,["user-selection-rect"])):xe("",!0),ce(u)&&ce(d).length?(R(),ut(lw,{key:1})):xe("",!0)],34))}}),fw={name:"Transform",compatConfig:{MODE:3}},hw=ot({...fw,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=at(),r=ne(()=>n.value?!o.value:!1),s=ne(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(i,a)=>(R(),L("div",{class:"vue-flow__transformationpane vue-flow__container",style:ct({transform:s.value,opacity:r.value?0:void 0})},[pt(i.$slots,"default")],4))}}),pw={name:"Viewport",compatConfig:{MODE:3}},gw=ot({...pw,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:r,zoomActivationKeyCode:s,selectionKeyCode:i,panActivationKeyCode:a,panOnScroll:l,panOnScrollMode:u,panOnScrollSpeed:c,panOnDrag:d,zoomOnDoubleClick:h,zoomOnPinch:f,zoomOnScroll:m,preventScrolling:v,noWheelClassName:g,noPanClassName:y,emits:E,connectionStartHandle:_,userSelectionActive:O,paneDragging:X,d3Zoom:U,d3Selection:j,d3ZoomHandler:M,viewport:B,viewportRef:Y,paneClickDistance:H}=at();ow(Y);const N=Zo(!1),W=Zo(!1);let p=null,A=!1,$=0,z={x:0,y:0,zoom:0};const V=Yr(a),J=Yr(i),Z=Yr(s),oe=nt(()=>(!J.value||J.value&&i.value===!0)&&(V.value||d.value)),de=nt(()=>V.value||l.value),K=nt(()=>J.value||i.value===!0&&oe.value!==!0),ae=nt(()=>_.value!==null);gt(()=>{if(!Y.value){$s("Viewport element is missing");return}const ie=Y.value,ge=ie.getBoundingClientRect(),ke=O_().clickDistance(H.value).scaleExtent([t.value,n.value]).translateExtent(r.value),I=Yt(ie).call(ke),D=I.on("wheel.zoom"),b=tr.translate(o.value.x??0,o.value.y??0).scale(Co(o.value.zoom??1,t.value,n.value)),k=[[0,0],[ge.width,ge.height]],C=ke.constrain()(b,k,r.value);ke.transform(I,C),ke.wheelDelta($l),U.value=ke,j.value=I,M.value=D,B.value={x:C.x,y:C.y,zoom:C.k},ke.on("start",S=>{var w;if(!S.sourceEvent)return null;$=S.sourceEvent.button,N.value=!0;const P=q(S.transform);((w=S.sourceEvent)==null?void 0:w.type)==="mousedown"&&(X.value=!0),z=P,E.viewportChangeStart(P),E.moveStart({event:S,flowTransform:P})}),ke.on("end",S=>{if(!S.sourceEvent)return null;if(N.value=!1,X.value=!1,ue(oe.value,$??0)&&!A&&E.paneContextMenu(S.sourceEvent),A=!1,pe(z,S.transform)){const w=q(S.transform);z=w,E.viewportChangeEnd(w),E.moveEnd({event:S,flowTransform:w})}}),ke.filter(S=>{var w;const P=Z.value||m.value,T=f.value&&S.ctrlKey,F=S.button,Q=S.type==="wheel";if(F===1&&S.type==="mousedown"&&(se(S,"vue-flow__node")||se(S,"vue-flow__edge")))return!0;if(!oe.value&&!P&&!de.value&&!h.value&&!f.value||O.value||ae.value&&!Q||!h.value&&S.type==="dblclick"||se(S,g.value)&&Q||se(S,y.value)&&(!Q||de.value&&Q&&!Z.value)||!f.value&&S.ctrlKey&&Q||!P&&!de.value&&!T&&Q)return!1;if(!f&&S.type==="touchstart"&&((w=S.touches)==null?void 0:w.length)>1)return S.preventDefault(),!1;if(!oe.value&&(S.type==="mousedown"||S.type==="touchstart")||i.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&F===0||Array.isArray(d.value)&&!d.value.includes(F)&&(S.type==="mousedown"||S.type==="touchstart"))return!1;const ee=Array.isArray(d.value)&&d.value.includes(F)||i.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!F||F<=1;return(!S.ctrlKey||V.value||Q)&&ee}),Oe([O,oe],()=>{O.value&&!N.value?ke.on("zoom",null):O.value||ke.on("zoom",S=>{B.value={x:S.transform.x,y:S.transform.y,zoom:S.transform.k};const w=q(S.transform);A=ue(oe.value,$??0),E.viewportChange(w),E.move({event:S,flowTransform:w})})},{immediate:!0}),Oe([O,de,u,Z,f,v,g],()=>{de.value&&!Z.value&&!O.value?I.on("wheel.zoom",S=>{if(se(S,g.value))return!1;const w=Z.value||m.value,P=f.value&&S.ctrlKey;if(!(!v.value||de.value||w||P))return!1;S.preventDefault(),S.stopImmediatePropagation();const F=I.property("__zoom").k||1,Q=us();if(!V.value&&S.ctrlKey&&f.value&&Q){const Ne=on(S),De=$l(S),G=F*2**De;ke.scaleTo(I,G,Ne,S);return}const ee=S.deltaMode===1?20:1;let le=u.value===Ur.Vertical?0:S.deltaX*ee,he=u.value===Ur.Horizontal?0:S.deltaY*ee;!Q&&S.shiftKey&&u.value!==Ur.Vertical&&!le&&he&&(le=he,he=0),ke.translateBy(I,-(le/F)*c.value,-(he/F)*c.value);const $e=q(I.property("__zoom"));p&&clearTimeout(p),W.value?(E.move({event:S,flowTransform:$e}),E.viewportChange($e),p=setTimeout(()=>{E.moveEnd({event:S,flowTransform:$e}),E.viewportChangeEnd($e),W.value=!1},150)):(W.value=!0,E.moveStart({event:S,flowTransform:$e}),E.viewportChangeStart($e))},{passive:!1}):typeof D<"u"&&I.on("wheel.zoom",function(S,w){const P=!v.value&&S.type==="wheel"&&!S.ctrlKey,T=Z.value||m.value,F=f.value&&S.ctrlKey;if(!T&&!l.value&&!F&&S.type==="wheel"||P||se(S,g.value))return null;S.preventDefault(),D.call(this,S,w)},{passive:!1})},{immediate:!0})});function ue(ie,ge){return ge===2&&Array.isArray(ie)&&ie.includes(2)}function pe(ie,ge){return ie.x!==ge.x&&!Number.isNaN(ge.x)||ie.y!==ge.y&&!Number.isNaN(ge.y)||ie.zoom!==ge.k&&!Number.isNaN(ge.k)}function q(ie){return{x:ie.x,y:ie.y,zoom:ie.k}}function se(ie,ge){return ie.target.closest(`.${ge}`)}return(ie,ge)=>(R(),L("div",{ref_key:"viewportRef",ref:Y,class:"vue-flow__viewport vue-flow__container"},[re(dw,{"is-selecting":K.value,"selection-key-pressed":ce(J),class:st({connecting:ae.value,dragging:ce(X),draggable:ce(d)===!0||Array.isArray(ce(d))&&ce(d).includes(0)})},{default:Ae(()=>[re(hw,null,{default:Ae(()=>[pt(ie.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),mw=["id"],yw=["id"],vw=["id"],bw={name:"A11yDescriptions",compatConfig:{MODE:3}},xw=ot({...bw,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=at();return(r,s)=>(R(),L(Ie,null,[x("div",{id:`${ce(Tp)}-${ce(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+ve(ce(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,mw),x("div",{id:`${ce(Ip)}-${ce(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,yw),ce(n)?xe("",!0):(R(),L("div",{key:0,id:`${ce(z_)}-${ce(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},ve(ce(o)),9,vw))],64))}});function _w(){const e=at();Oe(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function ww(e,t,n){return n===Se.Left?e-t:n===Se.Right?e+t:e}function kw(e,t,n){return n===Se.Top?e-t:n===Se.Bottom?e+t:e}const Mu=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=Se.Top,type:r}){return Xe("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:ww(t,e,o),cy:kw(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};Mu.props=["radius","centerX","centerY","position","type"];Mu.compatConfig={MODE:3};const pd=Mu,Ew=ot({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:s,nodesSelectionActive:i,noPanClassName:a,getEdgeTypes:l,removeSelectedEdges:u,findEdge:c,findNode:d,isValidConnection:h,multiSelectionActive:f,disableKeyboardA11y:m,elementsSelectable:v,edgesUpdatable:g,edgesFocusable:y,hooks:E}=at(),_=ne(()=>c(e.id)),{emit:O,on:X}=p1(_.value,s),U=_t(pa),j=Ln(),M=fe(!1),B=fe(!1),Y=fe(""),H=fe(null),N=fe("source"),W=fe(null),p=nt(()=>typeof _.value.selectable>"u"?v.value:_.value.selectable),A=nt(()=>typeof _.value.updatable>"u"?g.value:_.value.updatable),$=nt(()=>typeof _.value.focusable>"u"?y.value:_.value.focusable);Xt(d1,e.id),Xt(f1,W);const z=ne(()=>_.value.class instanceof Function?_.value.class(_.value):_.value.class),V=ne(()=>_.value.style instanceof Function?_.value.style(_.value):_.value.style),J=ne(()=>{const k=_.value.type||"default",C=U==null?void 0:U[`edge-${k}`];if(C)return C;let S=_.value.template??l.value[k];if(typeof S=="string"&&j){const w=Object.keys(j.appContext.components);w&&w.includes(k)&&(S=mu(k,!1))}return S&&typeof S!="string"?S:(s.error(new xt(vt.EDGE_TYPE_MISSING,S)),!1)}),{handlePointerDown:Z}=Zp({nodeId:Y,handleId:H,type:N,isValidConnection:h,edgeUpdaterType:N,onEdgeUpdate:K,onEdgeUpdateEnd:ae});return()=>{const k=d(_.value.source),C=d(_.value.target),S="pathOptions"in _.value?_.value.pathOptions:{};if(!k&&!C)return s.error(new xt(vt.EDGE_SOURCE_TARGET_MISSING,_.value.id,_.value.source,_.value.target)),null;if(!k)return s.error(new xt(vt.EDGE_SOURCE_MISSING,_.value.id,_.value.source)),null;if(!C)return s.error(new xt(vt.EDGE_TARGET_MISSING,_.value.id,_.value.target)),null;if(!_.value||_.value.hidden||k.hidden||C.hidden)return null;let w;o.value===Vn.Strict?w=k.handleBounds.source:w=[...k.handleBounds.source||[],...k.handleBounds.target||[]];const P=nd(w,_.value.sourceHandle);let T;o.value===Vn.Strict?T=C.handleBounds.target:T=[...C.handleBounds.target||[],...C.handleBounds.source||[]];const F=nd(T,_.value.targetHandle),Q=(P==null?void 0:P.position)||Se.Bottom,ee=(F==null?void 0:F.position)||Se.Top,{x:le,y:he}=nr(k,P,Q),{x:$e,y:Ne}=nr(C,F,ee);return _.value.sourceX=le,_.value.sourceY=he,_.value.targetX=$e,_.value.targetY=Ne,Xe("g",{ref:W,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${J.value===!1?"default":_.value.type||"default"}`,a.value,z.value,{updating:M.value,selected:_.value.selected,animated:_.value.animated,inactive:!p.value&&!E.value.edgeClick.hasListeners()}],tabIndex:$.value?0:void 0,"aria-label":_.value.ariaLabel===null?void 0:_.value.ariaLabel??`Edge from ${_.value.source} to ${_.value.target}`,"aria-describedby":$.value?`${Ip}-${t}`:void 0,"aria-roledescription":"edge",role:$.value?"group":"img",..._.value.domAttributes,onClick:pe,onContextmenu:q,onDblclick:se,onMouseenter:ie,onMousemove:ge,onMouseleave:ke,onKeyDown:$.value?b:void 0},[B.value?null:Xe(J.value===!1?l.value.default:J.value,{id:e.id,sourceNode:k,targetNode:C,source:_.value.source,target:_.value.target,type:_.value.type,updatable:A.value,selected:_.value.selected,animated:_.value.animated,label:_.value.label,labelStyle:_.value.labelStyle,labelShowBg:_.value.labelShowBg,labelBgStyle:_.value.labelBgStyle,labelBgPadding:_.value.labelBgPadding,labelBgBorderRadius:_.value.labelBgBorderRadius,data:_.value.data,events:{..._.value.events,...X},style:V.value,markerStart:`url('#${ls(_.value.markerStart,t)}')`,markerEnd:`url('#${ls(_.value.markerEnd,t)}')`,sourcePosition:Q,targetPosition:ee,sourceX:le,sourceY:he,targetX:$e,targetY:Ne,sourceHandleId:_.value.sourceHandle,targetHandleId:_.value.targetHandle,interactionWidth:_.value.interactionWidth,...S}),[A.value==="source"||A.value===!0?[Xe("g",{onMousedown:I,onMouseenter:oe,onMouseout:de},Xe(pd,{position:Q,centerX:le,centerY:he,radius:r.value,type:"source","data-type":"source"}))]:null,A.value==="target"||A.value===!0?[Xe("g",{onMousedown:D,onMouseenter:oe,onMouseout:de},Xe(pd,{position:ee,centerX:$e,centerY:Ne,radius:r.value,type:"target","data-type":"target"}))]:null]])};function oe(){M.value=!0}function de(){M.value=!1}function K(k,C){O.update({event:k,edge:_.value,connection:C})}function ae(k){O.updateEnd({event:k,edge:_.value}),B.value=!1}function ue(k,C){k.button===0&&(B.value=!0,Y.value=C?_.value.target:_.value.source,H.value=(C?_.value.targetHandle:_.value.sourceHandle)??null,N.value=C?"target":"source",O.updateStart({event:k,edge:_.value}),Z(k))}function pe(k){var C;const S={event:k,edge:_.value};p.value&&(i.value=!1,_.value.selected&&f.value?(u([_.value]),(C=W.value)==null||C.blur()):n([_.value])),O.click(S)}function q(k){O.contextMenu({event:k,edge:_.value})}function se(k){O.doubleClick({event:k,edge:_.value})}function ie(k){O.mouseEnter({event:k,edge:_.value})}function ge(k){O.mouseMove({event:k,edge:_.value})}function ke(k){O.mouseLeave({event:k,edge:_.value})}function I(k){ue(k,!0)}function D(k){ue(k,!1)}function b(k){var C;!m.value&&Ap.includes(k.key)&&p.value&&(k.key==="Escape"?((C=W.value)==null||C.blur(),u([c(e.id)])):n([c(e.id)]))}}}),$w=Ew,Sw=ot({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:r,connectionPosition:s,connectionLineType:i,connectionLineStyle:a,connectionLineOptions:l,connectionStatus:u,viewport:c,findNode:d}=at(),h=(e=_t(pa))==null?void 0:e["connection-line"],f=ne(()=>{var E;return d((E=o.value)==null?void 0:E.nodeId)}),m=ne(()=>{var E;return d((E=r.value)==null?void 0:E.nodeId)??null}),v=ne(()=>({x:(s.value.x-c.value.x)/c.value.zoom,y:(s.value.y-c.value.y)/c.value.zoom})),g=ne(()=>l.value.markerStart?`url(#${ls(l.value.markerStart,t)})`:""),y=ne(()=>l.value.markerEnd?`url(#${ls(l.value.markerEnd,t)})`:"");return()=>{var E,_,O;if(!f.value||!o.value)return null;const X=o.value.id,U=o.value.type,j=f.value.handleBounds;let M=(j==null?void 0:j[U])??[];if(n.value===Vn.Loose){const V=(j==null?void 0:j[U==="source"?"target":"source"])??[];M=[...M,...V]}if(!M)return null;const B=(X?M.find(V=>V.id===X):M[0])??null,Y=(B==null?void 0:B.position)??Se.Top,{x:H,y:N}=nr(f.value,B,Y);let W=null;m.value&&(n.value===Vn.Strict?W=((E=m.value.handleBounds[U==="source"?"target":"source"])==null?void 0:E.find(V=>{var J;return V.id===((J=r.value)==null?void 0:J.id)}))||null:W=((_=[...m.value.handleBounds.source??[],...m.value.handleBounds.target??[]])==null?void 0:_.find(V=>{var J;return V.id===((J=r.value)==null?void 0:J.id)}))||null);const p=((O=r.value)==null?void 0:O.position)??(Y?Sl[Y]:null);if(!Y||!p)return null;const A=i.value??l.value.type??ho.Bezier;let $="";const z={sourceX:H,sourceY:N,sourcePosition:Y,targetX:v.value.x,targetY:v.value.y,targetPosition:p};return A===ho.Bezier?[$]=eg(z):A===ho.Step?[$]=Nl({...z,borderRadius:0}):A===ho.SmoothStep?[$]=Nl(z):A===ho.SimpleBezier?[$]=tg(z):$=`M${H},${N} ${v.value.x},${v.value.y}`,Xe("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Xe("g",{class:"vue-flow__connection"},h?Xe(h,{sourceX:H,sourceY:N,sourcePosition:Y,targetX:v.value.x,targetY:v.value.y,targetPosition:p,sourceNode:f.value,sourceHandle:B,targetNode:m.value,targetHandle:W,markerEnd:y.value,markerStart:g.value,connectionStatus:u.value}):Xe("path",{d:$,class:[l.value.class,u.value,"vue-flow__connection-path"],style:{...a.value,...l.value.style},"marker-end":y.value,"marker-start":g.value})))}}}),Cw=Sw,Nw=["id","markerWidth","markerHeight","markerUnits","orient"],Tw={name:"MarkerType",compatConfig:{MODE:3}},Iw=ot({...Tw,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(R(),L("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===ce(kl).ArrowClosed?(R(),L("polyline",{key:0,style:ct({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):xe("",!0),t.type===ce(kl).Arrow?(R(),L("polyline",{key:1,style:ct({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):xe("",!0)],8,Nw))}}),Aw={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},Ow={name:"MarkerDefinitions",compatConfig:{MODE:3}},Mw=ot({...Ow,setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:r}=at(),s=ne(()=>{const i=new Set,a=[],l=u=>{if(u){const c=ls(u,t);i.has(c)||(typeof u=="object"?a.push({...u,id:c,color:u.color||r.value}):a.push({id:c,color:r.value,type:u}),i.add(c))}};for(const u of[o.value.markerEnd,o.value.markerStart])l(u);for(const u of n.value)for(const c of[u.markerStart,u.markerEnd])l(c);return a.sort((u,c)=>u.id.localeCompare(c.id))});return(i,a)=>(R(),L("svg",Aw,[x("defs",null,[(R(!0),L(Ie,null,rt(s.value,l=>(R(),ut(Iw,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),Dw={name:"Edges",compatConfig:{MODE:3}},Pw=ot({...Dw,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=at();return(r,s)=>(R(),L(Ie,null,[re(Mw),(R(!0),L(Ie,null,rt(ce(n),i=>(R(),L("svg",{key:i.id,class:"vue-flow__edges vue-flow__container",style:ct({zIndex:ce(Q_)(i,ce(t),ce(o))})},[re(ce($w),{id:i.id},null,8,["id"])],4))),128)),re(ce(Cw))],64))}}),Rw=ot({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:r,multiSelectionActive:s,emits:i,removeSelectedNodes:a,addSelectedNodes:l,updateNodeDimensions:u,onUpdateNodeInternals:c,getNodeTypes:d,nodeExtent:h,elevateNodesOnSelect:f,disableKeyboardA11y:m,ariaLiveMessage:v,snapToGrid:g,snapGrid:y,nodeDragThreshold:E,nodesDraggable:_,elementsSelectable:O,nodesConnectable:X,nodesFocusable:U,hooks:j}=at(),M=fe(null);Xt(Wp,M),Xt(Yp,e.id);const B=_t(pa),Y=Ln(),H=Xp(),{node:N,parentNode:W}=qp(e.id),{emit:p,on:A}=v1(N,i),$=nt(()=>typeof N.draggable>"u"?_.value:N.draggable),z=nt(()=>typeof N.selectable>"u"?O.value:N.selectable),V=nt(()=>typeof N.connectable>"u"?X.value:N.connectable),J=nt(()=>typeof N.focusable>"u"?U.value:N.focusable),Z=ne(()=>z.value||$.value||j.value.nodeClick.hasListeners()||j.value.nodeDoubleClick.hasListeners()||j.value.nodeMouseEnter.hasListeners()||j.value.nodeMouseMove.hasListeners()||j.value.nodeMouseLeave.hasListeners()),oe=nt(()=>!!N.dimensions.width&&!!N.dimensions.height),de=ne(()=>{const C=N.type||"default",S=B==null?void 0:B[`node-${C}`];if(S)return S;let w=N.template||d.value[C];if(typeof w=="string"&&Y){const P=Object.keys(Y.appContext.components);P&&P.includes(C)&&(w=mu(C,!1))}return w&&typeof w!="string"?w:(i.error(new xt(vt.NODE_TYPE_MISSING,w)),!1)}),K=Gp({id:e.id,el:M,disabled:()=>!$.value,selectable:z,dragHandle:()=>N.dragHandle,onStart(C){p.dragStart(C)},onDrag(C){p.drag(C)},onStop(C){p.dragStop(C)},onClick(C){b(C)}}),ae=ne(()=>N.class instanceof Function?N.class(N):N.class),ue=ne(()=>{const C=(N.style instanceof Function?N.style(N):N.style)||{},S=N.width instanceof Function?N.width(N):N.width,w=N.height instanceof Function?N.height(N):N.height;return!C.width&&S&&(C.width=typeof S=="string"?S:`${S}px`),!C.height&&w&&(C.height=typeof w=="string"?w:`${w}px`),C}),pe=nt(()=>Number(N.zIndex??ue.value.zIndex??0));return c(C=>{(C.includes(e.id)||!C.length)&&se()}),gt(()=>{Oe(()=>N.hidden,(C=!1,S,w)=>{!C&&M.value&&(e.resizeObserver.observe(M.value),w(()=>{M.value&&e.resizeObserver.unobserve(M.value)}))},{immediate:!0,flush:"post"})}),Oe([()=>N.type,()=>N.sourcePosition,()=>N.targetPosition],()=>{Dt(()=>{u([{id:e.id,nodeElement:M.value,forceUpdate:!0}])})}),Oe([()=>N.position.x,()=>N.position.y,()=>{var C;return(C=W.value)==null?void 0:C.computedPosition.x},()=>{var C;return(C=W.value)==null?void 0:C.computedPosition.y},()=>{var C;return(C=W.value)==null?void 0:C.computedPosition.z},pe,()=>N.selected,()=>N.dimensions.height,()=>N.dimensions.width,()=>{var C;return(C=W.value)==null?void 0:C.dimensions.height},()=>{var C;return(C=W.value)==null?void 0:C.dimensions.width}],([C,S,w,P,T,F])=>{const Q={x:C,y:S,z:F+(f.value&&N.selected?1e3:0)};typeof w<"u"&&typeof P<"u"?N.computedPosition=G_({x:w,y:P,z:T},Q):N.computedPosition=Q},{flush:"post",immediate:!0}),Oe([()=>N.extent,h],([C,S],[w,P])=>{(C!==w||S!==P)&&q()}),N.extent==="parent"||typeof N.extent=="object"&&"range"in N.extent&&N.extent.range==="parent"?pl(()=>oe).toBe(!0).then(q):q(),()=>N.hidden?null:Xe("div",{ref:M,"data-id":N.id,class:["vue-flow__node",`vue-flow__node-${de.value===!1?"default":N.type||"default"}`,{[n.value]:$.value,dragging:K==null?void 0:K.value,draggable:$.value,selected:N.selected,selectable:z.value,parent:N.isParent},ae.value],style:{visibility:oe.value?"visible":"hidden",zIndex:N.computedPosition.z??pe.value,transform:`translate(${N.computedPosition.x}px,${N.computedPosition.y}px)`,pointerEvents:Z.value?"all":"none",...ue.value},tabIndex:J.value?0:void 0,role:J.value?"group":void 0,"aria-describedby":m.value?void 0:`${Tp}-${t}`,"aria-label":N.ariaLabel,"aria-roledescription":"node",...N.domAttributes,onMouseenter:ie,onMousemove:ge,onMouseleave:ke,onContextmenu:I,onClick:b,onDblclick:D,onKeydown:k},[Xe(de.value===!1?d.value.default:de.value,{id:N.id,type:N.type,data:N.data,events:{...N.events,...A},selected:N.selected,resizing:N.resizing,dragging:K.value,connectable:V.value,position:N.computedPosition,dimensions:N.dimensions,isValidTargetPos:N.isValidTargetPos,isValidSourcePos:N.isValidSourcePos,parent:N.parentNode,parentNodeId:N.parentNode,zIndex:N.computedPosition.z??pe.value,targetPosition:N.targetPosition,sourcePosition:N.sourcePosition,label:N.label,dragHandle:N.dragHandle,onUpdateNodeInternals:se})]);function q(){const C=N.computedPosition,{computedPosition:S,position:w}=Au(N,g.value?ha(C,y.value):C,i.error,h.value,W.value);(N.computedPosition.x!==S.x||N.computedPosition.y!==S.y)&&(N.computedPosition={...N.computedPosition,...S}),(N.position.x!==w.x||N.position.y!==w.y)&&(N.position=w)}function se(){M.value&&u([{id:e.id,nodeElement:M.value,forceUpdate:!0}])}function ie(C){K!=null&&K.value||p.mouseEnter({event:C,node:N})}function ge(C){K!=null&&K.value||p.mouseMove({event:C,node:N})}function ke(C){K!=null&&K.value||p.mouseLeave({event:C,node:N})}function I(C){return p.contextMenu({event:C,node:N})}function D(C){return p.doubleClick({event:C,node:N})}function b(C){z.value&&(!o.value||!$.value||E.value>0)&&Cl(N,s.value,l,a,r,!1,M.value),p.click({event:C,node:N})}function k(C){if(!(El(C)||m.value))if(Ap.includes(C.key)&&z.value){const S=C.key==="Escape";Cl(N,s.value,l,a,r,S,M.value)}else $.value&&N.selected&&Wo[C.key]&&(C.preventDefault(),v.value=`Moved selected node ${C.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~N.position.x}, y: ${~~N.position.y}`,H({x:Wo[C.key].x,y:Wo[C.key].y},C.shiftKey))}}}),Vw=Rw;function zw(e={includeHiddenNodes:!1}){const{nodes:t}=at();return ne(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const Hw={class:"vue-flow__nodes vue-flow__container"},Lw={name:"Nodes",compatConfig:{MODE:3}},Fw=ot({...Lw,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=at(),r=zw(),s=fe();return Oe(r,i=>{i&&Dt(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),gt(()=>{s.value=new ResizeObserver(i=>{const a=i.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));Dt(()=>n(a))})}),gu(()=>{var i;return(i=s.value)==null?void 0:i.disconnect()}),(i,a)=>(R(),L("div",Hw,[s.value?(R(!0),L(Ie,{key:0},rt(ce(t),(l,u,c,d)=>{const h=[l.id];if(d&&d.key===l.id&&rv(d,h))return d;const f=(R(),ut(ce(Vw),{id:l.id,key:l.id,"resize-observer":s.value},null,8,["id","resize-observer"]));return f.memo=h,f},a,0),128)):xe("",!0)]))}});function Bw(){const{emits:e}=at();gt(()=>{if(Up()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new xt(vt.MISSING_STYLES))}})}const jw=x("div",{class:"vue-flow__edge-labels"},null,-1),Uw={name:"VueFlow",compatConfig:{MODE:3}},Yw=ot({...Uw,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,r=_h(),s=Ra(o,"modelValue",n),i=Ra(o,"nodes",n),a=Ra(o,"edges",n),l=at(o),u=w1({modelValue:s,nodes:i,edges:a},o,l);return E1(n,l.hooks),_w(),Bw(),Xt(pa,r),Io(u),t(l),(c,d)=>(R(),L("div",{ref:ce(l).vueFlowRef,class:"vue-flow"},[re(gw,null,{default:Ae(()=>[re(Pw),jw,re(Fw),pt(c.$slots,"zoom-pane")]),_:3}),pt(c.$slots,"default"),re(xw)],512))}}),Ww={name:"Panel",compatConfig:{MODE:3}},og=ot({...Ww,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=at(),o=ne(()=>`${t.position}`.split("-"));return(r,s)=>(R(),L("div",{class:st(["vue-flow__panel",o.value]),style:ct({pointerEvents:ce(n)?"none":"all"})},[pt(r.$slots,"default")],6))}});var un=(e=>(e.Lines="lines",e.Dots="dots",e))(un||{});const rg=function({dimensions:e,size:t,color:n}){return Xe("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},sg=function({radius:e,color:t}){return Xe("circle",{cx:e,cy:e,r:e,fill:t})};un.Lines+"",un.Dots+"";const Gw={[un.Dots]:"#81818a",[un.Lines]:"#eee"},Zw=["id","x","y","width","height","patternTransform"],qw={key:2,height:"100",width:"100"},Xw=["fill"],Kw=["x","y","fill"],Jw={name:"Background",compatConfig:{MODE:3}},Qw=ot({...Jw,props:{id:{},variant:{default:()=>un.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=at(),o=ne(()=>{const i=n.value.zoom,[a,l]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],u=[a*i||1,l*i||1],c=e.size*i,[d,h]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],f=[d*i||1+u[0]/2,h*i||1+u[1]/2];return{scaledGap:u,offset:f,size:c}}),r=nt(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),s=nt(()=>e.color||e.patternColor||Gw[e.variant||un.Dots]);return(i,a)=>(R(),L("svg",{class:"vue-flow__background vue-flow__container",style:ct({height:`${i.height>100?100:i.height}%`,width:`${i.width>100?100:i.width}%`})},[pt(i.$slots,"pattern-container",{id:r.value},()=>[x("pattern",{id:r.value,x:ce(n).x%o.value.scaledGap[0],y:ce(n).y%o.value.scaledGap[1],width:o.value.scaledGap[0],height:o.value.scaledGap[1],patternTransform:`translate(-${o.value.offset[0]},-${o.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[pt(i.$slots,"pattern",{},()=>[i.variant===ce(un).Lines?(R(),ut(ce(rg),{key:0,size:i.lineWidth,color:s.value,dimensions:o.value.scaledGap},null,8,["size","color","dimensions"])):i.variant===ce(un).Dots?(R(),ut(ce(sg),{key:1,color:s.value,radius:o.value.size/2},null,8,["color","radius"])):xe("",!0),i.bgColor?(R(),L("svg",qw,[x("rect",{width:"100%",height:"100%",fill:i.bgColor},null,8,Xw)])):xe("",!0)])],8,Zw)]),x("rect",{x:i.x,y:i.y,width:"100%",height:"100%",fill:`url(#${r.value})`},null,8,Kw),pt(i.$slots,"default",{id:r.value})],4))}}),ek={name:"ControlButton",compatConfig:{MODE:3}},tk=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},nk={type:"button",class:"vue-flow__controls-button"};function ok(e,t,n,o,r,s){return R(),L("button",nk,[pt(e.$slots,"default")])}const Fs=tk(ek,[["render",ok]]),rk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},sk=x("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),ik=[sk];function ak(e,t){return R(),L("svg",rk,ik)}const lk={render:ak},uk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ck=x("path",{d:"M0 0h32v4.2H0z"},null,-1),dk=[ck];function fk(e,t){return R(),L("svg",uk,dk)}const hk={render:fk},pk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},gk=x("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),mk=[gk];function yk(e,t){return R(),L("svg",pk,mk)}const vk={render:yk},bk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},xk=x("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),_k=[xk];function wk(e,t){return R(),L("svg",bk,_k)}const kk={render:wk},Ek={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},$k=x("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),Sk=[$k];function Ck(e,t){return R(),L("svg",Ek,Sk)}const Nk={render:Ck},Tk={name:"Controls",compatConfig:{MODE:3}},Ik=ot({...Tk,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>Np.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:r,setInteractive:s,zoomIn:i,zoomOut:a,fitView:l,viewport:u,minZoom:c,maxZoom:d}=at(),h=nt(()=>n.value||o.value||r.value),f=nt(()=>u.value.zoom<=c.value),m=nt(()=>u.value.zoom>=d.value);function v(){i(),t("zoomIn")}function g(){a(),t("zoomOut")}function y(){l(e.fitViewParams),t("fitView")}function E(){s(!h.value),t("interactionChange",!h.value)}return(_,O)=>(R(),ut(ce(og),{class:"vue-flow__controls",position:_.position},{default:Ae(()=>[pt(_.$slots,"top"),_.showZoom?(R(),L(Ie,{key:0},[pt(_.$slots,"control-zoom-in",{},()=>[re(Fs,{class:"vue-flow__controls-zoomin",disabled:m.value,onClick:v},{default:Ae(()=>[pt(_.$slots,"icon-zoom-in",{},()=>[(R(),ut(Qn(ce(lk))))])]),_:3},8,["disabled"])]),pt(_.$slots,"control-zoom-out",{},()=>[re(Fs,{class:"vue-flow__controls-zoomout",disabled:f.value,onClick:g},{default:Ae(()=>[pt(_.$slots,"icon-zoom-out",{},()=>[(R(),ut(Qn(ce(hk))))])]),_:3},8,["disabled"])])],64)):xe("",!0),_.showFitView?pt(_.$slots,"control-fit-view",{key:1},()=>[re(Fs,{class:"vue-flow__controls-fitview",onClick:y},{default:Ae(()=>[pt(_.$slots,"icon-fit-view",{},()=>[(R(),ut(Qn(ce(vk))))])]),_:3})]):xe("",!0),_.showInteractive?pt(_.$slots,"control-interactive",{key:2},()=>[_.showInteractive?(R(),ut(Fs,{key:0,class:"vue-flow__controls-interactive",onClick:E},{default:Ae(()=>[h.value?pt(_.$slots,"icon-unlock",{key:0},()=>[(R(),ut(Qn(ce(Nk))))]):xe("",!0),h.value?xe("",!0):pt(_.$slots,"icon-lock",{key:1},()=>[(R(),ut(Qn(ce(kk))))])]),_:3})):xe("",!0)]):xe("",!0),pt(_.$slots,"default")]),_:3},8,["position"]))}});var Ak={value:()=>{}};function Du(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new ni(n)}function ni(e){this._=e}function Ok(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}ni.prototype=Du.prototype={constructor:ni,on:function(e,t){var n=this._,o=Ok(e+"",n),r,s=-1,i=o.length;if(arguments.length<2){for(;++s<i;)if((r=(e=o[s]).type)&&(r=Mk(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(r=(e=o[s]).type)n[r]=gd(n[r],e.name,t);else if(t==null)for(r in n)n[r]=gd(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ni(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,s;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,r=s.length;o<r;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)}};function Mk(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function gd(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=Ak,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Tl="http://www.w3.org/1999/xhtml";const md={svg:"http://www.w3.org/2000/svg",xhtml:Tl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ba(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),md.hasOwnProperty(t)?{space:md[t],local:e}:e}function Dk(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Tl&&t.documentElement.namespaceURI===Tl?t.createElement(e):t.createElementNS(n,e)}}function Pk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ig(e){var t=ba(e);return(t.local?Pk:Dk)(t)}function Rk(){}function Pu(e){return e==null?Rk:function(){return this.querySelector(e)}}function Vk(e){typeof e!="function"&&(e=Pu(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=new Array(i),l,u,c=0;c<i;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Lt(o,this._parents)}function zk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Hk(){return[]}function ag(e){return e==null?Hk:function(){return this.querySelectorAll(e)}}function Lk(e){return function(){return zk(e.apply(this,arguments))}}function Fk(e){typeof e=="function"?e=Lk(e):e=ag(e);for(var t=this._groups,n=t.length,o=[],r=[],s=0;s<n;++s)for(var i=t[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&(o.push(e.call(l,l.__data__,u,i)),r.push(l));return new Lt(o,r)}function lg(e){return function(){return this.matches(e)}}function ug(e){return function(t){return t.matches(e)}}var Bk=Array.prototype.find;function jk(e){return function(){return Bk.call(this.children,e)}}function Uk(){return this.firstElementChild}function Yk(e){return this.select(e==null?Uk:jk(typeof e=="function"?e:ug(e)))}var Wk=Array.prototype.filter;function Gk(){return Array.from(this.children)}function Zk(e){return function(){return Wk.call(this.children,e)}}function qk(e){return this.selectAll(e==null?Gk:Zk(typeof e=="function"?e:ug(e)))}function Xk(e){typeof e!="function"&&(e=lg(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Lt(o,this._parents)}function cg(e){return new Array(e.length)}function Kk(){return new Lt(this._enter||this._groups.map(cg),this._parents)}function Oi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Oi.prototype={constructor:Oi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Jk(e){return function(){return e}}function Qk(e,t,n,o,r,s){for(var i=0,a,l=t.length,u=s.length;i<u;++i)(a=t[i])?(a.__data__=s[i],o[i]=a):n[i]=new Oi(e,s[i]);for(;i<l;++i)(a=t[i])&&(r[i]=a)}function eE(e,t,n,o,r,s,i){var a,l,u=new Map,c=t.length,d=s.length,h=new Array(c),f;for(a=0;a<c;++a)(l=t[a])&&(h[a]=f=i.call(l,l.__data__,a,t)+"",u.has(f)?r[a]=l:u.set(f,l));for(a=0;a<d;++a)f=i.call(e,s[a],a,s)+"",(l=u.get(f))?(o[a]=l,l.__data__=s[a],u.delete(f)):n[a]=new Oi(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(r[a]=l)}function tE(e){return e.__data__}function nE(e,t){if(!arguments.length)return Array.from(this,tE);var n=t?eE:Qk,o=this._parents,r=this._groups;typeof e!="function"&&(e=Jk(e));for(var s=r.length,i=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=o[u],d=r[u],h=d.length,f=oE(e.call(c,c&&c.__data__,u,o)),m=f.length,v=a[u]=new Array(m),g=i[u]=new Array(m),y=l[u]=new Array(h);n(c,d,v,g,y,f,t);for(var E=0,_=0,O,X;E<m;++E)if(O=v[E]){for(E>=_&&(_=E+1);!(X=g[_])&&++_<m;);O._next=X||null}}return i=new Lt(i,o),i._enter=a,i._exit=l,i}function oE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rE(){return new Lt(this._exit||this._groups.map(cg),this._parents)}function sE(e,t,n){var o=this.enter(),r=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),o&&r?o.merge(r).order():r}function iE(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,s=o.length,i=Math.min(r,s),a=new Array(r),l=0;l<i;++l)for(var u=n[l],c=o[l],d=u.length,h=a[l]=new Array(d),f,m=0;m<d;++m)(f=u[m]||c[m])&&(h[m]=f);for(;l<r;++l)a[l]=n[l];return new Lt(a,this._parents)}function aE(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,s=o[r],i;--r>=0;)(i=o[r])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function lE(e){e||(e=uE);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s){for(var i=n[s],a=i.length,l=r[s]=new Array(a),u,c=0;c<a;++c)(u=i[c])&&(l[c]=u);l.sort(t)}return new Lt(r,this._parents).order()}function uE(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function cE(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function dE(){return Array.from(this)}function fE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length;r<s;++r){var i=o[r];if(i)return i}return null}function hE(){let e=0;for(const t of this)++e;return e}function pE(){return!this.node()}function gE(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],s=0,i=r.length,a;s<i;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function mE(e){return function(){this.removeAttribute(e)}}function yE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vE(e,t){return function(){this.setAttribute(e,t)}}function bE(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function xE(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _E(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wE(e,t){var n=ba(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?yE:mE:typeof t=="function"?n.local?_E:xE:n.local?bE:vE)(n,t))}function dg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kE(e){return function(){this.style.removeProperty(e)}}function EE(e,t,n){return function(){this.style.setProperty(e,t,n)}}function $E(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function SE(e,t,n){return arguments.length>1?this.each((t==null?kE:typeof t=="function"?$E:EE)(e,t,n??"")):or(this.node(),e)}function or(e,t){return e.style.getPropertyValue(t)||dg(e).getComputedStyle(e,null).getPropertyValue(t)}function CE(e){return function(){delete this[e]}}function NE(e,t){return function(){this[e]=t}}function TE(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function IE(e,t){return arguments.length>1?this.each((t==null?CE:typeof t=="function"?TE:NE)(e,t)):this.node()[e]}function fg(e){return e.trim().split(/^|\s+/)}function Ru(e){return e.classList||new hg(e)}function hg(e){this._node=e,this._names=fg(e.getAttribute("class")||"")}hg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pg(e,t){for(var n=Ru(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function gg(e,t){for(var n=Ru(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function AE(e){return function(){pg(this,e)}}function OE(e){return function(){gg(this,e)}}function ME(e,t){return function(){(t.apply(this,arguments)?pg:gg)(this,e)}}function DE(e,t){var n=fg(e+"");if(arguments.length<2){for(var o=Ru(this.node()),r=-1,s=n.length;++r<s;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?ME:t?AE:OE)(n,t))}function PE(){this.textContent=""}function RE(e){return function(){this.textContent=e}}function VE(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function zE(e){return arguments.length?this.each(e==null?PE:(typeof e=="function"?VE:RE)(e)):this.node().textContent}function HE(){this.innerHTML=""}function LE(e){return function(){this.innerHTML=e}}function FE(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function BE(e){return arguments.length?this.each(e==null?HE:(typeof e=="function"?FE:LE)(e)):this.node().innerHTML}function jE(){this.nextSibling&&this.parentNode.appendChild(this)}function UE(){return this.each(jE)}function YE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function WE(){return this.each(YE)}function GE(e){var t=typeof e=="function"?e:ig(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ZE(){return null}function qE(e,t){var n=typeof e=="function"?e:ig(e),o=t==null?ZE:typeof t=="function"?t:Pu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function XE(){var e=this.parentNode;e&&e.removeChild(this)}function KE(){return this.each(XE)}function JE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function QE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function e$(e){return this.select(e?QE:JE)}function t$(e){return arguments.length?this.property("__data__",e):this.node().__data__}function n$(e){return function(t){e.call(this,t,this.__data__)}}function o$(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function r$(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function s$(e,t,n){return function(){var o=this.__on,r,s=n$(t);if(o){for(var i=0,a=o.length;i<a;++i)if((r=o[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(r):this.__on=[r]}}function i$(e,t,n){var o=o$(e+""),r,s=o.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<s;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}return}for(a=t?s$:r$,r=0;r<s;++r)this.each(a(o[r],t,n));return this}function mg(e,t,n){var o=dg(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function a$(e,t){return function(){return mg(this,e,t)}}function l$(e,t){return function(){return mg(this,e,t.apply(this,arguments))}}function u$(e,t){return this.each((typeof t=="function"?l$:a$)(e,t))}function*c$(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length,i;r<s;++r)(i=o[r])&&(yield i)}var yg=[null];function Lt(e,t){this._groups=e,this._parents=t}function Ss(){return new Lt([[document.documentElement]],yg)}function d$(){return this}Lt.prototype=Ss.prototype={constructor:Lt,select:Vk,selectAll:Fk,selectChild:Yk,selectChildren:qk,filter:Xk,data:nE,enter:Kk,exit:rE,join:sE,merge:iE,selection:d$,order:aE,sort:lE,call:cE,nodes:dE,node:fE,size:hE,empty:pE,each:gE,attr:wE,style:SE,property:IE,classed:DE,text:zE,html:BE,raise:UE,lower:WE,append:GE,insert:qE,remove:KE,clone:e$,datum:t$,on:i$,dispatch:u$,[Symbol.iterator]:c$};function to(e){return typeof e=="string"?new Lt([[document.querySelector(e)]],[document.documentElement]):new Lt([[e]],yg)}function f$(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wn(e,t){if(e=f$(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Il={capture:!0,passive:!1};function Al(e){e.preventDefault(),e.stopImmediatePropagation()}function h$(e){var t=e.document.documentElement,n=to(e).on("dragstart.drag",Al,Il);"onselectstart"in t?n.on("selectstart.drag",Al,Il):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function p$(e,t){var n=e.document.documentElement,o=to(e).on("dragstart.drag",null);t&&(o.on("click.drag",Al,Il),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Vu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vg(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Cs(){}var cs=.7,Mi=1/cs,Go="\\s*([+-]?\\d+)\\s*",ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g$=/^#([0-9a-f]{3,8})$/,m$=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),y$=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),v$=new RegExp(`^rgba\\(${Go},${Go},${Go},${ds}\\)$`),b$=new RegExp(`^rgba\\(${fn},${fn},${fn},${ds}\\)$`),x$=new RegExp(`^hsl\\(${ds},${fn},${fn}\\)$`),_$=new RegExp(`^hsla\\(${ds},${fn},${fn},${ds}\\)$`),yd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vu(Cs,fs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vd,formatHex:vd,formatHex8:w$,formatHsl:k$,formatRgb:bd,toString:bd});function vd(){return this.rgb().formatHex()}function w$(){return this.rgb().formatHex8()}function k$(){return bg(this).formatHsl()}function bd(){return this.rgb().formatRgb()}function fs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=g$.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xd(t):n===3?new Vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=m$.exec(e))?new Vt(t[1],t[2],t[3],1):(t=y$.exec(e))?new Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=v$.exec(e))?Bs(t[1],t[2],t[3],t[4]):(t=b$.exec(e))?Bs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=x$.exec(e))?kd(t[1],t[2]/100,t[3]/100,1):(t=_$.exec(e))?kd(t[1],t[2]/100,t[3]/100,t[4]):yd.hasOwnProperty(e)?xd(yd[e]):e==="transparent"?new Vt(NaN,NaN,NaN,0):null}function xd(e){return new Vt(e>>16&255,e>>8&255,e&255,1)}function Bs(e,t,n,o){return o<=0&&(e=t=n=NaN),new Vt(e,t,n,o)}function E$(e){return e instanceof Cs||(e=fs(e)),e?(e=e.rgb(),new Vt(e.r,e.g,e.b,e.opacity)):new Vt}function Ol(e,t,n,o){return arguments.length===1?E$(e):new Vt(e,t,n,o??1)}function Vt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Vu(Vt,Ol,vg(Cs,{brighter(e){return e=e==null?Mi:Math.pow(Mi,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cs:Math.pow(cs,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vt(ko(this.r),ko(this.g),ko(this.b),Di(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_d,formatHex:_d,formatHex8:$$,formatRgb:wd,toString:wd}));function _d(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}`}function $$(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}${yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function wd(){const e=Di(this.opacity);return`${e===1?"rgb(":"rgba("}${ko(this.r)}, ${ko(this.g)}, ${ko(this.b)}${e===1?")":`, ${e})`}`}function Di(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ko(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yo(e){return e=ko(e),(e<16?"0":"")+e.toString(16)}function kd(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Gt(e,t,n,o)}function bg(e){if(e instanceof Gt)return new Gt(e.h,e.s,e.l,e.opacity);if(e instanceof Cs||(e=fs(e)),!e)return new Gt;if(e instanceof Gt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),s=Math.max(t,n,o),i=NaN,a=s-r,l=(s+r)/2;return a?(t===s?i=(n-o)/a+(n<o)*6:n===s?i=(o-t)/a+2:i=(t-n)/a+4,a/=l<.5?s+r:2-s-r,i*=60):a=l>0&&l<1?0:i,new Gt(i,a,l,e.opacity)}function S$(e,t,n,o){return arguments.length===1?bg(e):new Gt(e,t,n,o??1)}function Gt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Vu(Gt,S$,vg(Cs,{brighter(e){return e=e==null?Mi:Math.pow(Mi,e),new Gt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cs:Math.pow(cs,e),new Gt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Vt(Ga(e>=240?e-240:e+120,r,o),Ga(e,r,o),Ga(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Gt(Ed(this.h),js(this.s),js(this.l),Di(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Di(this.opacity);return`${e===1?"hsl(":"hsla("}${Ed(this.h)}, ${js(this.s)*100}%, ${js(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ed(e){return e=(e||0)%360,e<0?e+360:e}function js(e){return Math.max(0,Math.min(1,e||0))}function Ga(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const xg=e=>()=>e;function C$(e,t){return function(n){return e+n*t}}function N$(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function T$(e){return(e=+e)==1?_g:function(t,n){return n-t?N$(t,n,e):xg(isNaN(t)?n:t)}}function _g(e,t){var n=t-e;return n?C$(e,n):xg(isNaN(e)?t:e)}const $d=(function e(t){var n=T$(t);function o(r,s){var i=n((r=Ol(r)).r,(s=Ol(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),u=_g(r.opacity,s.opacity);return function(c){return r.r=i(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return o.gamma=e,o})(1);function Xn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ml=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Za=new RegExp(Ml.source,"g");function I$(e){return function(){return e}}function A$(e){return function(t){return e(t)+""}}function O$(e,t){var n=Ml.lastIndex=Za.lastIndex=0,o,r,s,i=-1,a=[],l=[];for(e=e+"",t=t+"";(o=Ml.exec(e))&&(r=Za.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(o=o[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,l.push({i,x:Xn(o,r)})),n=Za.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?l[0]?A$(l[0].x):I$(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}var Sd=180/Math.PI,Dl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wg(e,t,n,o,r,s){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,l/=a),e*o<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Sd,skewX:Math.atan(l)*Sd,scaleX:i,scaleY:a}}var Us;function M$(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Dl:wg(t.a,t.b,t.c,t.d,t.e,t.f)}function D$(e){return e==null||(Us||(Us=document.createElementNS("http://www.w3.org/2000/svg","g")),Us.setAttribute("transform",e),!(e=Us.transform.baseVal.consolidate()))?Dl:(e=e.matrix,wg(e.a,e.b,e.c,e.d,e.e,e.f))}function kg(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function s(u,c,d,h,f,m){if(u!==d||c!==h){var v=f.push("translate(",null,t,null,n);m.push({i:v-4,x:Xn(u,d)},{i:v-2,x:Xn(c,h)})}else(d||h)&&f.push("translate("+d+t+h+n)}function i(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(r(d)+"rotate(",null,o)-2,x:Xn(u,c)})):c&&d.push(r(d)+"rotate("+c+o)}function a(u,c,d,h){u!==c?h.push({i:d.push(r(d)+"skewX(",null,o)-2,x:Xn(u,c)}):c&&d.push(r(d)+"skewX("+c+o)}function l(u,c,d,h,f,m){if(u!==d||c!==h){var v=f.push(r(f)+"scale(",null,",",null,")");m.push({i:v-4,x:Xn(u,d)},{i:v-2,x:Xn(c,h)})}else(d!==1||h!==1)&&f.push(r(f)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,h),i(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(f){for(var m=-1,v=h.length,g;++m<v;)d[(g=h[m]).i]=g.x(f);return d.join("")}}}var P$=kg(M$,"px, ","px)","deg)"),R$=kg(D$,", ",")",")"),V$=1e-12;function Cd(e){return((e=Math.exp(e))+1/e)/2}function z$(e){return((e=Math.exp(e))-1/e)/2}function H$(e){return((e=Math.exp(2*e))-1)/(e+1)}const L$=(function e(t,n,o){function r(s,i){var a=s[0],l=s[1],u=s[2],c=i[0],d=i[1],h=i[2],f=c-a,m=d-l,v=f*f+m*m,g,y;if(v<V$)y=Math.log(h/u)/t,g=function(j){return[a+j*f,l+j*m,u*Math.exp(t*j*y)]};else{var E=Math.sqrt(v),_=(h*h-u*u+o*v)/(2*u*n*E),O=(h*h-u*u-o*v)/(2*h*n*E),X=Math.log(Math.sqrt(_*_+1)-_),U=Math.log(Math.sqrt(O*O+1)-O);y=(U-X)/t,g=function(j){var M=j*y,B=Cd(X),Y=u/(n*E)*(B*H$(t*M+X)-z$(X));return[a+Y*f,l+Y*m,u*B/Cd(t*M+X)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return r.rho=function(s){var i=Math.max(.001,+s),a=i*i,l=a*a;return e(i,a,l)},r})(Math.SQRT2,2,4);var rr=0,Ir=0,_r=0,Eg=1e3,Pi,Ar,Ri=0,No=0,xa=0,hs=typeof performance=="object"&&performance.now?performance:Date,$g=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zu(){return No||($g(F$),No=hs.now()+xa)}function F$(){No=0}function Vi(){this._call=this._time=this._next=null}Vi.prototype=Sg.prototype={constructor:Vi,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?zu():+n)+(t==null?0:+t),!this._next&&Ar!==this&&(Ar?Ar._next=this:Pi=this,Ar=this),this._call=e,this._time=n,Pl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pl())}};function Sg(e,t,n){var o=new Vi;return o.restart(e,t,n),o}function B$(){zu(),++rr;for(var e=Pi,t;e;)(t=No-e._time)>=0&&e._call.call(void 0,t),e=e._next;--rr}function Nd(){No=(Ri=hs.now())+xa,rr=Ir=0;try{B$()}finally{rr=0,U$(),No=0}}function j$(){var e=hs.now(),t=e-Ri;t>Eg&&(xa-=t,Ri=e)}function U$(){for(var e,t=Pi,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Pi=n);Ar=e,Pl(o)}function Pl(e){if(!rr){Ir&&(Ir=clearTimeout(Ir));var t=e-No;t>24?(e<1/0&&(Ir=setTimeout(Nd,e-hs.now()-xa)),_r&&(_r=clearInterval(_r))):(_r||(Ri=hs.now(),_r=setInterval(j$,Eg)),rr=1,$g(Nd))}}function Td(e,t,n){var o=new Vi;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var Y$=Du("start","end","cancel","interrupt"),W$=[],Cg=0,Id=1,Rl=2,oi=3,Ad=4,Vl=5,ri=6;function _a(e,t,n,o,r,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;G$(e,n,{name:t,index:o,group:r,on:Y$,tween:W$,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Cg})}function Hu(e,t){var n=en(e,t);if(n.state>Cg)throw new Error("too late; already scheduled");return n}function vn(e,t){var n=en(e,t);if(n.state>oi)throw new Error("too late; already running");return n}function en(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function G$(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=Sg(s,0,n.time);function s(u){n.state=Id,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,h,f;if(n.state!==Id)return l();for(c in o)if(f=o[c],f.name===n.name){if(f.state===oi)return Td(i);f.state===Ad?(f.state=ri,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=ri,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[c])}if(Td(function(){n.state===oi&&(n.state=Ad,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Rl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Rl){for(n.state=oi,r=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=f);r.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Vl,1),d=-1,h=r.length;++d<h;)r[d].call(e,c);n.state===Vl&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ri,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function si(e,t){var n=e.__transition,o,r,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){s=!1;continue}r=o.state>Rl&&o.state<Vl,o.state=ri,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}s&&delete e.__transition}}function Z$(e){return this.each(function(){si(this,e)})}function q$(e,t){var n,o;return function(){var r=vn(this,e),s=r.tween;if(s!==n){o=n=s;for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}r.tween=o}}function X$(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var s=vn(this,e),i=s.tween;if(i!==o){r=(o=i).slice();for(var a={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=a;break}l===u&&r.push(a)}s.tween=r}}function K$(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=en(this.node(),n).tween,r=0,s=o.length,i;r<s;++r)if((i=o[r]).name===e)return i.value;return null}return this.each((t==null?q$:X$)(n,e,t))}function Lu(e,t,n){var o=e._id;return e.each(function(){var r=vn(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return en(r,o).value[t]}}function Ng(e,t){var n;return(typeof t=="number"?Xn:t instanceof fs?$d:(n=fs(t))?(t=n,$d):O$)(e,t)}function J$(e){return function(){this.removeAttribute(e)}}function Q$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function eS(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttribute(e);return i===r?null:i===o?s:s=t(o=i,n)}}function tS(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===o?s:s=t(o=i,n)}}function nS(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function oS(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function rS(e,t){var n=ba(e),o=n==="transform"?R$:Ng;return this.attrTween(e,typeof t=="function"?(n.local?oS:nS)(n,o,Lu(this,"attr."+e,t)):t==null?(n.local?Q$:J$)(n):(n.local?tS:eS)(n,o,t))}function sS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function iS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function aS(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&iS(e,s)),n}return r._value=t,r}function lS(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&sS(e,s)),n}return r._value=t,r}function uS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=ba(e);return this.tween(n,(o.local?aS:lS)(o,t))}function cS(e,t){return function(){Hu(this,e).delay=+t.apply(this,arguments)}}function dS(e,t){return t=+t,function(){Hu(this,e).delay=t}}function fS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cS:dS)(t,e)):en(this.node(),t).delay}function hS(e,t){return function(){vn(this,e).duration=+t.apply(this,arguments)}}function pS(e,t){return t=+t,function(){vn(this,e).duration=t}}function gS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hS:pS)(t,e)):en(this.node(),t).duration}function mS(e,t){if(typeof t!="function")throw new Error;return function(){vn(this,e).ease=t}}function yS(e){var t=this._id;return arguments.length?this.each(mS(t,e)):en(this.node(),t).ease}function vS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;vn(this,e).ease=n}}function bS(e){if(typeof e!="function")throw new Error;return this.each(vS(this._id,e))}function xS(e){typeof e!="function"&&(e=lg(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new zn(o,this._parents,this._name,this._id)}function _S(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),i=new Array(o),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=i[a]=new Array(c),h,f=0;f<c;++f)(h=l[f]||u[f])&&(d[f]=h);for(;a<o;++a)i[a]=t[a];return new zn(i,this._parents,this._name,this._id)}function wS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function kS(e,t,n){var o,r,s=wS(t)?Hu:vn;return function(){var i=s(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}function ES(e,t){var n=this._id;return arguments.length<2?en(this.node(),n).on.on(e):this.each(kS(n,e,t))}function $S(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function SS(){return this.on("end.remove",$S(this._id))}function CS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Pu(e));for(var o=this._groups,r=o.length,s=new Array(r),i=0;i<r;++i)for(var a=o[i],l=a.length,u=s[i]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=e.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,_a(u[h],t,n,h,u,en(c,n)));return new zn(s,this._parents,t,n)}function NS(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ag(e));for(var o=this._groups,r=o.length,s=[],i=[],a=0;a<r;++a)for(var l=o[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=e.call(c,c.__data__,d,l),f,m=en(c,n),v=0,g=h.length;v<g;++v)(f=h[v])&&_a(f,t,n,v,h,m);s.push(h),i.push(c)}return new zn(s,i,t,n)}var TS=Ss.prototype.constructor;function IS(){return new TS(this._groups,this._parents)}function AS(e,t){var n,o,r;return function(){var s=or(this,e),i=(this.style.removeProperty(e),or(this,e));return s===i?null:s===n&&i===o?r:r=t(n=s,o=i)}}function Tg(e){return function(){this.style.removeProperty(e)}}function OS(e,t,n){var o,r=n+"",s;return function(){var i=or(this,e);return i===r?null:i===o?s:s=t(o=i,n)}}function MS(e,t,n){var o,r,s;return function(){var i=or(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),or(this,e))),i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a))}}function DS(e,t){var n,o,r,s="style."+t,i="end."+s,a;return function(){var l=vn(this,e),u=l.on,c=l.value[s]==null?a||(a=Tg(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(i,r=c),l.on=o}}function PS(e,t,n){var o=(e+="")=="transform"?P$:Ng;return t==null?this.styleTween(e,AS(e,o)).on("end.style."+e,Tg(e)):typeof t=="function"?this.styleTween(e,MS(e,o,Lu(this,"style."+e,t))).each(DS(this._id,e)):this.styleTween(e,OS(e,o,t),n).on("end.style."+e,null)}function RS(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function VS(e,t,n){var o,r;function s(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&RS(e,i,n)),o}return s._value=t,s}function zS(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,VS(e,t,n??""))}function HS(e){return function(){this.textContent=e}}function LS(e){return function(){var t=e(this);this.textContent=t??""}}function FS(e){return this.tween("text",typeof e=="function"?LS(Lu(this,"text",e)):HS(e==null?"":e+""))}function BS(e){return function(t){this.textContent=e.call(this,t)}}function jS(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&BS(r)),t}return o._value=e,o}function US(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,jS(e))}function YS(){for(var e=this._name,t=this._id,n=Ig(),o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)if(l=i[u]){var c=en(l,t);_a(l,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zn(o,this._parents,e,n)}function WS(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(s,i){var a={value:i},l={value:function(){--r===0&&s()}};n.each(function(){var u=vn(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),r===0&&s()})}var GS=0;function zn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Ig(){return++GS}var _n=Ss.prototype;zn.prototype={constructor:zn,select:CS,selectAll:NS,selectChild:_n.selectChild,selectChildren:_n.selectChildren,filter:xS,merge:_S,selection:IS,transition:YS,call:_n.call,nodes:_n.nodes,node:_n.node,size:_n.size,empty:_n.empty,each:_n.each,on:ES,attr:rS,attrTween:uS,style:PS,styleTween:zS,text:FS,textTween:US,remove:SS,tween:K$,delay:fS,duration:gS,ease:yS,easeVarying:bS,end:WS,[Symbol.iterator]:_n[Symbol.iterator]};function ZS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var qS={time:null,delay:0,duration:250,ease:ZS};function XS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function KS(e){var t,n;e instanceof zn?(t=e._id,e=e._name):(t=Ig(),(n=qS).time=zu(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&_a(l,e,t,u,i,n||XS(l,t));return new zn(o,this._parents,e,t)}Ss.prototype.interrupt=Z$;Ss.prototype.transition=KS;const Ys=e=>()=>e;function JS(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Nn(e,t,n){this.k=e,this.x=t,this.y=n}Nn.prototype={constructor:Nn,scale:function(e){return e===1?this:new Nn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Nn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fu=new Nn(1,0,0);Nn.prototype;function qa(e){e.stopImmediatePropagation()}function wr(e){e.preventDefault(),e.stopImmediatePropagation()}function QS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function eC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Od(){return this.__zoom||Fu}function tC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function nC(){return navigator.maxTouchPoints||"ontouchstart"in this}function oC(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function rC(){var e=QS,t=eC,n=oC,o=tC,r=nC,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=L$,u=Du("start","zoom","end"),c,d,h,f=500,m=150,v=0,g=10;function y(p){p.property("__zoom",Od).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",Y).filter(r).on("touchstart.zoom",H).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(p,A,$,z){var V=p.selection?p.selection():p;V.property("__zoom",Od),p!==V?X(p,A,$,z):V.interrupt().each(function(){U(this,arguments).event(z).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},y.scaleBy=function(p,A,$,z){y.scaleTo(p,function(){var V=this.__zoom.k,J=typeof A=="function"?A.apply(this,arguments):A;return V*J},$,z)},y.scaleTo=function(p,A,$,z){y.transform(p,function(){var V=t.apply(this,arguments),J=this.__zoom,Z=$==null?O(V):typeof $=="function"?$.apply(this,arguments):$,oe=J.invert(Z),de=typeof A=="function"?A.apply(this,arguments):A;return n(_(E(J,de),Z,oe),V,i)},$,z)},y.translateBy=function(p,A,$,z){y.transform(p,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),i)},null,z)},y.translateTo=function(p,A,$,z,V){y.transform(p,function(){var J=t.apply(this,arguments),Z=this.__zoom,oe=z==null?O(J):typeof z=="function"?z.apply(this,arguments):z;return n(Fu.translate(oe[0],oe[1]).scale(Z.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof $=="function"?-$.apply(this,arguments):-$),J,i)},z,V)};function E(p,A){return A=Math.max(s[0],Math.min(s[1],A)),A===p.k?p:new Nn(A,p.x,p.y)}function _(p,A,$){var z=A[0]-$[0]*p.k,V=A[1]-$[1]*p.k;return z===p.x&&V===p.y?p:new Nn(p.k,z,V)}function O(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function X(p,A,$,z){p.on("start.zoom",function(){U(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){U(this,arguments).event(z).end()}).tween("zoom",function(){var V=this,J=arguments,Z=U(V,J).event(z),oe=t.apply(V,J),de=$==null?O(oe):typeof $=="function"?$.apply(V,J):$,K=Math.max(oe[1][0]-oe[0][0],oe[1][1]-oe[0][1]),ae=V.__zoom,ue=typeof A=="function"?A.apply(V,J):A,pe=l(ae.invert(de).concat(K/ae.k),ue.invert(de).concat(K/ue.k));return function(q){if(q===1)q=ue;else{var se=pe(q),ie=K/se[2];q=new Nn(ie,de[0]-se[0]*ie,de[1]-se[1]*ie)}Z.zoom(null,q)}})}function U(p,A,$){return!$&&p.__zooming||new j(p,A)}function j(p,A){this.that=p,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,A),this.taps=0}j.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,A){return this.mouse&&p!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var A=to(this.that).datum();u.call(p,this.that,new JS(p,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),A)}};function M(p,...A){if(!e.apply(this,arguments))return;var $=U(this,A).event(p),z=this.__zoom,V=Math.max(s[0],Math.min(s[1],z.k*Math.pow(2,o.apply(this,arguments)))),J=Wn(p);if($.wheel)($.mouse[0][0]!==J[0]||$.mouse[0][1]!==J[1])&&($.mouse[1]=z.invert($.mouse[0]=J)),clearTimeout($.wheel);else{if(z.k===V)return;$.mouse=[J,z.invert(J)],si(this),$.start()}wr(p),$.wheel=setTimeout(Z,m),$.zoom("mouse",n(_(E(z,V),$.mouse[0],$.mouse[1]),$.extent,i));function Z(){$.wheel=null,$.end()}}function B(p,...A){if(h||!e.apply(this,arguments))return;var $=p.currentTarget,z=U(this,A,!0).event(p),V=to(p.view).on("mousemove.zoom",de,!0).on("mouseup.zoom",K,!0),J=Wn(p,$),Z=p.clientX,oe=p.clientY;h$(p.view),qa(p),z.mouse=[J,this.__zoom.invert(J)],si(this),z.start();function de(ae){if(wr(ae),!z.moved){var ue=ae.clientX-Z,pe=ae.clientY-oe;z.moved=ue*ue+pe*pe>v}z.event(ae).zoom("mouse",n(_(z.that.__zoom,z.mouse[0]=Wn(ae,$),z.mouse[1]),z.extent,i))}function K(ae){V.on("mousemove.zoom mouseup.zoom",null),p$(ae.view,z.moved),wr(ae),z.event(ae).end()}}function Y(p,...A){if(e.apply(this,arguments)){var $=this.__zoom,z=Wn(p.changedTouches?p.changedTouches[0]:p,this),V=$.invert(z),J=$.k*(p.shiftKey?.5:2),Z=n(_(E($,J),z,V),t.apply(this,A),i);wr(p),a>0?to(this).transition().duration(a).call(X,Z,z,p):to(this).call(y.transform,Z,z,p)}}function H(p,...A){if(e.apply(this,arguments)){var $=p.touches,z=$.length,V=U(this,A,p.changedTouches.length===z).event(p),J,Z,oe,de;for(qa(p),Z=0;Z<z;++Z)oe=$[Z],de=Wn(oe,this),de=[de,this.__zoom.invert(de),oe.identifier],V.touch0?!V.touch1&&V.touch0[2]!==de[2]&&(V.touch1=de,V.taps=0):(V.touch0=de,J=!0,V.taps=1+!!c);c&&(c=clearTimeout(c)),J&&(V.taps<2&&(d=de[0],c=setTimeout(function(){c=null},f)),si(this),V.start())}}function N(p,...A){if(this.__zooming){var $=U(this,A).event(p),z=p.changedTouches,V=z.length,J,Z,oe,de;for(wr(p),J=0;J<V;++J)Z=z[J],oe=Wn(Z,this),$.touch0&&$.touch0[2]===Z.identifier?$.touch0[0]=oe:$.touch1&&$.touch1[2]===Z.identifier&&($.touch1[0]=oe);if(Z=$.that.__zoom,$.touch1){var K=$.touch0[0],ae=$.touch0[1],ue=$.touch1[0],pe=$.touch1[1],q=(q=ue[0]-K[0])*q+(q=ue[1]-K[1])*q,se=(se=pe[0]-ae[0])*se+(se=pe[1]-ae[1])*se;Z=E(Z,Math.sqrt(q/se)),oe=[(K[0]+ue[0])/2,(K[1]+ue[1])/2],de=[(ae[0]+pe[0])/2,(ae[1]+pe[1])/2]}else if($.touch0)oe=$.touch0[0],de=$.touch0[1];else return;$.zoom("touch",n(_(Z,oe,de),$.extent,i))}}function W(p,...A){if(this.__zooming){var $=U(this,A).event(p),z=p.changedTouches,V=z.length,J,Z;for(qa(p),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),J=0;J<V;++J)Z=z[J],$.touch0&&$.touch0[2]===Z.identifier?delete $.touch0:$.touch1&&$.touch1[2]===Z.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(Z=Wn(Z,this),Math.hypot(d[0]-Z[0],d[1]-Z[1])<g)){var oe=to(this).on("dblclick.zoom");oe&&oe.apply(this,arguments)}}}return y.wheelDelta=function(p){return arguments.length?(o=typeof p=="function"?p:Ys(+p),y):o},y.filter=function(p){return arguments.length?(e=typeof p=="function"?p:Ys(!!p),y):e},y.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:Ys(!!p),y):r},y.extent=function(p){return arguments.length?(t=typeof p=="function"?p:Ys([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),y):t},y.scaleExtent=function(p){return arguments.length?(s[0]=+p[0],s[1]=+p[1],y):[s[0],s[1]]},y.translateExtent=function(p){return arguments.length?(i[0][0]=+p[0][0],i[1][0]=+p[1][0],i[0][1]=+p[0][1],i[1][1]=+p[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(p){return arguments.length?(n=p,y):n},y.duration=function(p){return arguments.length?(a=+p,y):a},y.interpolate=function(p){return arguments.length?(l=p,y):l},y.on=function(){var p=u.on.apply(u,arguments);return p===u?y:p},y.clickDistance=function(p){return arguments.length?(v=(p=+p)*p,y):Math.sqrt(v)},y.tapDistance=function(p){return arguments.length?(g=+p,y):g},y}const Ag=Symbol("MiniMapSlots"),sC=["id","x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],iC={name:"MiniMapNode",compatConfig:{MODE:3},inheritAttrs:!1},aC=ot({...iC,props:{id:{},type:{},selected:{type:Boolean},dragging:{type:Boolean},position:{},dimensions:{},borderRadius:{},color:{},shapeRendering:{},strokeColor:{},strokeWidth:{},hidden:{type:Boolean}},emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(e,{emit:t}){const n=e,o=_t(Ag),r=yu(),s=nt(()=>r.style??{});function i(d){t("click",d)}function a(d){t("dblclick",d)}function l(d){t("mouseenter",d)}function u(d){t("mousemove",d)}function c(d){t("mouseleave",d)}return(d,h)=>!d.hidden&&d.dimensions.width!==0&&d.dimensions.height!==0?(R(),L(Ie,{key:0},[ce(o)[`node-${n.type}`]?(R(),ut(Qn(ce(o)[`node-${n.type}`]),Ue(Jr({key:0},{...n,...d.$attrs})),null,16)):(R(),L("rect",Jr({key:1,id:d.id},d.$attrs,{class:["vue-flow__minimap-node",{selected:d.selected,dragging:d.dragging}],x:d.position.x,y:d.position.y,rx:d.borderRadius,ry:d.borderRadius,width:d.dimensions.width,height:d.dimensions.height,fill:d.color||s.value.background||s.value.backgroundColor,stroke:d.strokeColor,"stroke-width":d.strokeWidth,"shape-rendering":d.shapeRendering,onClick:i,onDblclick:a,onMouseenter:l,onMousemove:u,onMouseleave:c}),null,16,sC))],64)):xe("",!0)}}),lC=["width","height","viewBox","aria-labelledby"],uC=["id"],cC=["d","fill","stroke","stroke-width"],dC={name:"MiniMap",compatConfig:{MODE:3}},fC=ot({...dC,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:{},height:{},ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:1},offsetScale:{default:5},maskBorderRadius:{default:0}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=_h(),o=yu(),r=200,s=150,{id:i,edges:a,viewport:l,translateExtent:u,dimensions:c,emits:d,d3Selection:h,d3Zoom:f,getNodesInitialized:m}=at(),v=fe();Xt(Ag,n);const g=nt(()=>{var V;return e.width??((V=o.style)==null?void 0:V.width)??r}),y=nt(()=>{var V;return e.height??((V=o.style)==null?void 0:V.height)??s}),E=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",_=ne(()=>typeof e.nodeColor=="string"?()=>e.nodeColor:e.nodeColor),O=ne(()=>typeof e.nodeStrokeColor=="string"?()=>e.nodeStrokeColor:e.nodeStrokeColor),X=ne(()=>typeof e.nodeClassName=="string"?()=>e.nodeClassName:typeof e.nodeClassName=="function"?e.nodeClassName:()=>""),U=ne(()=>Iu(m.value.filter(V=>!V.hidden))),j=ne(()=>({x:-l.value.x/l.value.zoom,y:-l.value.y/l.value.zoom,width:c.value.width/l.value.zoom,height:c.value.height/l.value.zoom})),M=ne(()=>m.value&&m.value.length?U_(U.value,j.value):j.value),B=ne(()=>{const V=M.value.width/g.value,J=M.value.height/y.value;return Math.max(V,J)}),Y=ne(()=>{const V=B.value*g.value,J=B.value*y.value,Z=e.offsetScale*B.value;return{offset:Z,x:M.value.x-(V-M.value.width)/2-Z,y:M.value.y-(J-M.value.height)/2-Z,width:V+Z*2,height:J+Z*2}}),H=ne(()=>!Y.value.x||!Y.value.y?"":`
    M${Y.value.x-Y.value.offset},${Y.value.y-Y.value.offset}
    h${Y.value.width+Y.value.offset*2}
    v${Y.value.height+Y.value.offset*2}
    h${-Y.value.width-Y.value.offset*2}z
    M${j.value.x+e.maskBorderRadius},${j.value.y}
    h${j.value.width-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},${e.maskBorderRadius}
    v${j.value.height-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},${e.maskBorderRadius}
    h${-(j.value.width-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},-${e.maskBorderRadius}
    v${-(j.value.height-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},-${e.maskBorderRadius}z`);zy(V=>{if(v.value){const J=to(v.value),Z=K=>{if(K.sourceEvent.type!=="wheel"||!h.value||!f.value)return;const ae=K.sourceEvent.ctrlKey&&us()?10:1,ue=-K.sourceEvent.deltaY*(K.sourceEvent.deltaMode===1?.05:K.sourceEvent.deltaMode?1:.002)*e.zoomStep,pe=l.value.zoom*2**(ue*ae);f.value.scaleTo(h.value,pe)},oe=K=>{if(K.sourceEvent.type!=="mousemove"||!h.value||!f.value)return;const ae=B.value*Math.max(1,l.value.zoom)*(e.inversePan?-1:1),ue={x:l.value.x-K.sourceEvent.movementX*ae,y:l.value.y-K.sourceEvent.movementY*ae},pe=[[0,0],[c.value.width,c.value.height]],q=Fu.translate(ue.x,ue.y).scale(l.value.zoom),se=f.value.constrain()(q,pe,u.value);f.value.transform(h.value,se)},de=rC().wheelDelta(K=>$l(K)*(e.zoomStep/10)).on("zoom",e.pannable?oe:()=>{}).on("zoom.wheel",e.zoomable?Z:()=>{});J.call(de),V(()=>{J.on("zoom",null)})}},{flush:"post"});function N(V){const[J,Z]=Wn(V);t("click",{event:V,position:{x:J,y:Z}})}function W(V,J){const Z={event:V,node:J,connectedEdges:po([J],a.value)};d.miniMapNodeClick(Z),t("nodeClick",Z)}function p(V,J){const Z={event:V,node:J,connectedEdges:po([J],a.value)};d.miniMapNodeDoubleClick(Z),t("nodeDblclick",Z)}function A(V,J){const Z={event:V,node:J,connectedEdges:po([J],a.value)};d.miniMapNodeMouseEnter(Z),t("nodeMouseenter",Z)}function $(V,J){const Z={event:V,node:J,connectedEdges:po([J],a.value)};d.miniMapNodeMouseMove(Z),t("nodeMousemove",Z)}function z(V,J){const Z={event:V,node:J,connectedEdges:po([J],a.value)};d.miniMapNodeMouseLeave(Z),t("nodeMouseleave",Z)}return(V,J)=>(R(),ut(ce(og),{position:V.position,class:st(["vue-flow__minimap",{pannable:V.pannable,zoomable:V.zoomable}])},{default:Ae(()=>[(R(),L("svg",{ref_key:"el",ref:v,width:g.value,height:y.value,viewBox:[Y.value.x,Y.value.y,Y.value.width,Y.value.height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${ce(i)}`,onClick:N},[V.ariaLabel?(R(),L("title",{key:0,id:`vue-flow__minimap-${ce(i)}`},ve(V.ariaLabel),9,uC)):xe("",!0),(R(!0),L(Ie,null,rt(ce(m),Z=>(R(),ut(aC,{id:Z.id,key:Z.id,f:"",position:Z.computedPosition,dimensions:Z.dimensions,selected:Z.selected,dragging:Z.dragging,style:ct(Z.style),class:st(X.value(Z)),color:_.value(Z),"border-radius":V.nodeBorderRadius,"stroke-color":O.value(Z),"stroke-width":V.nodeStrokeWidth,"shape-rendering":ce(E),type:Z.type,hidden:Z.hidden,onClick:oe=>W(oe,Z),onDblclick:oe=>p(oe,Z),onMouseenter:oe=>A(oe,Z),onMousemove:oe=>$(oe,Z),onMouseleave:oe=>z(oe,Z)},null,8,["id","position","dimensions","selected","dragging","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","hidden","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),x("path",{class:"vue-flow__minimap-mask",d:H.value,fill:V.maskColor,stroke:V.maskStrokeColor,"stroke-width":V.maskStrokeWidth,"fill-rule":"evenodd"},null,8,cC)],8,lC))]),_:1},8,["position","class"]))}}),hC="modulepreload",pC=function(e){return"/editor/"+e},Md={},We=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){let i=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(n.map(u=>{if(u=pC(u),u in Md)return;Md[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":hC,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function gC(e,t){const n=new Set;return t.forEach(o=>{n.add(o.source),n.add(o.target)}),e.forEach(o=>{o.type==="input"&&n.add(o.id)}),e.filter(o=>n.has(o.id))}function mC(e,t,n){const o=new Map;e.forEach(s=>{if(s.type!=="variable")return;const i=n(s.id),a=(i==null?void 0:i.mode)||"get",l=i==null?void 0:i.variableName;if(!l||l.trim()==="")return;o.has(l)||o.set(l,{setNodes:[],getNodes:[]});const u=o.get(l);a==="set"?u.setNodes.push(s.id):a==="get"&&u.getNodes.push(s.id)});const r=[];for(const[s,{setNodes:i,getNodes:a}]of o)i.forEach(l=>{a.forEach(u=>{r.push({id:`virtual-var-${s}-${l}-${u}`,source:l,target:u,edgeType:"data",sourceHandle:"data-out",targetHandle:"data-in",_virtual:!0})})});return[...t,...r]}class yC{constructor(t=null,n=null){this.executionResults=new Map,this.executingNodes=new Set,this.executedNodes=new Set,this.errorNodes=new Set,this.executeTimers=new Map,this.execSignals=new Set,this.readyQueue=[],this.apiConfig=null,this.globalVariables={},this.nodeData=new Map,this.onStateChange=null,this.executeNodeFn=t,this.extractOutputsFn=n}setConfig(t,n={}){this.apiConfig=t,this.globalVariables=n}setNodeData(t,n){this.nodeData.set(t,n)}getNodeData(t){return this.nodeData.get(t)||{}}clearExecutionResults(){this.executionResults.clear(),this.executedNodes.clear(),this.executingNodes.clear(),this.errorNodes.clear(),this.execSignals.clear(),this.readyQueue=[];for(const t of this.executeTimers.values())clearTimeout(t);this.executeTimers.clear(),this._notifyStateChange()}async executeNode(t,n={}){var r;const o=this.getNodeData(t.id);this.executingNodes.add(t.id),this.errorNodes.delete(t.id),this._notifyStateChange();try{const s={apiConfig:this.apiConfig,globalVariables:this.globalVariables,nodeId:t.id,updateNodeData:a=>{const l=this.getNodeData(t.id);this.setNodeData(t.id,{...l,...a})}},i=await this.executeNodeFn(t,o,n,s);return this.executingNodes.delete(t.id),this.executedNodes.add(t.id),this._notifyStateChange(),i}catch(s){throw this.executingNodes.delete(t.id),this.errorNodes.add(t.id),this._notifyStateChange(),console.error(`
 Execution Error`),console.error("".repeat(50)),console.error(`Node: ${((r=t.data)==null?void 0:r.label)||t.type} (${t.id})`),console.error(`Type: ${t.type}`),console.error(`Message: ${s.message}`),s.stack&&(console.error(`
Stack trace:`),console.error(s.stack)),console.error("".repeat(50)+`
`),s}}async executeFlow(t,n){console.log(`
 EXECUTION START`),this.clearExecutionResults(),this.globalVariables={};const o=gC(t,n),r=mC(o,n,d=>this.getNodeData(d)),s=[],i=this._findTrueEntryNodes(o,r);console.log(`
 FLOW ANALYSIS:`),console.log("Total nodes:",o.length),console.log("True entry nodes:",i.map(d=>`${this._getNodeLabel(d)}`).join(", "));const a=o.filter(d=>this._hasExecInput(d,n));console.log("Nodes with exec-in:",a.map(d=>`${this._getNodeLabel(d)}`).join(", "));const l=o.filter(d=>this._hasExecOutput(d,n));console.log("Nodes with exec-out:",l.map(d=>`${this._getNodeLabel(d)}`).join(", ")),this.readyQueue=[...i],console.log(`
 Starting execution...
`);const u=o.length*2;let c=0;for(;this.readyQueue.length>0&&c<u;){c++;const d=this.readyQueue.shift();if(this.executedNodes.has(d.id))continue;if(!this._isReadyToExecute(d,r)){this.readyQueue.push(d);continue}const h=this._getNodeLabel(d);s.push(h);const f=this._hasExecInput(d,n),m=this._hasExecOutput(d,n),v=[];f&&v.push("exec-in"),m&&v.push("exec-out");const g=v.length>0?` [${v.join(", ")}]`:" [data-only]";console.log(`  ${h}${g}`);const y=this._gatherInputs(d,n);try{const E=await this.executeNode(d,y);if(this.extractOutputsFn){const _={...d,data:this.getNodeData(d.id)},O=this.extractOutputsFn(_,E);this.executionResults.set(d.id,O)}else this.executionResults.set(d.id,E);if(this._hasExecOutput(d,n))if(d.type==="conditional-branch"){const _=E==null?void 0:E.branch,O=_==="exec-true"?"TRUE":"FALSE";s[s.length-1]+=` ( ${O})`,_&&this._sendExecSignal(d.id,n,_)}else this._sendExecSignal(d.id,n);o.forEach(_=>{if(this.executedNodes.has(_.id)||this.readyQueue.includes(_))return;const O=r.some(U=>U.target===_.id&&U.source===d.id&&U.edgeType==="data"),X=this.execSignals.has(_.id);(O||X)&&this._isReadyToExecute(_,r)&&(this.readyQueue.push(_),console.log(`   Queue: ${this._getNodeLabel(_)} (${X?"exec":"data"} ready)`))})}catch(E){s[s.length-1]+=" ",this.executionResults.set(d.id,{error:E.message}),this._notifyStateChange(),console.log(`
 Execution Flow:`,s.join("  ")),console.log(` EXECUTION END (error)
`);return}}console.log(`
 Execution Flow:`,s.join("  ")),console.log(` EXECUTION END
`),this._notifyStateChange()}async executeConnectedNodes(t,n,o,r=null){const s=o.filter(i=>i.source===t&&i.edgeType==="exec"&&(r===null||i.sourceHandle===r));if(s.length!==0)for(const i of s){const a=n.find(u=>u.id===i.target);if(!a)continue;const l=this._gatherInputs(a,o);try{const u=await this.executeNode(a,l);if(this.executionResults.set(a.id,u),a.type==="conditional-branch"){const c=u==null?void 0:u.branch;c&&await this.executeConnectedNodes(a.id,n,o,`exec-${c}`)}else a.type==="forEach"||a.type==="whileLoop"||await this.executeConnectedNodes(a.id,n,o)}catch(u){this.executionResults.set(a.id,{error:u.message})}}}async executeWhileLoop(t,n,o,r,s=1e3){let i=0,a=r;for(;a&&i<s;){i++,await this.executeConnectedNodes(t,n,o,"exec-loop");const l=this.executionResults.get(t);if(a=(l==null?void 0:l.condition)??!1,i>=s)break}await this.executeConnectedNodes(t,n,o,"exec-done")}async executeForEachLoop(t,n,o,r){const s=[];for(let i=0;i<r.length;i++){const a=r[i];this.executionResults.set(t,{currentItem:a,currentIndex:i,totalItems:r.length}),await this.executeConnectedNodes(t,n,o,"exec-loop"),s.push(a)}this.executionResults.set(t,{results:s}),await this.executeConnectedNodes(t,n,o,"exec-done")}getResult(t){return this.executionResults.get(t)}getAllResults(){return Object.fromEntries(this.executionResults)}getAllExecutedNodes(){return Array.from(this.executedNodes)}getAllExecutingNodes(){return Array.from(this.executingNodes)}getAllErrorNodes(){return Array.from(this.errorNodes)}isExecuting(t){return this.executingNodes.has(t)}hasExecuted(t){return this.executedNodes.has(t)}hasError(t){return this.errorNodes.has(t)}_gatherInputs(t,n){const o={},r=n.filter(s=>s.target===t.id&&s.edgeType==="data");for(const s of r){const i=this.executionResults.get(s.source);if(!i)continue;const a=i[s.sourceHandle];o[s.targetHandle]=a}return o}_hasPendingDependencies(t,n){const o=n.filter(r=>{var s;return r.target!==t.id?!1:r.edgeType==="data"||!((s=r.sourceHandle)!=null&&s.startsWith("exec-"))});for(const r of o)if(!this.executionResults.get(r.source))return!0;return!1}_hasExecInput(t,n){return n.some(o=>o.target===t.id&&o.edgeType==="flow")}_hasExecOutput(t,n){return n.some(o=>o.source===t.id&&o.edgeType==="flow")}_sendExecSignal(t,n,o=null){n.filter(s=>s.source===t&&s.edgeType==="flow"&&(o===null||s.sourceHandle===o)).forEach(s=>{this.execSignals.add(s.target)})}_isReadyToExecute(t,n){return!(this._hasPendingDependencies(t,n)||this._hasExecInput(t,n)&&!this.execSignals.has(t.id))}_findEntryNodes(t,n){return t.filter(o=>!this._hasExecInput(o,n))}_findTrueEntryNodes(t,n){return t.filter(o=>o.type==="input"||o.type==="constant"?!0:this._hasExecInput(o,n)?!1:!n.some(i=>i.target===o.id&&i.edgeType==="data"))}_getNodeLabel(t){var s;const n=this.getNodeData(t.id),o=(n==null?void 0:n.label)||((s=t.data)==null?void 0:s.label);return o||{input:"Input",output:"Output",connector:"Data Connector",variable:"Variable","conditional-branch":"Conditional Branch",constant:"Constant","http-request":"HTTP Request","string-ops":"String Ops","field-extractor":"Field Extractor"}[t.type]||t.type}_notifyStateChange(){this.onStateChange&&this.onStateChange({executionResults:this.getAllResults(),executingNodes:Array.from(this.executingNodes),executedNodes:Array.from(this.executedNodes),errorNodes:Array.from(this.errorNodes)})}}let Or=null;async function vC(){if(Or)return Or;try{return Or=await(await fetch("/config/dataTypes.json")).json(),Or}catch{return Og()}}function Og(){return{types:{any:{label:"Any",color:"#3b82f6"},string:{label:"String",color:"#10b981"},number:{label:"Number",color:"#f59e0b"},integer:{label:"Integer",color:"#f97316"},float:{label:"Float",color:"#fb923c"},boolean:{label:"Boolean",color:"#8b5cf6"},array:{label:"Array",color:"#ec4899"},object:{label:"Object",color:"#06b6d4"},date:{label:"Date",color:"#14b8a6"},null:{label:"Null",color:"#6b7280"}},compatibility:{any:["any","string","number","integer","float","boolean","array","object","date","null"],string:["any","string"],number:["any","number","integer","float"],integer:["any","number","integer"],float:["any","number","float"],boolean:["any","boolean"],array:["any","array"],object:["any","object"],date:["any","date","string"],null:["any","null"]}}}function zi(e){var n;return((n=(Or||Og()).types[e])==null?void 0:n.color)||"#3b82f6"}function Hi(e){return e===null||e===void 0?"null":typeof e=="string"?"string":typeof e=="boolean"?"boolean":Array.isArray(e)?"array":e instanceof Date?"date":typeof e=="object"?"object":typeof e=="number"?Number.isInteger(e)?"integer":"float":"any"}const bC=Object.assign({});let xC=class{constructor(){this.nodes=new Map,this.categories=new Map,this.methodCache=new Map}registerNode(t,n){this.nodes.set(t,n)}registerCategory(t,n){this.categories.set(t,n)}getNodeDefinition(t){const n=this.nodes.get(t);return n||null}getAllNodes(){return Array.from(this.nodes.values())}getNodesByCategory(t){return this.getAllNodes().filter(n=>n.category===t)}getAllCategories(){return Array.from(this.categories.values())}hasNode(t){return this.nodes.has(t)}async getNodeFunction(t,n="method"){const o=this.getNodeDefinition(t);if(!o)return null;const r=o[n];if(!r)return null;const s=`${t}:${n}`;if(this.methodCache.has(s))return this.methodCache.get(s);try{const[i,a]=r.split(":"),l=`../../${i}`,u=bC[l];if(!u)throw new Error(`Mdulo "${i}" no encontrado no registry`);const c=await u();if(!c[a])throw new Error(`Funo "${a}" no encontrada no mdulo "${i}"`);const d=c[a];return this.methodCache.set(s,d),d}catch{return null}}validateNodeConfig(t,n){const o=this.getNodeDefinition(t);if(!o)return{valid:!1,errors:[`Node type "${t}" no existe`]};const r=[],s=o.config||{};for(const[i,a]of Object.entries(s))if(a.required&&(n[i]===void 0||n[i]===null||n[i]==="")&&r.push(`Campo obrigatrio "${i}" est vazio`),a.condition&&n[i]!==void 0){const[l,u]=Object.entries(a.condition)[0],c=n[l];if(Array.isArray(u)){if(!u.includes(c))continue}else if(c!==u)continue}return{valid:r.length===0,errors:r}}getNodeHandles(t){const n=this.getNodeDefinition(t);return n?n.handles||{inputs:{execution:[],data:[]},outputs:{execution:[],data:[]}}:null}clear(){this.nodes.clear(),this.categories.clear(),this.methodCache.clear()}getStats(){return{totalNodes:this.nodes.size,totalCategories:this.categories.size,cachedMethods:this.methodCache.size,nodesByCategory:Array.from(this.categories.keys()).reduce((t,n)=>(t[n]=this.getNodesByCategory(n).length,t),{})}}};const _C=new xC,Mg=e=>_C.getNodeDefinition(e);function wC(e,t,n){var o,r,s;if((o=n==null?void 0:n.executionResults)!=null&&o[e]){const i=n.executionResults[e][t];if(i!==void 0)return Hi(i)}return(s=(r=n==null?void 0:n.savedDetectedTypes)==null?void 0:r[e])!=null&&s[t]?n.savedDetectedTypes[e][t]:"any"}function kC(e,t,n){var i;if(!(n!=null&&n.edges)||!(n!=null&&n.nodes))return"any";const o=n.edges.find(a=>{var l;return a.target===e&&a.targetHandle===t&&!((l=a.sourceHandle)!=null&&l.startsWith("exec-"))});if(!o)return"any";const r=n.nodes.find(a=>a.id===o.source);if(!r)return"any";const s=((i=n.nodeData)==null?void 0:i[r.id])||{};return On(r.type,s,o.sourceHandle,"source",n)}function EC(e,t){const n=e==null?void 0:e[t];return n&&{number:"number",string:"string",boolean:"boolean",object:"object",array:"array",null:"any",integer:"integer",float:"float",date:"date"}[n]||"any"}function $C(e,t,n,o){const r=e==null?void 0:e._nodeId,s=e==null?void 0:e.variableName,i=(e==null?void 0:e.mode)||"get";if(!o||!r)return"any";if(n==="source"&&t==="data-out"){if(i==="set"){const a=o.edges.filter(l=>{var u;return l.target===r&&l.targetHandle==="data-input"&&!((u=l.sourceHandle)!=null&&u.startsWith("exec-"))});if(a.length>0){const l=o.nodes.find(u=>u.id===a[0].source);if(l){const u=o.nodeData[l.id];return On(l.type,u,a[0].sourceHandle,"source",o)}}}if(i==="get"&&s){const a=o.nodes.filter(l=>{var u,c;return l.type==="variable"&&l.id!==r&&((u=o.nodeData[l.id])==null?void 0:u.mode)==="set"&&((c=o.nodeData[l.id])==null?void 0:c.variableName)===s});for(const l of a){const u=o.edges.filter(c=>{var d;return c.target===l.id&&c.targetHandle==="data-input"&&!((d=c.sourceHandle)!=null&&d.startsWith("exec-"))});if(u.length>0){const c=o.nodes.find(d=>d.id===u[0].source);if(c){const d=o.nodeData[c.id];return On(c.type,d,u[0].sourceHandle,"source",o)}}}}}return"any"}function SC(e,t,n,o,r,s){const i=r==null?void 0:r.dynamic;if(!i)return(r==null?void 0:r.type)||"any";const a=t==null?void 0:t._nodeId;switch(i.mode){case"runtime-detection":return wC(a,n,s);case"input-inference":return kC(a,i.inferFrom||n,s);case"config-based":return EC(t,i.configField);case"wildcard":return $C(t,n,o,s);default:return(r==null?void 0:r.type)||"any"}}function On(e,t,n,o,r=null){var l,u;if(e==="field-extractor"){if(n==="all-data")return"object";const c=(t==null?void 0:t.fieldTypes)||{},d=n.replace("field-","").replace(/-/g,".");return c[d]||"any"}if(e==="output"){const c=(t==null?void 0:t.customInputs)||[],d=parseInt(n.replace("data-input-",""));return((l=c[d])==null?void 0:l.type)||"any"}if(e==="input"){const c=(t==null?void 0:t.parameters)||[],d=parseInt(n.replace("param-output-",""));return((u=c[d])==null?void 0:u.type)||"any"}const s=Mg(e);if(!s||!s.handles)return"any";let i=o==="source"?s.handles.outputs:s.handles.inputs;if(s.dynamicHandles&&t){const c=s.dynamicHandles.mode;let d="mode";s.dynamicHandles[c]||(d=c);const h=t[d]||c,f=s.dynamicHandles[h];f&&(i=o==="source"?f.outputs:f.inputs)}if(!i||!i.data)return"any";const a=i.data.find(c=>c.id===n);return a?a.dynamic?SC(e,t,n,o,a,r):a.type||"any":"any"}function zl(e,t){if(t.startsWith("exec-"))return["exec"];const n=Mg(e);if(!n||!n.handles||!n.handles.inputs||!n.handles.inputs.data)return["any"];const o=n.handles.inputs.data.find(r=>r.id===t);return!o||!o.type?["any"]:Array.isArray(o.type)?o.type:[o.type]}function Dg(e,t){if(e==="exec"||t.includes("exec"))return e==="exec"&&t.includes("exec");if(t.includes("any")||e==="any"||t.includes(e))return!0;const n=["number","integer","float"];return n.includes(e)?t.some(o=>n.includes(o)):!1}function CC(e,t,n,o,r){const s={...r.nodeData[e.id]||{},_nodeId:e.id};if({...r.nodeData[n.id]||{},_nodeId:n.id},t.startsWith("exec-"))return!0;const i=On(e.type,s,t,"source",r),a=zl(n.type,o);return Dg(i,a)}class NC{constructor(){this.detectedTypes=new Map}detectType(t,n,o){const r=Hi(o);return this.detectedTypes.has(t)||this.detectedTypes.set(t,new Map),this.detectedTypes.get(t).set(n,r),r}detectAllTypes(t){const n={};for(const[o,r]of Object.entries(t))if(!(!r||typeof r!="object")){n[o]={};for(const s in r){if(s.startsWith("exec-"))continue;const i=r[s],a=this.detectType(o,s,i);n[o][s]=a}}return n}getDetectedType(t,n){const o=this.detectedTypes.get(t);return o&&o.get(n)||null}getNodeDetectedTypes(t){const n=this.detectedTypes.get(t);return n?Object.fromEntries(n):{}}loadDetectedTypes(t){this.detectedTypes.clear();for(const n in t){const o=new Map;for(const r in t[n])o.set(r,t[n][r]);this.detectedTypes.set(n,o)}}exportDetectedTypes(){const t={};for(const[n,o]of this.detectedTypes)t[n]=Object.fromEntries(o);return t}clearDetectedTypes(){this.detectedTypes.clear()}getHandleType(t,n,o={}){const r=this.getDetectedType(t.id,n.id);return r||On(t,n,o)}isTypeCompatible(t,n){if(t==="any"||n==="any"||t===n)return!0;const o=["number","integer","float"];return!!(o.includes(t)&&o.includes(n)||t.startsWith("array")&&n==="array"||t==="array"&&n.startsWith("array")||t.startsWith("object")&&n==="object"||t==="object"&&n.startsWith("object"))}getTypeColor(t){const n={string:"#10b981",number:"#3b82f6",integer:"#3b82f6",float:"#3b82f6",boolean:"#f59e0b",array:"#8b5cf6",object:"#ec4899",date:"#14b8a6",any:"#6b7280",exec:"#ef4444",null:"#6b7280"};return t.startsWith("array")?n.array:t.startsWith("object")?n.object:n[t]||n.any}inferTypeFromInputs(t){if(!t||Object.keys(t).length===0)return"any";const n=Object.values(t)[0];return Hi(n)}getTypeStats(){const t={totalNodes:this.detectedTypes.size,totalHandles:0,typeDistribution:{}};for(const n of this.detectedTypes.values()){t.totalHandles+=n.size;for(const o of n.values())t.typeDistribution[o]=(t.typeDistribution[o]||0)+1}return t}}class TC{constructor(){this.autoExecuteDelay=500,this.autoExecuteOnCreate=["input","constant","variable","array-create","object-create"],this.autoExecuteOnConfigChange=["input","constant","variable","data-connector","array-create","object-create","array-slice","array-filter","array-map","array-sort","array-aggregate","array-merge","array-distinct","array-groupby","object-filter","object-pick","object-merge","object-transform","object-rename","object-set-property","object-to-array","object-keys-values","field-extractor","comparison","logic","math","string-ops","type-conversion","debug-viewer"],this.autoExecuteOnDataReceived=["array-filter","array-map","array-sort","array-aggregate","array-merge","array-distinct","array-groupby","array-slice","object-filter","object-pick","object-merge","object-transform","object-rename","object-set-property","object-to-array","object-keys-values","field-extractor","comparison","logic","math","string-ops","type-conversion","debug-viewer"]}shouldAutoExecuteOnCreate(t){return this.autoExecuteOnCreate.includes(t)}shouldAutoExecuteOnConfigChange(t){return this.autoExecuteOnConfigChange.includes(t)}shouldAutoExecuteOnDataReceived(t){return this.autoExecuteOnDataReceived.includes(t)}shouldAutoExecute(t,n){switch(n){case"create":return this.shouldAutoExecuteOnCreate(t);case"config":return this.shouldAutoExecuteOnConfigChange(t);case"data":return this.shouldAutoExecuteOnDataReceived(t);default:return!1}}getDelay(){return this.autoExecuteDelay}setDelay(t){this.autoExecuteDelay=t}hasExecInputs(t,n){return n.some(o=>o.target===t&&o.edgeType==="exec")}getAffectedNodes(t,n,o){const r=[],s=new Set,i=a=>{if(s.has(a))return;s.add(a);const l=o.filter(u=>u.source===a&&u.edgeType==="data");for(const u of l){const c=n.find(d=>d.id===u.target);c&&this.shouldAutoExecuteOnDataReceived(c.type)&&(this.hasExecInputs(c.id,o)||(r.push(c.id),i(c.id)))}};return i(t),r}determineTrigger(t,n,o){if(this.hasExecInputs(t.id,n))return null;switch(o){case"create":return this.shouldAutoExecuteOnCreate(t.type)?"create":null;case"config-change":return this.shouldAutoExecuteOnConfigChange(t.type)?"config":null;case"upstream-execution":return this.shouldAutoExecuteOnDataReceived(t.type)?"data":null;default:return null}}getExecutionPlan(t,n,o,r){const s=[];if(r==="create"||r==="config-change"){const i=n.find(a=>a.id===t);i&&this.determineTrigger(i,o,r)&&s.push(t)}if(r==="upstream-execution"){const i=this.getAffectedNodes(t,n,o);s.push(...i)}return s}addAutoExecuteRule(t,n){switch(n){case"create":this.autoExecuteOnCreate.includes(t)||this.autoExecuteOnCreate.push(t);break;case"config":this.autoExecuteOnConfigChange.includes(t)||this.autoExecuteOnConfigChange.push(t);break;case"data":this.autoExecuteOnDataReceived.includes(t)||this.autoExecuteOnDataReceived.push(t);break}}removeAutoExecuteRule(t,n){switch(n){case"create":this.autoExecuteOnCreate=this.autoExecuteOnCreate.filter(o=>o!==t);break;case"config":this.autoExecuteOnConfigChange=this.autoExecuteOnConfigChange.filter(o=>o!==t);break;case"data":this.autoExecuteOnDataReceived=this.autoExecuteOnDataReceived.filter(o=>o!==t);break}}getRules(){return{onCreate:[...this.autoExecuteOnCreate],onConfigChange:[...this.autoExecuteOnConfigChange],onDataReceived:[...this.autoExecuteOnDataReceived]}}}function Hl(e,t){if(!e||!t)return;const n=t.split(".");let o=e;for(const r of n){if(o==null)return;o=o[r]}return o}async function IC(e,t,n,o={}){var d,h;const{type:r,id:s}=e;if(!o.registry)throw new Error("context.registry is required for executeNode");const{getNodeDefinition:i,getNodeFunction:a}=o.registry,l=i(r);if(!l)throw new Error(`Node type "${r}" no encontrado no catlogo`);const u=((d=l.execution)==null?void 0:d.async)!==!1,c=await a(r,"method");if(!c)throw new Error(`Mtodo de execuo no encontrado para node type "${r}"`);try{const f={...t};t.exposedFields&&n&&Object.keys(t.exposedFields).forEach(y=>{const E=`exposed-${y}`.replace("data-","");n[E]!==void 0&&(f[y]=n[E])});const m={nodeData:f,inputs:n,context:o,nodeId:s},v=((h=l.execution)==null?void 0:h.timeout)||3e4;return u?await AC(c(m),v):c(m)}catch(f){throw f}}function AC(e,t){return Promise.race([e,new Promise((n,o)=>setTimeout(()=>o(new Error(`Timeout aps ${t}ms`)),t))])}function OC(e,t,n={}){var i,a,l,u,c;if(!n.registry)throw new Error("context.registry is required");const o=n.registry.getNodeDefinition(e.type);if(!o)return{};const r={};if(o.outputMapping)return MC(e,t,o,r);if(e.type==="connector"||["constant","array-filter","array-aggregate","array-slice","array-merge","array-create","object-create"].includes(e.type))return r["data-out"]=t,r;if(e.type==="input")return(((i=e.data)==null?void 0:i.parameters)||[]).forEach((h,f)=>{const m=`param-output-${f}`;r[m]=t[h.name]}),r;if(e.type==="field-extractor"){const d=((a=e.data)==null?void 0:a.selectedFields)||[],h=t!=null&&t.__wrapped?t.__originalData:t;return r["data-out"]=t!=null&&t.__wrapped?t.value:t,d.length>1&&(r["all-data"]=t),d.forEach(f=>{const m=`field-${f.replace(/\./g,"-")}`;r[m]=DC(h,f)}),r}let s=((u=(l=o.handles)==null?void 0:l.outputs)==null?void 0:u.data)||[];if(o.dynamicHandles&&e.data){const d=o.dynamicHandles.mode,h=e.data[d]||d;o.dynamicHandles[h]&&(s=((c=o.dynamicHandles[h].outputs)==null?void 0:c.data)||[])}return s.length===1?r[s[0].id]=t:s.length>1&&typeof t=="object"&&t!==null&&s.forEach(d=>{const h=d.id.replace("data-","");t[h]!==void 0&&(r[d.id]=t[h])}),r}function MC(e,t,n,o){var s;const r=n.outputMapping;if(r.mode==="dynamic"){const i=((s=e.data)==null?void 0:s[r.fieldSource])||[];Array.isArray(i)&&i.forEach((a,l)=>{const u=r.template.replace("{fieldName}",typeof a=="string"?a:a.name).replace("{index}",l),c=typeof a=="string"?Hl(t,a):t[a.name];o[u]=c})}return r.mainOutput&&(o[r.mainOutput]=t),o}function DC(e,t){if(Array.isArray(e))return e.map(n=>Hl(n,t));if(typeof e=="object"&&e!==null)return Hl(e,t)}function Li(e){if(e===null||typeof e!="object")return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e))return e.map(n=>Li(n));const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=Li(e[n]));return t}function PC(e,t){Array.isArray(e)&&e.length>0&&(e=e[0]);const n=t.split(".");let o=e;for(const r of n)if(o&&typeof o=="object"&&r in o)o=o[r];else return;return o}var Je;(function(e){e.assertEqual=r=>{};function t(r){}e.assertIs=t;function n(r){throw new Error}e.assertNever=n,e.arrayToEnum=r=>{const s={};for(const i of r)s[i]=i;return s},e.getValidEnumValues=r=>{const s=e.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),i={};for(const a of s)i[a]=r[a];return e.objectValues(i)},e.objectValues=r=>e.objectKeys(r).map(function(s){return r[s]}),e.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&s.push(i);return s},e.find=(r,s)=>{for(const i of r)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function o(r,s=" | "){return r.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=o,e.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(Je||(Je={}));var Dd;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Dd||(Dd={}));const Ee=Je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Kn=e=>{switch(typeof e){case"undefined":return Ee.undefined;case"string":return Ee.string;case"number":return Number.isNaN(e)?Ee.nan:Ee.number;case"boolean":return Ee.boolean;case"function":return Ee.function;case"bigint":return Ee.bigint;case"symbol":return Ee.symbol;case"object":return Array.isArray(e)?Ee.array:e===null?Ee.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ee.promise:typeof Map<"u"&&e instanceof Map?Ee.map:typeof Set<"u"&&e instanceof Set?Ee.set:typeof Date<"u"&&e instanceof Date?Ee.date:Ee.object;default:return Ee.unknown}},ye=Je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class gn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},o={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(r);else if(i.code==="invalid_return_type")r(i.returnTypeError);else if(i.code==="invalid_arguments")r(i.argumentsError);else if(i.path.length===0)o._errors.push(n(i));else{let a=o,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(i))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return r(this),o}static assert(t){if(!(t instanceof gn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},o=[];for(const r of this.issues)if(r.path.length>0){const s=r.path[0];n[s]=n[s]||[],n[s].push(t(r))}else o.push(t(r));return{formErrors:o,fieldErrors:n}}get formErrors(){return this.flatten()}}gn.create=e=>new gn(e);const Ll=(e,t)=>{let n;switch(e.code){case ye.invalid_type:e.received===Ee.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ye.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Je.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:n=`Unrecognized key(s) in object: ${Je.joinValues(e.keys,", ")}`;break;case ye.invalid_union:n="Invalid input";break;case ye.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Je.joinValues(e.options)}`;break;case ye.invalid_enum_value:n=`Invalid enum value. Expected ${Je.joinValues(e.options)}, received '${e.received}'`;break;case ye.invalid_arguments:n="Invalid function arguments";break;case ye.invalid_return_type:n="Invalid function return type";break;case ye.invalid_date:n="Invalid date";break;case ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Je.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ye.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ye.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ye.custom:n="Invalid input";break;case ye.invalid_intersection_types:n="Intersection results could not be merged";break;case ye.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ye.not_finite:n="Number must be finite";break;default:n=t.defaultError,Je.assertNever(e)}return{message:n}};let RC=Ll;function VC(){return RC}const zC=e=>{const{data:t,path:n,errorMaps:o,issueData:r}=e,s=[...n,...r.path||[]],i={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let a="";const l=o.filter(u=>!!u).slice().reverse();for(const u of l)a=u(i,{data:t,defaultError:a}).message;return{...r,path:s,message:a}};function we(e,t){const n=VC(),o=zC({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ll?void 0:Ll].filter(r=>!!r)});e.common.issues.push(o)}class Pt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const o=[];for(const r of n){if(r.status==="aborted")return Re;r.status==="dirty"&&t.dirty(),o.push(r.value)}return{status:t.value,value:o}}static async mergeObjectAsync(t,n){const o=[];for(const r of n){const s=await r.key,i=await r.value;o.push({key:s,value:i})}return Pt.mergeObjectSync(t,o)}static mergeObjectSync(t,n){const o={};for(const r of n){const{key:s,value:i}=r;if(s.status==="aborted"||i.status==="aborted")return Re;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||r.alwaysSet)&&(o[s.value]=i.value)}return{status:t.value,value:o}}}const Re=Object.freeze({status:"aborted"}),Mr=e=>({status:"dirty",value:e}),jt=e=>({status:"valid",value:e}),Pd=e=>e.status==="aborted",Rd=e=>e.status==="dirty",sr=e=>e.status==="valid",Fi=e=>typeof Promise<"u"&&e instanceof Promise;var Ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ce||(Ce={}));class mn{constructor(t,n,o,r){this._cachedPath=[],this.parent=t,this.data=n,this._path=o,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Vd=(e,t)=>{if(sr(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new gn(e.common.issues);return this._error=n,this._error}}};function je(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:o,description:r}=e;if(t&&(n||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:r}:{errorMap:(i,a)=>{const{message:l}=e;return i.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??o??a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:r}}class qe{get description(){return this._def.description}_getType(t){return Kn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Kn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Pt,ctx:{common:t.parent.common,data:t.data,parsedType:Kn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Fi(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const o=this.safeParse(t,n);if(o.success)return o.data;throw o.error}safeParse(t,n){const o={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Kn(t)},r=this._parseSync({data:t,path:o.path,parent:o});return Vd(o,r)}"~validate"(t){var o,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Kn(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return sr(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(r=(o=s==null?void 0:s.message)==null?void 0:o.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>sr(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){const o=await this.safeParseAsync(t,n);if(o.success)return o.data;throw o.error}async safeParseAsync(t,n){const o={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Kn(t)},r=this._parse({data:t,path:o.path,parent:o}),s=await(Fi(r)?r:Promise.resolve(r));return Vd(o,s)}refine(t,n){const o=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,s)=>{const i=t(r),a=()=>s.addIssue({code:ye.custom,...o(r)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,n){return this._refinement((o,r)=>t(o)?!0:(r.addIssue(typeof n=="function"?n(o,r):n),!1))}_refinement(t){return new lr({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return oo.create(this,this._def)}nullable(){return ur.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hn.create(this)}promise(){return Wi.create(this,this._def)}or(t){return ji.create([this,t],this._def)}and(t){return Ui.create(this,t,this._def)}transform(t){return new lr({...je(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Wl({...je(this._def),innerType:this,defaultValue:n,typeName:Me.ZodDefault})}brand(){return new a2({typeName:Me.ZodBranded,type:this,...je(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Gl({...je(this._def),innerType:this,catchValue:n,typeName:Me.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Bu.create(this,t)}readonly(){return Zl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const HC=/^c[^\s-]{8,}$/i,LC=/^[0-9a-z]+$/,FC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,BC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jC=/^[a-z0-9_-]{21}$/i,UC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,YC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,WC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xa;const ZC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,XC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,KC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,JC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Pg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",e2=new RegExp(`^${Pg}$`);function Rg(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function t2(e){return new RegExp(`^${Rg(e)}$`)}function n2(e){let t=`${Pg}T${Rg(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function o2(e,t){return!!((t==="v4"||!t)&&ZC.test(e)||(t==="v6"||!t)&&XC.test(e))}function r2(e,t){if(!UC.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const o=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(o));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&r.alg!==t)}catch{return!1}}function s2(e,t){return!!((t==="v4"||!t)&&qC.test(e)||(t==="v6"||!t)&&KC.test(e))}class Tn extends qe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ee.string){const s=this._getOrReturnCtx(t);return we(s,{code:ye.invalid_type,expected:Ee.string,received:s.parsedType}),Re}const o=new Pt;let r;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(r=this._getOrReturnCtx(t,r),we(r,{code:ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="max")t.data.length>s.value&&(r=this._getOrReturnCtx(t,r),we(r,{code:ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(r=this._getOrReturnCtx(t,r),i?we(r,{code:ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&we(r,{code:ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),o.dirty())}else if(s.kind==="email")WC.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"email",code:ye.invalid_string,message:s.message}),o.dirty());else if(s.kind==="emoji")Xa||(Xa=new RegExp(GC,"u")),Xa.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"emoji",code:ye.invalid_string,message:s.message}),o.dirty());else if(s.kind==="uuid")BC.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"uuid",code:ye.invalid_string,message:s.message}),o.dirty());else if(s.kind==="nanoid")jC.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"nanoid",code:ye.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid")HC.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"cuid",code:ye.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid2")LC.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"cuid2",code:ye.invalid_string,message:s.message}),o.dirty());else if(s.kind==="ulid")FC.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"ulid",code:ye.invalid_string,message:s.message}),o.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),we(r,{validation:"url",code:ye.invalid_string,message:s.message}),o.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"regex",code:ye.invalid_string,message:s.message}),o.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(t,r),we(r,{code:ye.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),o.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(r=this._getOrReturnCtx(t,r),we(r,{code:ye.invalid_string,validation:{startsWith:s.value},message:s.message}),o.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(r=this._getOrReturnCtx(t,r),we(r,{code:ye.invalid_string,validation:{endsWith:s.value},message:s.message}),o.dirty()):s.kind==="datetime"?n2(s).test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{code:ye.invalid_string,validation:"datetime",message:s.message}),o.dirty()):s.kind==="date"?e2.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{code:ye.invalid_string,validation:"date",message:s.message}),o.dirty()):s.kind==="time"?t2(s).test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{code:ye.invalid_string,validation:"time",message:s.message}),o.dirty()):s.kind==="duration"?YC.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"duration",code:ye.invalid_string,message:s.message}),o.dirty()):s.kind==="ip"?o2(t.data,s.version)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"ip",code:ye.invalid_string,message:s.message}),o.dirty()):s.kind==="jwt"?r2(t.data,s.alg)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"jwt",code:ye.invalid_string,message:s.message}),o.dirty()):s.kind==="cidr"?s2(t.data,s.version)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"cidr",code:ye.invalid_string,message:s.message}),o.dirty()):s.kind==="base64"?JC.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"base64",code:ye.invalid_string,message:s.message}),o.dirty()):s.kind==="base64url"?QC.test(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{validation:"base64url",code:ye.invalid_string,message:s.message}),o.dirty()):Je.assertNever(s);return{status:o.value,value:t.data}}_regex(t,n,o){return this.refinement(r=>t.test(r),{validation:n,code:ye.invalid_string,...Ce.errToObj(o)})}_addCheck(t){return new Tn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ce.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ce.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ce.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ce.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ce.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ce.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ce.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ce.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ce.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ce.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ce.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ce.errToObj(n)})}nonempty(t){return this.min(1,Ce.errToObj(t))}trim(){return new Tn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Tn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Tn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Tn.create=e=>new Tn({checks:[],typeName:Me.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...je(e)});function i2(e,t){const n=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,r=n>o?n:o,s=Number.parseInt(e.toFixed(r).replace(".","")),i=Number.parseInt(t.toFixed(r).replace(".",""));return s%i/10**r}class ir extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ee.number){const s=this._getOrReturnCtx(t);return we(s,{code:ye.invalid_type,expected:Ee.number,received:s.parsedType}),Re}let o;const r=new Pt;for(const s of this._def.checks)s.kind==="int"?Je.isInteger(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{code:ye.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(o=this._getOrReturnCtx(t,o),we(o,{code:ye.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(o=this._getOrReturnCtx(t,o),we(o,{code:ye.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?i2(t.data,s.value)!==0&&(o=this._getOrReturnCtx(t,o),we(o,{code:ye.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(o=this._getOrReturnCtx(t,o),we(o,{code:ye.not_finite,message:s.message}),r.dirty()):Je.assertNever(s);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ce.toString(n))}setLimit(t,n,o,r){return new ir({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:o,message:Ce.toString(r)}]})}_addCheck(t){return new ir({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ce.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ce.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Je.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(n===null||o.value>n)&&(n=o.value):o.kind==="max"&&(t===null||o.value<t)&&(t=o.value)}return Number.isFinite(n)&&Number.isFinite(t)}}ir.create=e=>new ir({checks:[],typeName:Me.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...je(e)});class ps extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ee.bigint)return this._getInvalidInput(t);let o;const r=new Pt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(o=this._getOrReturnCtx(t,o),we(o,{code:ye.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(o=this._getOrReturnCtx(t,o),we(o,{code:ye.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(o=this._getOrReturnCtx(t,o),we(o,{code:ye.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):Je.assertNever(s);return{status:r.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return we(n,{code:ye.invalid_type,expected:Ee.bigint,received:n.parsedType}),Re}gte(t,n){return this.setLimit("min",t,!0,Ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ce.toString(n))}setLimit(t,n,o,r){return new ps({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:o,message:Ce.toString(r)}]})}_addCheck(t){return new ps({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ce.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ps.create=e=>new ps({checks:[],typeName:Me.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...je(e)});class Fl extends qe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ee.boolean){const o=this._getOrReturnCtx(t);return we(o,{code:ye.invalid_type,expected:Ee.boolean,received:o.parsedType}),Re}return jt(t.data)}}Fl.create=e=>new Fl({typeName:Me.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...je(e)});class Bi extends qe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ee.date){const s=this._getOrReturnCtx(t);return we(s,{code:ye.invalid_type,expected:Ee.date,received:s.parsedType}),Re}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return we(s,{code:ye.invalid_date}),Re}const o=new Pt;let r;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(r=this._getOrReturnCtx(t,r),we(r,{code:ye.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),o.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(r=this._getOrReturnCtx(t,r),we(r,{code:ye.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),o.dirty()):Je.assertNever(s);return{status:o.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Bi({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ce.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ce.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Bi.create=e=>new Bi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Me.ZodDate,...je(e)});class zd extends qe{_parse(t){if(this._getType(t)!==Ee.symbol){const o=this._getOrReturnCtx(t);return we(o,{code:ye.invalid_type,expected:Ee.symbol,received:o.parsedType}),Re}return jt(t.data)}}zd.create=e=>new zd({typeName:Me.ZodSymbol,...je(e)});class Hd extends qe{_parse(t){if(this._getType(t)!==Ee.undefined){const o=this._getOrReturnCtx(t);return we(o,{code:ye.invalid_type,expected:Ee.undefined,received:o.parsedType}),Re}return jt(t.data)}}Hd.create=e=>new Hd({typeName:Me.ZodUndefined,...je(e)});class Bl extends qe{_parse(t){if(this._getType(t)!==Ee.null){const o=this._getOrReturnCtx(t);return we(o,{code:ye.invalid_type,expected:Ee.null,received:o.parsedType}),Re}return jt(t.data)}}Bl.create=e=>new Bl({typeName:Me.ZodNull,...je(e)});class Ld extends qe{constructor(){super(...arguments),this._any=!0}_parse(t){return jt(t.data)}}Ld.create=e=>new Ld({typeName:Me.ZodAny,...je(e)});class jl extends qe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return jt(t.data)}}jl.create=e=>new jl({typeName:Me.ZodUnknown,...je(e)});class ao extends qe{_parse(t){const n=this._getOrReturnCtx(t);return we(n,{code:ye.invalid_type,expected:Ee.never,received:n.parsedType}),Re}}ao.create=e=>new ao({typeName:Me.ZodNever,...je(e)});class Fd extends qe{_parse(t){if(this._getType(t)!==Ee.undefined){const o=this._getOrReturnCtx(t);return we(o,{code:ye.invalid_type,expected:Ee.void,received:o.parsedType}),Re}return jt(t.data)}}Fd.create=e=>new Fd({typeName:Me.ZodVoid,...je(e)});class hn extends qe{_parse(t){const{ctx:n,status:o}=this._processInputParams(t),r=this._def;if(n.parsedType!==Ee.array)return we(n,{code:ye.invalid_type,expected:Ee.array,received:n.parsedType}),Re;if(r.exactLength!==null){const i=n.data.length>r.exactLength.value,a=n.data.length<r.exactLength.value;(i||a)&&(we(n,{code:i?ye.too_big:ye.too_small,minimum:a?r.exactLength.value:void 0,maximum:i?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),o.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(we(n,{code:ye.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),o.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(we(n,{code:ye.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),o.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>r.type._parseAsync(new mn(n,i,n.path,a)))).then(i=>Pt.mergeArray(o,i));const s=[...n.data].map((i,a)=>r.type._parseSync(new mn(n,i,n.path,a)));return Pt.mergeArray(o,s)}get element(){return this._def.type}min(t,n){return new hn({...this._def,minLength:{value:t,message:Ce.toString(n)}})}max(t,n){return new hn({...this._def,maxLength:{value:t,message:Ce.toString(n)}})}length(t,n){return new hn({...this._def,exactLength:{value:t,message:Ce.toString(n)}})}nonempty(t){return this.min(1,t)}}hn.create=(e,t)=>new hn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...je(t)});function Vo(e){if(e instanceof bt){const t={};for(const n in e.shape){const o=e.shape[n];t[n]=oo.create(Vo(o))}return new bt({...e._def,shape:()=>t})}else return e instanceof hn?new hn({...e._def,type:Vo(e.element)}):e instanceof oo?oo.create(Vo(e.unwrap())):e instanceof ur?ur.create(Vo(e.unwrap())):e instanceof To?To.create(e.items.map(t=>Vo(t))):e}class bt extends qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Je.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Ee.object){const u=this._getOrReturnCtx(t);return we(u,{code:ye.invalid_type,expected:Ee.object,received:u.parsedType}),Re}const{status:o,ctx:r}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof ao&&this._def.unknownKeys==="strip"))for(const u in r.data)i.includes(u)||a.push(u);const l=[];for(const u of i){const c=s[u],d=r.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new mn(r,d,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof ao){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:r.data[c]}});else if(u==="strict")a.length>0&&(we(r,{code:ye.unrecognized_keys,keys:a}),o.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=r.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new mn(r,d,r.path,c)),alwaysSet:c in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>Pt.mergeObjectSync(o,u)):Pt.mergeObjectSync(o,l)}get shape(){return this._def.shape()}strict(t){return Ce.errToObj,new bt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,o)=>{var s,i;const r=((i=(s=this._def).errorMap)==null?void 0:i.call(s,n,o).message)??o.defaultError;return n.code==="unrecognized_keys"?{message:Ce.errToObj(t).message??r}:{message:r}}}:{}})}strip(){return new bt({...this._def,unknownKeys:"strip"})}passthrough(){return new bt({...this._def,unknownKeys:"passthrough"})}extend(t){return new bt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new bt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Me.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new bt({...this._def,catchall:t})}pick(t){const n={};for(const o of Je.objectKeys(t))t[o]&&this.shape[o]&&(n[o]=this.shape[o]);return new bt({...this._def,shape:()=>n})}omit(t){const n={};for(const o of Je.objectKeys(this.shape))t[o]||(n[o]=this.shape[o]);return new bt({...this._def,shape:()=>n})}deepPartial(){return Vo(this)}partial(t){const n={};for(const o of Je.objectKeys(this.shape)){const r=this.shape[o];t&&!t[o]?n[o]=r:n[o]=r.optional()}return new bt({...this._def,shape:()=>n})}required(t){const n={};for(const o of Je.objectKeys(this.shape))if(t&&!t[o])n[o]=this.shape[o];else{let s=this.shape[o];for(;s instanceof oo;)s=s._def.innerType;n[o]=s}return new bt({...this._def,shape:()=>n})}keyof(){return Vg(Je.objectKeys(this.shape))}}bt.create=(e,t)=>new bt({shape:()=>e,unknownKeys:"strip",catchall:ao.create(),typeName:Me.ZodObject,...je(t)});bt.strictCreate=(e,t)=>new bt({shape:()=>e,unknownKeys:"strict",catchall:ao.create(),typeName:Me.ZodObject,...je(t)});bt.lazycreate=(e,t)=>new bt({shape:e,unknownKeys:"strip",catchall:ao.create(),typeName:Me.ZodObject,...je(t)});class ji extends qe{_parse(t){const{ctx:n}=this._processInputParams(t),o=this._def.options;function r(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const i=s.map(a=>new gn(a.ctx.common.issues));return we(n,{code:ye.invalid_union,unionErrors:i}),Re}if(n.common.async)return Promise.all(o.map(async s=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(r);{let s;const i=[];for(const l of o){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=i.map(l=>new gn(l));return we(n,{code:ye.invalid_union,unionErrors:a}),Re}}get options(){return this._def.options}}ji.create=(e,t)=>new ji({options:e,typeName:Me.ZodUnion,...je(t)});function Ul(e,t){const n=Kn(e),o=Kn(t);if(e===t)return{valid:!0,data:e};if(n===Ee.object&&o===Ee.object){const r=Je.objectKeys(t),s=Je.objectKeys(e).filter(a=>r.indexOf(a)!==-1),i={...e,...t};for(const a of s){const l=Ul(e[a],t[a]);if(!l.valid)return{valid:!1};i[a]=l.data}return{valid:!0,data:i}}else if(n===Ee.array&&o===Ee.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let s=0;s<e.length;s++){const i=e[s],a=t[s],l=Ul(i,a);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return n===Ee.date&&o===Ee.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ui extends qe{_parse(t){const{status:n,ctx:o}=this._processInputParams(t),r=(s,i)=>{if(Pd(s)||Pd(i))return Re;const a=Ul(s.value,i.value);return a.valid?((Rd(s)||Rd(i))&&n.dirty(),{status:n.value,value:a.data}):(we(o,{code:ye.invalid_intersection_types}),Re)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([s,i])=>r(s,i)):r(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Ui.create=(e,t,n)=>new Ui({left:e,right:t,typeName:Me.ZodIntersection,...je(n)});class To extends qe{_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==Ee.array)return we(o,{code:ye.invalid_type,expected:Ee.array,received:o.parsedType}),Re;if(o.data.length<this._def.items.length)return we(o,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&o.data.length>this._def.items.length&&(we(o,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...o.data].map((i,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new mn(o,i,o.path,a)):null}).filter(i=>!!i);return o.common.async?Promise.all(s).then(i=>Pt.mergeArray(n,i)):Pt.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new To({...this._def,rest:t})}}To.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new To({items:e,typeName:Me.ZodTuple,rest:null,...je(t)})};class Yi extends qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==Ee.object)return we(o,{code:ye.invalid_type,expected:Ee.object,received:o.parsedType}),Re;const r=[],s=this._def.keyType,i=this._def.valueType;for(const a in o.data)r.push({key:s._parse(new mn(o,a,o.path,a)),value:i._parse(new mn(o,o.data[a],o.path,a)),alwaysSet:a in o.data});return o.common.async?Pt.mergeObjectAsync(n,r):Pt.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(t,n,o){return n instanceof qe?new Yi({keyType:t,valueType:n,typeName:Me.ZodRecord,...je(o)}):new Yi({keyType:Tn.create(),valueType:t,typeName:Me.ZodRecord,...je(n)})}}class Bd extends qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==Ee.map)return we(o,{code:ye.invalid_type,expected:Ee.map,received:o.parsedType}),Re;const r=this._def.keyType,s=this._def.valueType,i=[...o.data.entries()].map(([a,l],u)=>({key:r._parse(new mn(o,a,o.path,[u,"key"])),value:s._parse(new mn(o,l,o.path,[u,"value"]))}));if(o.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of i){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Re;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of i){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Re;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}Bd.create=(e,t,n)=>new Bd({valueType:t,keyType:e,typeName:Me.ZodMap,...je(n)});class gs extends qe{_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==Ee.set)return we(o,{code:ye.invalid_type,expected:Ee.set,received:o.parsedType}),Re;const r=this._def;r.minSize!==null&&o.data.size<r.minSize.value&&(we(o,{code:ye.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&o.data.size>r.maxSize.value&&(we(o,{code:ye.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const s=this._def.valueType;function i(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Re;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...o.data.values()].map((l,u)=>s._parse(new mn(o,l,o.path,u)));return o.common.async?Promise.all(a).then(l=>i(l)):i(a)}min(t,n){return new gs({...this._def,minSize:{value:t,message:Ce.toString(n)}})}max(t,n){return new gs({...this._def,maxSize:{value:t,message:Ce.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}gs.create=(e,t)=>new gs({valueType:e,minSize:null,maxSize:null,typeName:Me.ZodSet,...je(t)});class Yl extends qe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yl.create=(e,t)=>new Yl({getter:e,typeName:Me.ZodLazy,...je(t)});class jd extends qe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return we(n,{received:n.data,code:ye.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:t.data}}get value(){return this._def.value}}jd.create=(e,t)=>new jd({value:e,typeName:Me.ZodLiteral,...je(t)});function Vg(e,t){return new ar({values:e,typeName:Me.ZodEnum,...je(t)})}class ar extends qe{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),o=this._def.values;return we(n,{expected:Je.joinValues(o),received:n.parsedType,code:ye.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),o=this._def.values;return we(n,{received:n.data,code:ye.invalid_enum_value,options:o}),Re}return jt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return ar.create(t,{...this._def,...n})}exclude(t,n=this._def){return ar.create(this.options.filter(o=>!t.includes(o)),{...this._def,...n})}}ar.create=Vg;class Ud extends qe{_parse(t){const n=Je.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(t);if(o.parsedType!==Ee.string&&o.parsedType!==Ee.number){const r=Je.objectValues(n);return we(o,{expected:Je.joinValues(r),received:o.parsedType,code:ye.invalid_type}),Re}if(this._cache||(this._cache=new Set(Je.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const r=Je.objectValues(n);return we(o,{received:o.data,code:ye.invalid_enum_value,options:r}),Re}return jt(t.data)}get enum(){return this._def.values}}Ud.create=(e,t)=>new Ud({values:e,typeName:Me.ZodNativeEnum,...je(t)});class Wi extends qe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ee.promise&&n.common.async===!1)return we(n,{code:ye.invalid_type,expected:Ee.promise,received:n.parsedType}),Re;const o=n.parsedType===Ee.promise?n.data:Promise.resolve(n.data);return jt(o.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Wi.create=(e,t)=>new Wi({type:e,typeName:Me.ZodPromise,...je(t)});class lr extends qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:o}=this._processInputParams(t),r=this._def.effect||null,s={addIssue:i=>{we(o,i),i.fatal?n.abort():n.dirty()},get path(){return o.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const i=r.transform(o.data,s);if(o.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return Re;const l=await this._def.schema._parseAsync({data:a,path:o.path,parent:o});return l.status==="aborted"?Re:l.status==="dirty"||n.value==="dirty"?Mr(l.value):l});{if(n.value==="aborted")return Re;const a=this._def.schema._parseSync({data:i,path:o.path,parent:o});return a.status==="aborted"?Re:a.status==="dirty"||n.value==="dirty"?Mr(a.value):a}}if(r.type==="refinement"){const i=a=>{const l=r.refinement(a,s);if(o.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(o.common.async===!1){const a=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?Re:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(a=>a.status==="aborted"?Re:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(r.type==="transform")if(o.common.async===!1){const i=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!sr(i))return Re;const a=r.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(i=>sr(i)?Promise.resolve(r.transform(i.value,s)).then(a=>({status:n.value,value:a})):Re);Je.assertNever(r)}}lr.create=(e,t,n)=>new lr({schema:e,typeName:Me.ZodEffects,effect:t,...je(n)});lr.createWithPreprocess=(e,t,n)=>new lr({schema:t,effect:{type:"preprocess",transform:e},typeName:Me.ZodEffects,...je(n)});class oo extends qe{_parse(t){return this._getType(t)===Ee.undefined?jt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}oo.create=(e,t)=>new oo({innerType:e,typeName:Me.ZodOptional,...je(t)});class ur extends qe{_parse(t){return this._getType(t)===Ee.null?jt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ur.create=(e,t)=>new ur({innerType:e,typeName:Me.ZodNullable,...je(t)});class Wl extends qe{_parse(t){const{ctx:n}=this._processInputParams(t);let o=n.data;return n.parsedType===Ee.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Wl.create=(e,t)=>new Wl({innerType:e,typeName:Me.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...je(t)});class Gl extends qe{_parse(t){const{ctx:n}=this._processInputParams(t),o={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Fi(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new gn(o.common.issues)},input:o.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new gn(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Gl.create=(e,t)=>new Gl({innerType:e,typeName:Me.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...je(t)});class Yd extends qe{_parse(t){if(this._getType(t)!==Ee.nan){const o=this._getOrReturnCtx(t);return we(o,{code:ye.invalid_type,expected:Ee.nan,received:o.parsedType}),Re}return{status:"valid",value:t.data}}}Yd.create=e=>new Yd({typeName:Me.ZodNaN,...je(e)});class a2 extends qe{_parse(t){const{ctx:n}=this._processInputParams(t),o=n.data;return this._def.type._parse({data:o,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bu extends qe{_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?Re:s.status==="dirty"?(n.dirty(),Mr(s.value)):this._def.out._parseAsync({data:s.value,path:o.path,parent:o})})();{const r=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?Re:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:o.path,parent:o})}}static create(t,n){return new Bu({in:t,out:n,typeName:Me.ZodPipeline})}}class Zl extends qe{_parse(t){const n=this._def.innerType._parse(t),o=r=>(sr(r)&&(r.value=Object.freeze(r.value)),r);return Fi(n)?n.then(r=>o(r)):o(n)}unwrap(){return this._def.innerType}}Zl.create=(e,t)=>new Zl({innerType:e,typeName:Me.ZodReadonly,...je(t)});var Me;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Me||(Me={}));const Wd=Tn.create,Gd=ir.create,Zd=Fl.create,qd=Bl.create,Ws=jl.create;ao.create;const Xd=hn.create,Kd=ji.create;Ui.create;To.create;const Jd=Yi.create,Qd=Yl.create;ar.create;Wi.create;oo.create;ur.create;const an=10,zg=1024*1024;function l2(e){if(typeof e!="string"||e.length>zg)return!1;try{return JSON.parse(e),!0}catch{return!1}}function Eo(e,t=0){if(t>an||e===null||typeof e!="object")return t;if(Array.isArray(e))return e.length===0?t+1:Math.max(...e.map(o=>Eo(o,t+1)));const n=Object.values(e);return n.length===0?t+1:Math.max(...n.map(o=>Eo(o,t+1)))}function KM(e,t=null,n={}){const o=n.maxDepth||an,r=n.maxSize||zg;if(typeof e!="string")throw new Error("Input must be a string");if(e.length>r)throw new Error(`JSON string exceeds maximum size of ${r} bytes`);if(!l2(e))throw new Error("Invalid JSON syntax");let s;try{s=JSON.parse(e)}catch(a){throw new Error(`JSON parse error: ${a.message}`)}if(Eo(s)>o)throw new Error(`Object nesting exceeds maximum depth of ${o}`);if(t)try{return t.parse(s)}catch(a){if(a instanceof gn){const l=a.errors.map(u=>`${u.path.join(".")}: ${u.message}`).join(", ");throw new Error(`Schema validation failed: ${l}`)}throw a}return s}function JM(e){if(typeof e!="string")throw new Error("Input must be a string");return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const QM={safeObject:Jd(Ws()).refine(e=>Eo(e)<=an,{message:`Object depth exceeds ${an} levels`}),safeArray:Xd(Ws()).refine(e=>Eo(e)<=an,{message:`Array depth exceeds ${an} levels`}),primitive:Kd([Wd(),Gd(),Zd(),qd()]),safeValue:Kd([Wd(),Gd(),Zd(),qd(),Qd(()=>Jd(Ws())),Qd(()=>Xd(Ws()))]).refine(e=>Eo(e)<=an,{message:`Value depth exceeds ${an} levels`})};function e5(e){if(Eo(e)>an)throw new Error(`Value nesting exceeds maximum depth of ${an}`);if(typeof e=="object"&&e!==null){const n=Object.keys(e),o=["__proto__","constructor","prototype"];for(const r of n)if(o.includes(r))throw new Error(`Dangerous key detected: ${r}`)}}const u2=Object.assign({"../methods/connectors/connector.js":()=>We(()=>import("./connector-BE9HvPQv.js"),[]),"../methods/io/output.js":()=>We(()=>import("./output-B9GT2OMv.js"),__vite__mapDeps([0,1]))}),c2={"lib/methods/comparison/comparison.js":()=>We(()=>import("./comparison-C-3EnatI.js"),__vite__mapDeps([2,1])),"lib/methods/constants/constant.js":()=>We(()=>import("./constant-D6PW_zN0.js"),[]),"lib/methods/conversion/typeConversion.js":()=>We(()=>import("./typeConversion-Dht7g6FP.js"),__vite__mapDeps([3,1])),"lib/methods/io/input.js":()=>We(()=>import("./input-CEiuISee.js"),[]),"lib/methods/iteration/forEach.js":()=>We(()=>import("./forEach-9OFFvcAY.js"),__vite__mapDeps([4,1])),"lib/methods/iteration/whileLoop.js":()=>We(()=>import("./whileLoop-BWu1MzO-.js"),__vite__mapDeps([5,1])),"lib/methods/logic/conditionalBranch.js":()=>We(()=>import("./conditionalBranch-qmzAHWv1.js"),__vite__mapDeps([6,1])),"lib/methods/logic/logic.js":()=>We(()=>import("./logic-ePm9P3Wg.js"),__vite__mapDeps([7,1])),"lib/methods/organization/marker.js":()=>We(()=>import("./marker-BauP6ejb.js"),[]),"lib/methods/processors/arrayAggregate.js":()=>We(()=>import("./arrayAggregate-3hx34AUl.js"),__vite__mapDeps([8,1,9])),"lib/methods/processors/arrayCreate.js":()=>We(()=>import("./arrayCreate-CWf8_DP0.js"),__vite__mapDeps([10,1])),"lib/methods/processors/arrayDistinct.js":()=>We(()=>import("./arrayDistinct-D9PWoEhT.js"),__vite__mapDeps([11,1,9])),"lib/methods/processors/arrayFilter.js":()=>We(()=>import("./arrayFilter-BKNYAbre.js"),__vite__mapDeps([12,1,9])),"lib/methods/processors/arrayGroupBy.js":()=>We(()=>import("./arrayGroupBy-BLpLS3bu.js"),__vite__mapDeps([13,1,9])),"lib/methods/processors/arrayMap.js":()=>We(()=>import("./arrayMap-BRt1gY1q.js"),__vite__mapDeps([14,1,9])),"lib/methods/processors/arrayMerge.js":()=>We(()=>import("./arrayMerge-DTWeiSuC.js"),__vite__mapDeps([15,1])),"lib/methods/processors/arrayProcessor.js":()=>We(()=>import("./arrayProcessor-3bzHxIk3.js"),__vite__mapDeps([16,1])),"lib/methods/processors/arraySlice.js":()=>We(()=>import("./arraySlice-CQXToVqn.js"),__vite__mapDeps([17,1])),"lib/methods/processors/arraySort.js":()=>We(()=>import("./arraySort-CkBBmmSd.js"),__vite__mapDeps([18,1,9])),"lib/methods/processors/debugViewer.js":()=>We(()=>import("./debugViewer-DCC5-KnR.js"),__vite__mapDeps([19,1])),"lib/methods/processors/fieldExtractor.js":()=>We(()=>import("./fieldExtractor-BvloaJnL.js"),__vite__mapDeps([20,1,9])),"lib/methods/processors/math.js":()=>We(()=>import("./math-BT4bU4qf.js"),__vite__mapDeps([21,1])),"lib/methods/processors/objectCreate.js":()=>We(()=>import("./objectCreate-Cp_MSNis.js"),__vite__mapDeps([22,1])),"lib/methods/processors/objectFilter.js":()=>We(()=>import("./objectFilter-EJheFovF.js"),__vite__mapDeps([23,1])),"lib/methods/processors/objectKeysValues.js":()=>We(()=>import("./objectKeysValues-DCvxA3oL.js"),__vite__mapDeps([24,1])),"lib/methods/processors/objectMerge.js":()=>We(()=>import("./objectMerge-BDO1RdGM.js"),__vite__mapDeps([25,1])),"lib/methods/processors/objectPick.js":()=>We(()=>import("./objectPick-CwfQPcRQ.js"),__vite__mapDeps([26,1,9])),"lib/methods/processors/objectRename.js":()=>We(()=>import("./objectRename-Txwo_3ZR.js"),__vite__mapDeps([27,1])),"lib/methods/processors/objectSetProperty.js":()=>We(()=>import("./objectSetProperty-D743SG3x.js"),__vite__mapDeps([28,1])),"lib/methods/processors/objectToArray.js":()=>We(()=>import("./objectToArray-3882GLb-.js"),__vite__mapDeps([29,1])),"lib/methods/processors/objectTransform.js":()=>We(()=>import("./objectTransform-QNNWIZ5K.js"),__vite__mapDeps([30,1,9])),"lib/methods/processors/round.js":()=>We(()=>import("./round-DvGedJfu.js"),__vite__mapDeps([31,1])),"lib/methods/storage/variable.js":()=>We(()=>import("./variable-DMEnKvZv.js"),[]),"lib/methods/string/stringOps.js":()=>We(()=>import("./stringOps-CaO1roBe.js"),__vite__mapDeps([32,1]))},ef={...c2,...u2};class d2{constructor(){this.nodes=new Map,this.categories=new Map,this.methodCache=new Map}registerNode(t,n){this.nodes.set(t,n)}registerCategory(t,n){this.categories.set(t,n)}getNodeDefinition(t){const n=this.nodes.get(t);return n||null}getAllNodes(){return Array.from(this.nodes.values())}getNodesByCategory(t){return this.getAllNodes().filter(n=>n.category===t)}getAllCategories(){return Array.from(this.categories.values())}hasNode(t){return this.nodes.has(t)}async getNodeFunction(t,n="method"){const o=this.getNodeDefinition(t);if(!o)return null;const r=o[n];if(!r)return null;const s=`${t}:${n}`;if(this.methodCache.has(s))return this.methodCache.get(s);try{const[i,a]=r.split(":");let l=null,u=null;const c=i.replace("lib/methods/","../methods/");if(l=ef[c],u=c,l||(u=i,l=ef[u]),!l)throw new Error(`Mdulo "${i}" no encontrado no registry`);const d=await l();if(!d[a])throw new Error(`Funo "${a}" no encontrada no mdulo "${i}"`);const h=d[a];return this.methodCache.set(s,h),h}catch{return null}}validateNodeConfig(t,n){const o=this.getNodeDefinition(t);if(!o)return{valid:!1,errors:[`Node type "${t}" no existe`]};const r=[],s=o.config||{};for(const[i,a]of Object.entries(s))if(a.required&&(n[i]===void 0||n[i]===null||n[i]==="")&&r.push(`Campo obrigatrio "${i}" est vazio`),a.condition&&n[i]!==void 0){const[l,u]=Object.entries(a.condition)[0],c=n[l];if(Array.isArray(u)){if(!u.includes(c))continue}else if(c!==u)continue}return{valid:r.length===0,errors:r}}getNodeHandles(t){const n=this.getNodeDefinition(t);return n?n.handles||{inputs:{execution:[],data:[]},outputs:{execution:[],data:[]}}:null}clear(){this.nodes.clear(),this.categories.clear(),this.methodCache.clear()}getStats(){return{totalNodes:this.nodes.size,totalCategories:this.categories.size,cachedMethods:this.methodCache.size,nodesByCategory:Array.from(this.categories.keys()).reduce((t,n)=>(t[n]=this.getNodesByCategory(n).length,t),{})}}}const Ao=new d2,t5=(e,t)=>Ao.registerNode(e,t),n5=(e,t)=>Ao.registerCategory(e,t),cr=e=>Ao.getNodeDefinition(e),f2=()=>Ao.getAllNodes(),h2=e=>Ao.getNodesByCategory(e),Hg=()=>Ao.getAllCategories(),p2=(e,t)=>Ao.getNodeFunction(e,t),Lg={getNodeDefinition:cr,getNodeFunction:p2};async function g2(e,t,n,o={}){const r={...o,registry:Lg};return IC(e,t,n,r)}function ii(e,t){return OC(e,t,{registry:Lg})}function m2(e,t){const n=t.find(l=>l.id===e.source),o=t.find(l=>l.id===e.target);if(!n||!o)return;const r=cr(n.type),s=cr(o.type),i=tf(n,r,e.sourceHandle,"output"),a=tf(o,s,e.targetHandle,"input");console.log(" Edge connected:",{source:{node:n.type,handle:e.sourceHandle,type:i},target:{node:o.type,handle:e.targetHandle,type:a}})}function tf(e,t,n,o){var i,a,l,u,c,d;if(!t||!n)return"unknown";if(e.type==="input"&&o==="output"){const h=parseInt(n.replace("param-output-",""));return((a=(((i=e.data)==null?void 0:i.parameters)||[])[h])==null?void 0:a.type)||"any"}const r=o==="output"?(u=(l=t.handles)==null?void 0:l.outputs)==null?void 0:u.data:(d=(c=t.handles)==null?void 0:c.inputs)==null?void 0:d.data;if(!r)return"unknown";const s=r.find(h=>h.id===n);return(s==null?void 0:s.type)||"unknown"}const $t=Kh("flow",()=>{const e=new yC(g2,ii),t=new NC,n=new TC,o=fe([]),r=fe([]),s=fe({}),i=fe({}),a=fe(null),l=fe(!1),u=fe({}),c=fe(new Set),d=fe(new Set),h=fe(new Set),f=fe({}),m=fe(new Map),v=fe(new Set);let g=null;const y=fe(!1),E=fe([]),_=fe(-1),O=50,X=fe(!1),U=fe({token:null,flowId:null,flowDataId:null,baseUrl:"http://localhost:3001"}),j=fe("offline"),M=fe(null);let B=null;const Y=1e3,H=ne(()=>r.value.filter(G=>{var te;return G.edgeType==="flow"||((te=G.sourceHandle)==null?void 0:te.startsWith("exec-"))})),N=ne(()=>r.value.filter(G=>{var te;return G.edgeType==="data"||!((te=G.sourceHandle)!=null&&te.startsWith("exec-"))})),W=ne(()=>({nodes:f2(),categories:Hg()}));e.onStateChange=G=>{u.value=G.executionResults,c.value=new Set(G.executingNodes),d.value=new Set(G.executedNodes),h.value=new Set(G.errorNodes)},Oe(s,G=>{for(const te in G)e.setNodeData(te,G[te])},{deep:!0}),Oe([U,i],()=>{e.setConfig(U.value,i.value)},{deep:!0});const p=fe({});Oe(i,G=>{const te=new Set;for(const me in G)G[me]!==p.value[me]&&te.add(me);p.value={...G},te.size>0&&o.value.forEach(me=>{if(me.type==="variable"){const be=s.value[me.id];(be==null?void 0:be.mode)==="get"&&(be!=null&&be.variableName)&&te.has(be.variableName)&&ke(me.id)}})},{deep:!0}),Oe(r,()=>{r.value.forEach(G=>{var te,me;if(!G.edgeType){const be=((te=G.sourceHandle)==null?void 0:te.startsWith("exec-"))||((me=G.targetHandle)==null?void 0:me.startsWith("exec-"));G.edgeType=be?"flow":"data"}})},{immediate:!0});const $=()=>{if(X.value)return;const G={nodes:JSON.parse(JSON.stringify(o.value)),edges:JSON.parse(JSON.stringify(r.value)),nodeData:JSON.parse(JSON.stringify(s.value))};_.value<E.value.length-1&&(E.value=E.value.slice(0,_.value+1)),E.value.push(G),_.value=E.value.length-1,E.value.length>O&&(E.value.shift(),_.value--)},z=()=>{if(_.value<=0)return!1;X.value=!0,_.value--;const G=E.value[_.value];return o.value=JSON.parse(JSON.stringify(G.nodes)),r.value=JSON.parse(JSON.stringify(G.edges)),s.value=JSON.parse(JSON.stringify(G.nodeData)),X.value=!1,!0},V=()=>{if(_.value>=E.value.length-1)return!1;X.value=!0,_.value++;const G=E.value[_.value];return o.value=JSON.parse(JSON.stringify(G.nodes)),r.value=JSON.parse(JSON.stringify(G.edges)),s.value=JSON.parse(JSON.stringify(G.nodeData)),X.value=!1,!0},J=G=>{var be;o.value=[...o.value,G],s.value={...s.value,[G.id]:{}},$();const te=n.shouldAutoExecuteOnCreate(G.type),me=G.type==="variable"&&!((be=G.data)!=null&&be.variableName);te&&!me&&setTimeout(()=>ke(G.id),n.getDelay())},Z=G=>{o.value=o.value.filter(be=>be.id!==G);const{[G]:te,...me}=s.value;s.value=me,r.value=r.value.filter(be=>be.source!==G&&be.target!==G),se(G),$()},oe=(G,te)=>{const me=o.value.findIndex(be=>be.id===G);me!==-1&&(o.value[me].position=te)},de=G=>{l.value=G},K=(G,te)=>{const me={...s.value[G],...te};s.value={...s.value,[G]:me},e.setNodeData(G,me);const be=o.value.find(Pe=>Pe.id===G);be&&n.shouldAutoExecuteOnConfigChange(be.type)&&setTimeout(()=>ke(G),n.getDelay())},ae=G=>{var be,Pe;const te=((be=G.sourceHandle)==null?void 0:be.startsWith("exec-"))||((Pe=G.targetHandle)==null?void 0:Pe.startsWith("exec-"));G.edgeType=te?"flow":"data",r.value=[...r.value,G],m2(G,o.value),$(),o.value.find(Fe=>Fe.id===G.target)&&G.edgeType==="data"&&u.value[G.source]!==void 0&&setTimeout(()=>ke(G.target),n.getDelay())},ue=G=>{r.value=r.value.filter(te=>te.id!==G),$()},pe=G=>{const te={},me=N.value.filter(be=>be.target===G);for(const be of me){const Pe=u.value[be.source];if(Pe!==void 0){const Fe=typeof Pe=="object"&&Pe!==null&&be.sourceHandle in Pe?Pe[be.sourceHandle]:Pe,He=be.targetHandle||"data-input";te[He]=Fe}}return te},q=(G,te)=>{u.value={...u.value,[G]:te},e.executionResults.set(G,te)},se=G=>{const{[G]:te,...me}=u.value;u.value=me,e.executionResults.delete(G)},ie=G=>{u.value={...u.value,...G},Object.entries(G).forEach(([te,me])=>{e.executionResults.set(te,me)})},ge=()=>{u.value={},e.clearExecutionResults()},ke=async G=>{const te=o.value.find(Fe=>Fe.id===G);if(!te)return;const me=pe(G),be=N.value.filter(Fe=>Fe.target===G),Pe=be.every(Fe=>u.value[Fe.source]!==void 0);if(!(be.length>0&&!Pe))try{const Fe=await e.executeNode(te,me),He={...te,data:s.value[G]},Be=ii(He,Fe);if(q(G,Be),Be&&typeof Be=="object"){for(const Fn in Be)Fn.startsWith("exec-")||t.detectType(G,Fn,Be[Fn]);f.value=t.exportDetectedTypes()}const St=n.getExecutionPlan(G,o.value,r.value,"upstream-execution");for(const Fn of St)setTimeout(()=>ke(Fn),100);return Be}catch(Fe){throw Fe}},I=async()=>{y.value=!0,await e.executeFlow(o.value,r.value);const G=e.getAllResults();u.value={...G},d.value=new Set(e.getAllExecutedNodes()),c.value=new Set(e.getAllExecutingNodes()),h.value=new Set(e.getAllErrorNodes()),i.value={...e.globalVariables},console.log(" Frontend synced - Executed:",Array.from(d.value).join(", ")),t.detectAllTypes(u.value),f.value=t.exportDetectedTypes(),y.value=!1},D=async(G=null,te={},me={})=>{const be=U.value.token,Pe=U.value.baseUrl||"http://localhost:3001",Fe=G||U.value.flowId;if(!be)throw new Error("Token de autenticao no configurado. Configure apiConfig.token");if(!Fe)throw new Error("Flow ID no fornecido. Fornea flowId como parmetro ou configure apiConfig.flowId");try{const He=await fetch(`${Pe}/api/flows/${Fe}/execute`,{method:"POST",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"},body:JSON.stringify({inputData:te,options:{saveResult:me.saveResult||!1,includeNodeResults:me.includeNodeResults||!1,timeout:me.timeout||6e4}})});if(!He.ok){const St=await He.json().catch(()=>({message:`Erro HTTP ${He.status}`}));throw new Error(St.message||`Erro ${He.status}: ${He.statusText}`)}const Be=await He.json();if(Be.success)return Be.data;throw new Error(Be.message||"Erro desconhecido na execuo")}catch(He){throw console.error(" Erro ao executar flow no backend:",He),He}},b=async(G,te=null)=>{await e.executeConnectedNodes(G,o.value,r.value,te),u.value=e.getAllResults()},k=async(G,te={})=>{try{const me=await e.executeNode(G,te);if(q(G.id,me),me&&typeof me=="object")for(const be in me)be.startsWith("exec-")||t.detectType(G.id,be,me[be]);return me}catch(me){throw me}},C=async G=>{const te=o.value.find(Pe=>Pe.id===G.target);if(!te)return;const me=pe(G.target);if(["add","subtract","multiply","divide","variable","field-extractor","connector","input","array-filter","array-aggregate","array-slice","array-sort","array-map","array-groupby","array-distinct","array-merge","array-create","object-merge","object-pick","object-keys-values","object-rename","object-set-property","object-to-array","object-transform","object-create","constant","compare","type-conversion","logic","string-ops","debug-viewer"].includes(te.type))try{const Pe=await k(te,me),Fe={...te,data:s.value[te.id]},He=ii(Fe,Pe);q(G.target,He);const Be=N.value.filter(St=>St.source===G.target);for(const St of Be)await C(St)}catch{}},S=()=>{ge(),t.clearDetectedTypes(),c.value=new Set,d.value=new Set,h.value=new Set,m.value.clear(),v.value.clear(),g&&(clearTimeout(g),g=null)},w=async G=>{if(y.value)return;m.value.has(G)&&clearTimeout(m.value.get(G));const te=setTimeout(async()=>{const me=n.getExecutionPlan(G,o.value,r.value,"upstream-execution");for(const be of me)await ke(be);m.value.delete(G)},n.getDelay());m.value.set(G,te)},P=G=>{v.value.add(G),g&&clearTimeout(g),g=setTimeout(async()=>{const te=Array.from(v.value);v.value.clear();for(const me of te)await ke(me);g=null},300)},T=async()=>{const G=o.value.filter(te=>{const me=N.value.some(Pe=>Pe.target===te.id),be=n.shouldAutoExecuteOnCreate(te.type);return!me&&be});for(const te of G)try{await ke(te.id)}catch(me){console.error(`Error executing source node ${te.id}:`,me)}};Oe(u,(G,te)=>{if(!y.value)for(const me in G){const be=te==null?void 0:te[me],Pe=G[me];JSON.stringify(Pe)!==JSON.stringify(be)&&w(me)}},{deep:!0});const F=()=>{const G=t.exportDetectedTypes(),te={nodes:o.value,edges:r.value,nodeData:s.value,detectedTypes:G,timestamp:new Date().toISOString(),version:"2.0"},me=JSON.stringify(te,null,2),be=new Blob([me],{type:"application/json"}),Pe=URL.createObjectURL(be),Fe=document.createElement("a");return Fe.href=Pe,Fe.download=`flow-forge-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.json`,document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe),URL.revokeObjectURL(Pe),te},Q=G=>{try{if(!G.nodes||!G.edges)throw new Error("Invalid flow data format");y.value=!0,S(),o.value=[],r.value=[],s.value={},i.value={},s.value={...G.nodeData||{}},G.detectedTypes&&(t.loadDetectedTypes(G.detectedTypes),f.value=G.detectedTypes),setTimeout(()=>{o.value=G.nodes.map(te=>({...te})),r.value=G.edges.map(te=>({...te})),setTimeout(async()=>{y.value=!1,await T()},200)},100)}catch(te){throw y.value=!1,te}},ee=async()=>{if(U.value.flowDataId)try{j.value="syncing";const G={nodes:o.value,edges:r.value,nodeData:s.value,detectedTypes:t.exportDetectedTypes()};if(!(await fetch(`${U.value.baseUrl}/api/flow-data/${U.value.flowDataId}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U.value.token}`},body:JSON.stringify({data:G})})).ok)throw new Error("Sync failed");j.value="synced",M.value=null}catch(G){j.value="error",M.value=G.message}},le=async G=>{try{const te=await fetch(`${U.value.baseUrl}/api/flow-data/${G}`,{headers:{Authorization:`Bearer ${U.value.token}`}});if(!te.ok)throw new Error("Load failed");const me=await te.json();Q(me.flowData),U.value.flowDataId=G,j.value="synced"}catch(te){throw te}},he=async()=>{const G=await vC();a.value=G,e.setConfig(U.value,i.value)},$e=()=>{const te=new URLSearchParams(window.location.search).get("flowId"),me=localStorage.getItem("accessToken"),be=te;me&&be?(U.value.token=me,U.value.flowId=be,Ne()):j.value="offline"},Ne=async()=>{if(!U.value.token||!U.value.flowId)return j.value="offline",!1;j.value="syncing";try{const G=await fetch(`${U.value.baseUrl}/api/flow-data/by-flow/${U.value.flowId}`,{method:"GET",headers:{Authorization:`Bearer ${U.value.token}`,"Content-Type":"application/json"}});if(!G.ok){if(G.status===401||G.status===403)return j.value="error",!1;throw new Error(`HTTP error! status: ${G.status}`)}const te=await G.json();if(te.success&&te.data){if(U.value.flowDataId=te.data._id,te.data.data&&te.data.data.nodes&&te.data.data.edges){const me={nodes:te.data.data.nodes,edges:te.data.data.edges,nodeData:te.data.data.nodeData||{},detectedTypes:te.data.data.detectedTypes||{},variables:te.data.data.variables||{}};Q(me),te.data.data.variables&&Object.assign(i.value,te.data.data.variables)}else S();return j.value="synced",De(),!0}else throw new Error("Invalid response format")}catch(G){return j.value="error",M.value=G.message,!1}},De=()=>{Oe([o,r,s],()=>{B&&clearTimeout(B),B=setTimeout(()=>{U.value.flowDataId&&ee()},Y)},{deep:!0})};return{flowEngine:e,typeEngine:t,autoExecEngine:n,nodes:o,edges:r,nodeData:s,executionResults:u,executingNodes:c,executedNodes:d,errorNodes:h,savedDetectedTypes:f,globalVariables:i,dataTypes:a,isDragging:l,apiConfig:U,syncStatus:j,lastSyncError:M,flowEdges:H,dataEdges:N,nodeCatalog:W,addNode:J,removeNode:Z,updateNodePosition:oe,setDragging:de,updateNodeData:K,addEdge:ae,removeEdge:ue,executeNode:k,executeNodeById:ke,executeFlow:I,executeFlowOnBackend:D,executeConnectedNodes:b,propagateDataToTarget:C,clearExecutionResults:S,getNodeDataInputs:pe,setExecutionResult:q,removeExecutionResult:se,updateExecutionResults:ie,clearAllExecutionResults:ge,propagateToDownstream:w,scheduleExecution:P,executeSourceNodes:T,isLoadingFlow:y,saveFlow:F,loadFlow:Q,syncToAPI:ee,loadFromAPI:le,undo:z,redo:V,saveSnapshot:$,initialize:he,initializeFromUrl:$e,fetchFlowData:Ne}});function y2(){const e=fe(!1),t=fe({x:0,y:0}),n=fe({x:0,y:0}),o=(i,a)=>{t.value={x:i,y:a},n.value={x:i,y:a},e.value=!0};return{showContextMenu:e,contextMenuPosition:t,lastRightClickPosition:n,openContextMenu:o,closeContextMenu:()=>{e.value=!1},handleContextMenu:i=>{i.preventDefault(),o(i.clientX,i.clientY)}}}const Zt=fe(!1),v2=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,b2=()=>{const e=localStorage.getItem("flow-forge-theme");e?Zt.value=e==="dark":Zt.value=v2(),Fg()},Fg=()=>{const e=document.documentElement;Zt.value?e.classList.add("dark"):e.classList.remove("dark")};Oe(Zt,()=>{localStorage.setItem("flow-forge-theme",Zt.value?"dark":"light"),Fg()});window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("flow-forge-theme")||(Zt.value=e.matches)});const Bg=()=>{const e=()=>{Zt.value=!Zt.value},t=o=>{Zt.value=o==="dark"},n=ne(()=>Zt.value?"dark":"light");return{isDark:Zt,theme:n,toggleTheme:e,setTheme:t,initTheme:b2}},jg=/^[a-z0-9]+(-[a-z0-9]+)*$/,wa=(e,t,n,o="")=>{const r=e.split(":");if(e.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const a=r.pop(),l=r.pop(),u={provider:r.length>0?r[0]:o,prefix:l,name:a};return t&&!ai(u)?null:u}const s=r[0],i=s.split("-");if(i.length>1){const a={provider:o,prefix:i.shift(),name:i.join("-")};return t&&!ai(a)?null:a}if(n&&o===""){const a={provider:o,prefix:"",name:s};return t&&!ai(a,n)?null:a}return null},ai=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,Ug=Object.freeze({left:0,top:0,width:16,height:16}),Gi=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ka=Object.freeze({...Ug,...Gi}),ql=Object.freeze({...ka,body:"",hidden:!1});function x2(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const o=((e.rotate||0)+(t.rotate||0))%4;return o&&(n.rotate=o),n}function nf(e,t){const n=x2(e,t);for(const o in ql)o in Gi?o in e&&!(o in n)&&(n[o]=Gi[o]):o in t?n[o]=t[o]:o in e&&(n[o]=e[o]);return n}function _2(e,t){const n=e.icons,o=e.aliases||Object.create(null),r=Object.create(null);function s(i){if(n[i])return r[i]=[];if(!(i in r)){r[i]=null;const a=o[i]&&o[i].parent,l=a&&s(a);l&&(r[i]=[a].concat(l))}return r[i]}return Object.keys(n).concat(Object.keys(o)).forEach(s),r}function w2(e,t,n){const o=e.icons,r=e.aliases||Object.create(null);let s={};function i(a){s=nf(o[a]||r[a],s)}return i(t),n.forEach(i),nf(e,s)}function Yg(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(r=>{t(r,null),n.push(r)});const o=_2(e);for(const r in o){const s=o[r];s&&(t(r,w2(e,r,s)),n.push(r))}return n}const k2={provider:"",aliases:{},not_found:{},...Ug};function Ka(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function Wg(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!Ka(e,k2))return null;const n=t.icons;for(const r in n){const s=n[r];if(!r||typeof s.body!="string"||!Ka(s,ql))return null}const o=t.aliases||Object.create(null);for(const r in o){const s=o[r],i=s.parent;if(!r||typeof i!="string"||!n[i]&&!o[i]||!Ka(s,ql))return null}return t}const of=Object.create(null);function E2(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function dr(e,t){const n=of[e]||(of[e]=Object.create(null));return n[t]||(n[t]=E2(e,t))}function Gg(e,t){return Wg(t)?Yg(t,(n,o)=>{o?e.icons[n]=o:e.missing.add(n)}):[]}function $2(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let ms=!1;function Zg(e){return typeof e=="boolean"&&(ms=e),ms}function S2(e){const t=typeof e=="string"?wa(e,!0,ms):e;if(t){const n=dr(t.provider,t.prefix),o=t.name;return n.icons[o]||(n.missing.has(o)?null:void 0)}}function C2(e,t){const n=wa(e,!0,ms);if(!n)return!1;const o=dr(n.provider,n.prefix);return t?$2(o,n.name,t):(o.missing.add(n.name),!0)}function N2(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),ms&&!t&&!e.prefix){let r=!1;return Wg(e)&&(e.prefix="",Yg(e,(s,i)=>{C2(s,i)&&(r=!0)})),r}const n=e.prefix;if(!ai({prefix:n,name:"a"}))return!1;const o=dr(t,n);return!!Gg(o,e)}const qg=Object.freeze({width:null,height:null}),Xg=Object.freeze({...qg,...Gi}),T2=/(-?[0-9.]*[0-9]+[0-9.]*)/g,I2=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function rf(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const o=e.split(T2);if(o===null||!o.length)return e;const r=[];let s=o.shift(),i=I2.test(s);for(;;){if(i){const a=parseFloat(s);isNaN(a)?r.push(s):r.push(Math.ceil(a*t*n)/n)}else r.push(s);if(s=o.shift(),s===void 0)return r.join("");i=!i}}function A2(e,t="defs"){let n="";const o=e.indexOf("<"+t);for(;o>=0;){const r=e.indexOf(">",o),s=e.indexOf("</"+t);if(r===-1||s===-1)break;const i=e.indexOf(">",s);if(i===-1)break;n+=e.slice(r+1,s).trim(),e=e.slice(0,o).trim()+e.slice(i+1)}return{defs:n,content:e}}function O2(e,t){return e?"<defs>"+e+"</defs>"+t:t}function M2(e,t,n){const o=A2(e);return O2(o.defs,t+o.content+n)}const D2=e=>e==="unset"||e==="undefined"||e==="none";function P2(e,t){const n={...ka,...e},o={...Xg,...t},r={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,o].forEach(v=>{const g=[],y=v.hFlip,E=v.vFlip;let _=v.rotate;y?E?_+=2:(g.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),g.push("scale(-1 1)"),r.top=r.left=0):E&&(g.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),g.push("scale(1 -1)"),r.top=r.left=0);let O;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:O=r.height/2+r.top,g.unshift("rotate(90 "+O.toString()+" "+O.toString()+")");break;case 2:g.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:O=r.width/2+r.left,g.unshift("rotate(-90 "+O.toString()+" "+O.toString()+")");break}_%2===1&&(r.left!==r.top&&(O=r.left,r.left=r.top,r.top=O),r.width!==r.height&&(O=r.width,r.width=r.height,r.height=O)),g.length&&(s=M2(s,'<g transform="'+g.join(" ")+'">',"</g>"))});const i=o.width,a=o.height,l=r.width,u=r.height;let c,d;i===null?(d=a===null?"1em":a==="auto"?u:a,c=rf(d,l/u)):(c=i==="auto"?l:i,d=a===null?rf(c,u/l):a==="auto"?u:a);const h={},f=(v,g)=>{D2(g)||(h[v]=g.toString())};f("width",c),f("height",d);const m=[r.left,r.top,l,u];return h.viewBox=m.join(" "),{attributes:h,viewBox:m,body:s}}const R2=/\sid="(\S+)"/g,V2="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let z2=0;function H2(e,t=V2){const n=[];let o;for(;o=R2.exec(e);)n.push(o[1]);if(!n.length)return e;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const i=typeof t=="function"?t(s):t+(z2++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+i+r+"$3")}),e=e.replace(new RegExp(r,"g"),""),e}const Xl=Object.create(null);function L2(e,t){Xl[e]=t}function Kl(e){return Xl[e]||Xl[""]}function ju(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Uu=Object.create(null),kr=["https://api.simplesvg.com","https://api.unisvg.com"],li=[];for(;kr.length>0;)kr.length===1||Math.random()>.5?li.push(kr.shift()):li.push(kr.pop());Uu[""]=ju({resources:["https://api.iconify.design"].concat(li)});function F2(e,t){const n=ju(t);return n===null?!1:(Uu[e]=n,!0)}function Yu(e){return Uu[e]}const B2=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let sf=B2();function j2(e,t){const n=Yu(e);if(!n)return 0;let o;if(!n.maxURL)o=0;else{let r=0;n.resources.forEach(i=>{r=Math.max(r,i.length)});const s=t+".json?icons=";o=n.maxURL-r-n.path.length-s.length}return o}function U2(e){return e===404}const Y2=(e,t,n)=>{const o=[],r=j2(e,t),s="icons";let i={type:s,provider:e,prefix:t,icons:[]},a=0;return n.forEach((l,u)=>{a+=l.length+1,a>=r&&u>0&&(o.push(i),i={type:s,provider:e,prefix:t,icons:[]},a=l.length),i.icons.push(l)}),o.push(i),o};function W2(e){if(typeof e=="string"){const t=Yu(e);if(t)return t.path}return"/"}const G2=(e,t,n)=>{if(!sf){n("abort",424);return}let o=W2(t.provider);switch(t.type){case"icons":{const s=t.prefix,a=t.icons.join(","),l=new URLSearchParams({icons:a});o+=s+".json?"+l.toString();break}case"custom":{const s=t.uri;o+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let r=503;sf(e+o).then(s=>{const i=s.status;if(i!==200){setTimeout(()=>{n(U2(i)?"abort":"next",i)});return}return r=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",r)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",r)})},Z2={prepare:Y2,send:G2};function q2(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((r,s)=>r.provider!==s.provider?r.provider.localeCompare(s.provider):r.prefix!==s.prefix?r.prefix.localeCompare(s.prefix):r.name.localeCompare(s.name));let o={provider:"",prefix:"",name:""};return e.forEach(r=>{if(o.name===r.name&&o.prefix===r.prefix&&o.provider===r.provider)return;o=r;const s=r.provider,i=r.prefix,a=r.name,l=n[s]||(n[s]=Object.create(null)),u=l[i]||(l[i]=dr(s,i));let c;a in u.icons?c=t.loaded:i===""||u.missing.has(a)?c=t.missing:c=t.pending;const d={provider:s,prefix:i,name:a};c.push(d)}),t}function Kg(e,t){e.forEach(n=>{const o=n.loaderCallbacks;o&&(n.loaderCallbacks=o.filter(r=>r.id!==t))})}function X2(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const o=e.provider,r=e.prefix;t.forEach(s=>{const i=s.icons,a=i.pending.length;i.pending=i.pending.filter(l=>{if(l.prefix!==r)return!0;const u=l.name;if(e.icons[u])i.loaded.push({provider:o,prefix:r,name:u});else if(e.missing.has(u))i.missing.push({provider:o,prefix:r,name:u});else return n=!0,!0;return!1}),i.pending.length!==a&&(n||Kg([e],s.id),s.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),s.abort))})}))}let K2=0;function J2(e,t,n){const o=K2++,r=Kg.bind(null,n,o);if(!t.pending.length)return r;const s={id:o,icons:t,callback:e,abort:r};return n.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(s)}),r}function Q2(e,t=!0,n=!1){const o=[];return e.forEach(r=>{const s=typeof r=="string"?wa(r,t,n):r;s&&o.push(s)}),o}var eN={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function tN(e,t,n,o){const r=e.resources.length,s=e.random?Math.floor(Math.random()*r):e.index;let i;if(e.random){let U=e.resources.slice(0);for(i=[];U.length>1;){const j=Math.floor(Math.random()*U.length);i.push(U[j]),U=U.slice(0,j).concat(U.slice(j+1))}i=i.concat(U)}else i=e.resources.slice(s).concat(e.resources.slice(0,s));const a=Date.now();let l="pending",u=0,c,d=null,h=[],f=[];typeof o=="function"&&f.push(o);function m(){d&&(clearTimeout(d),d=null)}function v(){l==="pending"&&(l="aborted"),m(),h.forEach(U=>{U.status==="pending"&&(U.status="aborted")}),h=[]}function g(U,j){j&&(f=[]),typeof U=="function"&&f.push(U)}function y(){return{startTime:a,payload:t,status:l,queriesSent:u,queriesPending:h.length,subscribe:g,abort:v}}function E(){l="failed",f.forEach(U=>{U(void 0,c)})}function _(){h.forEach(U=>{U.status==="pending"&&(U.status="aborted")}),h=[]}function O(U,j,M){const B=j!=="success";switch(h=h.filter(Y=>Y!==U),l){case"pending":break;case"failed":if(B||!e.dataAfterTimeout)return;break;default:return}if(j==="abort"){c=M,E();return}if(B){c=M,h.length||(i.length?X():E());return}if(m(),_(),!e.random){const Y=e.resources.indexOf(U.resource);Y!==-1&&Y!==e.index&&(e.index=Y)}l="completed",f.forEach(Y=>{Y(M)})}function X(){if(l!=="pending")return;m();const U=i.shift();if(U===void 0){if(h.length){d=setTimeout(()=>{m(),l==="pending"&&(_(),E())},e.timeout);return}E();return}const j={status:"pending",resource:U,callback:(M,B)=>{O(j,M,B)}};h.push(j),u++,d=setTimeout(X,e.rotate),n(U,t,j.callback)}return setTimeout(X),y}function Jg(e){const t={...eN,...e};let n=[];function o(){n=n.filter(a=>a().status==="pending")}function r(a,l,u){const c=tN(t,a,l,(d,h)=>{o(),u&&u(d,h)});return n.push(c),c}function s(a){return n.find(l=>a(l))||null}return{query:r,find:s,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:o}}function af(){}const Ja=Object.create(null);function nN(e){if(!Ja[e]){const t=Yu(e);if(!t)return;const n=Jg(t),o={config:t,redundancy:n};Ja[e]=o}return Ja[e]}function oN(e,t,n){let o,r;if(typeof e=="string"){const s=Kl(e);if(!s)return n(void 0,424),af;r=s.send;const i=nN(e);i&&(o=i.redundancy)}else{const s=ju(e);if(s){o=Jg(s);const i=e.resources?e.resources[0]:"",a=Kl(i);a&&(r=a.send)}}return!o||!r?(n(void 0,424),af):o.query(t,r,n)().abort}function lf(){}function rN(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,X2(e)}))}function sN(e){const t=[],n=[];return e.forEach(o=>{(o.match(jg)?t:n).push(o)}),{valid:t,invalid:n}}function Er(e,t,n){function o(){const r=e.pendingIcons;t.forEach(s=>{r&&r.delete(s),e.icons[s]||e.missing.add(s)})}if(n&&typeof n=="object")try{if(!Gg(e,n).length){o();return}}catch(r){console.error(r)}o(),rN(e)}function uf(e,t){e instanceof Promise?e.then(n=>{t(n)}).catch(()=>{t(null)}):t(e)}function iN(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:o}=e,r=e.iconsToLoad;if(delete e.iconsToLoad,!r||!r.length)return;const s=e.loadIcon;if(e.loadIcons&&(r.length>1||!s)){uf(e.loadIcons(r,o,n),c=>{Er(e,r,c)});return}if(s){r.forEach(c=>{const d=s(c,o,n);uf(d,h=>{const f=h?{prefix:o,icons:{[c]:h}}:null;Er(e,[c],f)})});return}const{valid:i,invalid:a}=sN(r);if(a.length&&Er(e,a,null),!i.length)return;const l=o.match(jg)?Kl(n):null;if(!l){Er(e,i,null);return}l.prepare(n,o,i).forEach(c=>{oN(n,c,d=>{Er(e,c.icons,d)})})}))}const aN=(e,t)=>{const n=Q2(e,!0,Zg()),o=q2(n);if(!o.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(o.loaded,o.missing,o.pending,lf)}),()=>{l=!1}}const r=Object.create(null),s=[];let i,a;return o.pending.forEach(l=>{const{provider:u,prefix:c}=l;if(c===a&&u===i)return;i=u,a=c,s.push(dr(u,c));const d=r[u]||(r[u]=Object.create(null));d[c]||(d[c]=[])}),o.pending.forEach(l=>{const{provider:u,prefix:c,name:d}=l,h=dr(u,c),f=h.pendingIcons||(h.pendingIcons=new Set);f.has(d)||(f.add(d),r[u][c].push(d))}),s.forEach(l=>{const u=r[l.provider][l.prefix];u.length&&iN(l,u)}),t?J2(t,o,s):lf};function lN(e,t){const n={...e};for(const o in t){const r=t[o],s=typeof r;o in qg?(r===null||r&&(s==="string"||s==="number"))&&(n[o]=r):s===typeof n[o]&&(n[o]=o==="rotate"?r%4:r)}return n}const uN=/[\s,]+/;function cN(e,t){t.split(uN).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function dN(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function o(r){for(;r<0;)r+=4;return r%4}if(n===""){const r=parseInt(e);return isNaN(r)?0:o(r)}else if(n!==e){let r=0;switch(n){case"%":r=25;break;case"deg":r=90}if(r){let s=parseFloat(e.slice(0,e.length-n.length));return isNaN(s)?0:(s=s/r,s%1===0?o(s):0)}}return t}function fN(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)n+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function hN(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function pN(e){return"data:image/svg+xml,"+hN(e)}function gN(e){return'url("'+pN(e)+'")'}const cf={...Xg,inline:!1},mN={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},yN={display:"inline-block"},Jl={backgroundColor:"currentColor"},Qg={backgroundColor:"transparent"},df={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},ff={webkitMask:Jl,mask:Jl,background:Qg};for(const e in ff){const t=ff[e];for(const n in df)t[e+n]=df[n]}const ui={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";ui[e+"-flip"]=t,ui[e.slice(0,1)+"-flip"]=t,ui[e+"Flip"]=t});function hf(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const pf=(e,t)=>{const n=lN(cf,t),o={...mN},r=t.mode||"svg",s={},i=t.style,a=typeof i=="object"&&!(i instanceof Array)?i:{};for(let v in t){const g=t[v];if(g!==void 0)switch(v){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[v]=g===!0||g==="true"||g===1;break;case"flip":typeof g=="string"&&cN(n,g);break;case"color":s.color=g;break;case"rotate":typeof g=="string"?n[v]=dN(g):typeof g=="number"&&(n[v]=g);break;case"ariaHidden":case"aria-hidden":g!==!0&&g!=="true"&&delete o["aria-hidden"];break;default:{const y=ui[v];y?(g===!0||g==="true"||g===1)&&(n[y]=!0):cf[v]===void 0&&(o[v]=g)}}}const l=P2(e,n),u=l.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),r==="svg"){o.style={...s,...a},Object.assign(o,u);let v=0,g=t.id;return typeof g=="string"&&(g=g.replace(/-/g,"_")),o.innerHTML=H2(l.body,g?()=>g+"ID"+v++:"iconifyVue"),Xe("svg",o)}const{body:c,width:d,height:h}=e,f=r==="mask"||(r==="bg"?!1:c.indexOf("currentColor")!==-1),m=fN(c,{...u,width:d+"",height:h+""});return o.style={...s,"--svg":gN(m),width:hf(u.width),height:hf(u.height),...yN,...f?Jl:Qg,...a},Xe("span",o)};Zg(!0);L2("",Z2);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!N2(o))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const o="IconifyProviders["+n+"] is invalid.";try{const r=t[n];if(typeof r!="object"||!r||r.resources===void 0)continue;F2(n,r)||console.error(o)}catch{console.error(o)}}}}const vN={...ka,body:""},bN=ot((e,{emit:t})=>{const n=fe(null);function o(){var u,c;n.value&&((c=(u=n.value).abort)==null||c.call(u),n.value=null)}const r=fe(!!e.ssr),s=fe(""),i=Zo(null);function a(){const u=e.icon;if(typeof u=="object"&&u!==null&&typeof u.body=="string")return s.value="",{data:u};let c;if(typeof u!="string"||(c=wa(u,!1,!0))===null)return null;let d=S2(c);if(!d){const m=n.value;return(!m||m.name!==u)&&(d===null?n.value={name:u}:n.value={name:u,abort:aN([c],l)}),null}o(),s.value!==u&&(s.value=u,Dt(()=>{t("load",u)}));const h=e.customise;if(h){d=Object.assign({},d);const m=h(d.body,c.name,c.prefix,c.provider);typeof m=="string"&&(d.body=m)}const f=["iconify"];return c.prefix!==""&&f.push("iconify--"+c.prefix),c.provider!==""&&f.push("iconify--"+c.provider),{data:d,classes:f}}function l(){var c;const u=a();u?u.data!==((c=i.value)==null?void 0:c.data)&&(i.value=u):i.value=null}return r.value?l():gt(()=>{r.value=!0,l()}),Oe(()=>e.icon,l),Io(o),()=>{const u=i.value;if(!u)return pf(vN,e);let c=e;return u.classes&&(c={...e,class:u.classes.join(" ")}),pf({...ka,...u.data},c)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),wt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},xN={__name:"Icon",props:{icon:{type:String,required:!0},size:{type:[String,Number],default:16},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},color:{type:String,default:null},className:{type:String,default:""}},setup(e){return(t,n)=>(R(),ut(ce(bN),{icon:e.icon,width:e.width||e.size,height:e.height||e.size,class:st(["flow-icon",e.className]),style:ct({color:e.color})},null,8,["icon","width","height","class","style"]))}},Le=wt(xN,[["__scopeId","data-v-4b4f777d"]]),_N={class:"h-12 bg-flow-surface dark:bg-flow-surface-dark border-b border-flow-border dark:border-flow-border-dark flex items-center justify-between px-4 relative z-[100] backdrop-blur-sm"},wN={class:"flex items-center gap-2"},kN={class:"flex items-center gap-3 px-2"},EN={class:"flex items-center gap-2 flex-1 justify-center"},$N={class:"flex items-center gap-1"},SN={class:"flex items-center gap-1"},CN=["disabled"],NN=["disabled"],TN={class:"flex items-center gap-1"},IN={class:"flex items-center gap-2"},AN=["title"],ON={key:0,class:"flex items-center gap-1.5 px-3 py-1 bg-surface-hover-light dark:bg-surface-hover-dark rounded-2xl"},MN={class:"text-xs text-text-muted-light dark:text-text-muted-dark font-medium"},DN=["title"],PN={class:"w-7 h-7 flex items-center justify-center bg-primary text-white rounded-md text-xs font-semibold"},RN={key:0,class:"absolute right-0 top-full mt-2 w-48 bg-flow-surface dark:bg-flow-surface-dark border border-flow-border dark:border-flow-border-dark rounded-lg shadow-lg backdrop-blur-sm z-50 py-1"},VN={class:"px-3 py-2 border-b border-flow-border dark:border-flow-border-dark"},zN={class:"text-xs text-flow-text-muted dark:text-flow-text-muted-dark"},HN={key:0},LN={key:1},FN={__name:"TopToolbar",props:{canUndo:{type:Boolean,default:!1},canRedo:{type:Boolean,default:!1},executionStatus:{type:String,default:null}},emits:["execute","clear","undo","redo","toggleHelp"],setup(e,{emit:t}){const n=e,o=t,r=$t(),{isDark:s,toggleTheme:i}=Bg(),a=fe(!1),l=fe(null),u=ne(()=>{switch(n.executionStatus){case"running":return"Executing...";case"success":return"Executed";case"error":return"Error";default:return""}}),c=ne(()=>r.syncStatus),d=ne(()=>{switch(c.value){case"synced":return"material-symbols:cloud-done";case"syncing":return"material-symbols:sync";case"error":return"material-symbols:cloud-off";case"offline":return"material-symbols:wifi-off";default:return"material-symbols:cloud"}}),h=ne(()=>{switch(c.value){case"synced":return"Saved";case"syncing":return"Saving...";case"error":return"Error";case"offline":return"Offline";default:return""}}),f=ne(()=>{switch(c.value){case"synced":return"All changes saved to cloud";case"syncing":return"Saving changes...";case"error":return"Failed to save changes";case"offline":return"No connection to server";default:return""}}),m=()=>{a.value=!a.value},v=()=>{o("execute")},g=()=>{confirm("Are you sure you want to clear your credentials? You will need to reload with a new token to continue.")&&(r.clearCredentials(),a.value=!1,alert("Credentials cleared. Please reload the page with a valid token to continue."))},y=E=>{l.value&&!l.value.contains(E.target)&&(a.value=!1)};return gt(()=>{document.addEventListener("click",y)}),Io(()=>{document.removeEventListener("click",y)}),(E,_)=>(R(),L("div",_N,[x("div",wN,[x("div",kN,[re(Le,{icon:"material-symbols:hub",size:24,color:"#6366f1"}),_[6]||(_[6]=x("span",{class:"text-lg font-bold text-flow-text dark:text-flow-text-dark tracking-tight"},"FlowForge",-1))])]),x("div",EN,[x("div",$N,[x("button",{onClick:v,class:"inline-flex items-center gap-1.5 px-4 py-2 bg-primary border border-primary rounded-lg text-white text-sm font-semibold cursor-pointer transition-all duration-200 hover:bg-primary-hover hover:border-primary-hover hover:shadow-lg hover:scale-105 active:scale-95"},[re(Le,{icon:"material-symbols:play-arrow",size:16}),_[7]||(_[7]=tt(" Execute ",-1))])]),_[9]||(_[9]=x("div",{class:"w-px h-6 bg-flow-border dark:bg-flow-border-dark mx-3 opacity-50"},null,-1)),x("div",SN,[x("button",{onClick:_[0]||(_[0]=O=>E.$emit("undo")),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-md text-text-secondary-light dark:text-text-secondary-dark text-sm font-medium cursor-pointer transition-all hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark hover:border-border-hover-light dark:hover:border-border-hover-dark disabled:opacity-50 disabled:cursor-not-allowed",title:"Undo (Ctrl+Z)",disabled:!e.canUndo},[re(Le,{icon:"material-symbols:undo",size:16})],8,CN),x("button",{onClick:_[1]||(_[1]=O=>E.$emit("redo")),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-md text-text-secondary-light dark:text-text-secondary-dark text-sm font-medium cursor-pointer transition-all hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark hover:border-border-hover-light dark:hover:border-border-hover-dark disabled:opacity-50 disabled:cursor-not-allowed",title:"Redo (Ctrl+Y)",disabled:!e.canRedo},[re(Le,{icon:"material-symbols:redo",size:16})],8,NN)]),_[10]||(_[10]=x("div",{class:"w-px h-6 bg-border-light dark:bg-border-dark mx-2"},null,-1)),x("div",TN,[x("button",{onClick:_[2]||(_[2]=O=>E.$emit("clear")),class:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-md text-error text-sm font-medium cursor-pointer transition-all hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark hover:border-border-hover-light dark:hover:border-border-hover-dark",title:"Clear Flow"},[re(Le,{icon:"material-symbols:clear-all",size:16}),_[8]||(_[8]=tt(" Clear ",-1))])])]),x("div",IN,[x("div",{class:st(["flex items-center gap-1.5 px-2.5 py-1 rounded-lg",{"bg-green-50 dark:bg-green-900/20":c.value==="synced","bg-blue-50 dark:bg-blue-900/20":c.value==="syncing","bg-red-50 dark:bg-red-900/20":c.value==="error","bg-gray-50 dark:bg-gray-900/20":c.value==="offline"}]),title:f.value},[re(Le,{icon:d.value,size:14,class:st({"text-green-600 dark:text-green-400":c.value==="synced","text-blue-600 dark:text-blue-400 animate-spin":c.value==="syncing","text-red-600 dark:text-red-400":c.value==="error","text-gray-600 dark:text-gray-400":c.value==="offline"})},null,8,["icon","class"]),x("span",{class:st(["text-xs font-medium",{"text-green-700 dark:text-green-300":c.value==="synced","text-blue-700 dark:text-blue-300":c.value==="syncing","text-red-700 dark:text-red-300":c.value==="error","text-gray-700 dark:text-gray-300":c.value==="offline"}])},ve(h.value),3)],10,AN),e.executionStatus?(R(),L("div",ON,[x("div",{class:st(["w-2 h-2 rounded-full",{"bg-gray-400":!e.executionStatus,"bg-warning animate-pulse":e.executionStatus==="running","bg-success":e.executionStatus==="success","bg-error":e.executionStatus==="error"}])},null,2),x("span",MN,ve(u.value),1)])):xe("",!0),x("button",{onClick:_[3]||(_[3]=(...O)=>ce(i)&&ce(i)(...O)),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-md text-text-secondary-light dark:text-text-secondary-dark text-sm font-medium cursor-pointer transition-all hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark hover:border-border-hover-light dark:hover:border-border-hover-dark",title:`Switch to ${ce(s)?"light":"dark"} mode`},[re(Le,{icon:ce(s)?"material-symbols:light-mode":"material-symbols:dark-mode",size:16},null,8,["icon"])],8,DN),x("button",{onClick:_[4]||(_[4]=O=>E.$emit("toggleHelp")),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-md text-text-secondary-light dark:text-text-secondary-dark text-sm font-medium cursor-pointer transition-all hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark hover:border-border-hover-light dark:hover:border-border-hover-dark",title:"Help"},[re(Le,{icon:"material-symbols:help",size:16})]),x("div",{class:"ml-2 relative",ref_key:"userMenuRef",ref:l},[x("button",{onClick:m,class:"flex items-center gap-1 py-1 px-2 pr-2 bg-transparent border-none rounded-md cursor-pointer transition-colors text-text-muted-light dark:text-text-muted-dark hover:bg-surface-hover-light dark:hover:bg-surface-hover-dark"},[x("div",PN,[re(Le,{icon:"material-symbols:person",size:14})]),re(Le,{icon:"material-symbols:keyboard-arrow-down",size:12,class:st([{"rotate-180":a.value},"transition-transform duration-200"])},null,8,["class"])]),a.value?(R(),L("div",RN,[x("div",VN,[x("div",zN,[ce(r).isAuthenticated()?(R(),L("div",HN," Flow ID: "+ve(ce(r).apiConfig.flowId),1)):(R(),L("div",LN,"Not authenticated"))])]),ce(r).isAuthenticated()?(R(),L("button",{key:0,onClick:g,class:"w-full flex items-center gap-2 px-3 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"},[re(Le,{icon:"material-symbols:logout",size:16}),_[11]||(_[11]=tt(" Clear Credentials ",-1))])):xe("",!0),x("button",{onClick:_[5]||(_[5]=O=>a.value=!1),class:"w-full flex items-center gap-2 px-3 py-2 text-left text-sm text-flow-text-secondary dark:text-flow-text-secondary-dark hover:bg-flow-surface-hover dark:hover:bg-flow-surface-hover-dark transition-colors"},[re(Le,{icon:"material-symbols:close",size:16}),_[12]||(_[12]=tt(" Close ",-1))])])):xe("",!0)],512)])]))}},BN=wt(FN,[["__scopeId","data-v-f1cca293"]]),jN={class:"w-70 h-full bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden"},UN={class:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"},YN={class:"flex-1 overflow-y-auto p-2"},WN=["onClick"],GN={class:"flex-1 text-sm font-semibold text-gray-700 dark:text-gray-200"},ZN={class:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full font-medium"},qN={class:"py-1"},XN=["onDragstart","onClick"],KN={class:"flex-1"},JN={class:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1"},QN={class:"text-xs text-gray-500 dark:text-gray-400 leading-relaxed"},eT={__name:"NodeSidebar",setup(e){$t();const{addNodes:t,project:n}=at(),o=fe(""),r=fe({}),s=fe([]);gt(()=>{i()});function i(){try{const f=Hg();s.value=f.map(m=>{const g=h2(m.id).map(E=>({type:E.type,name:E.label,icon:E.icon,description:E.description,color:E.color})),y=f.indexOf(m)===0;return r.value[m.label]=y,{name:m.label,icon:m.icon,id:m.id,nodes:g}})}catch{s.value=[]}}const a=ne(()=>o.value?s.value.map(f=>({...f,nodes:f.nodes.filter(m=>m.name.toLowerCase().includes(o.value.toLowerCase())||m.description.toLowerCase().includes(o.value.toLowerCase()))})).filter(f=>f.nodes.length>0):s.value),l=f=>{r.value[f]=!r.value[f]},u=(f,m)=>{f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("application/vueflow",JSON.stringify(m))},c=f=>{const{x:m,y:v}=n({x:window.innerWidth/2,y:window.innerHeight/2}),g=h(f.type,{x:m,y:v});t([g])},d=f=>({input:"bg-blue-100 dark:bg-blue-800/50 border-blue-200 dark:border-blue-700/50 text-blue-600 dark:text-blue-400",connector:"bg-green-100 dark:bg-green-800/50 border-green-200 dark:border-green-700/50 text-green-600 dark:text-green-400","field-extractor":"bg-cyan-100 dark:bg-cyan-800/50 border-cyan-200 dark:border-cyan-700/50 text-cyan-600 dark:text-cyan-400","array-processor":"bg-orange-100 dark:bg-orange-800/50 border-orange-200 dark:border-orange-700/50 text-orange-600 dark:text-orange-400",add:"bg-purple-100 dark:bg-purple-800/50 border-purple-200 dark:border-purple-700/50 text-purple-600 dark:text-purple-400",subtract:"bg-purple-100 dark:bg-purple-800/50 border-purple-200 dark:border-purple-700/50 text-purple-600 dark:text-purple-400",multiply:"bg-purple-100 dark:bg-purple-800/50 border-purple-200 dark:border-purple-700/50 text-purple-600 dark:text-purple-400",divide:"bg-purple-100 dark:bg-purple-800/50 border-purple-200 dark:border-purple-700/50 text-purple-600 dark:text-purple-400",variable:"bg-pink-100 dark:bg-pink-800/50 border-pink-200 dark:border-pink-700/50 text-pink-600 dark:text-pink-400",output:"bg-red-100 dark:bg-red-800/50 border-red-200 dark:border-red-700/50 text-red-600 dark:text-red-400"})[f]||"bg-gray-100 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300",h=(f,m)=>{const v={id:`${f}_${Date.now()}`,type:f,position:m,data:{}};switch(f){case"input":v.data={label:"API Input",parameters:[]};break;case"connector":v.data={label:"Data Connector",sourceType:"analytics",analyticsType:"sales",selectedApi:"custom",apiUrl:"",dataPath:"",mockData:Math.floor(Math.random()*100)};break;case"field-extractor":v.data={label:"Field Extractor",selectedFields:[]};break;case"array-processor":v.data={label:"Array Processor",operation:"extract",fieldPath:"",filterValue:""};break;case"add":case"subtract":case"multiply":case"divide":v.data={label:f.charAt(0).toUpperCase()+f.slice(1),operation:f};break;case"output":v.data={label:"My Output",outputFields:[]};break;case"variable":v.data={label:"Variable",mode:"set",variableName:"myVariable"};break;default:v.data={label:f.charAt(0).toUpperCase()+f.slice(1)}}return v};return(f,m)=>(R(),L("div",jN,[x("div",UN,[ze(x("input",{"onUpdate:modelValue":m[0]||(m[0]=v=>o.value=v),type:"text",placeholder:"Search nodes...",class:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 placeholder-gray-500 dark:placeholder-gray-400"},null,512),[[ft,o.value]])]),x("div",YN,[(R(!0),L(Ie,null,rt(a.value,v=>(R(),L("div",{key:v.name,class:"mb-1"},[x("div",{class:"flex items-center px-3 py-2 cursor-pointer rounded-lg transition-all duration-200 select-none hover:bg-gray-50 dark:hover:bg-gray-800",onClick:g=>l(v.name)},[re(Le,{icon:r.value[v.name]?"material-symbols:keyboard-arrow-down":"material-symbols:keyboard-arrow-right",size:16,class:"mr-2 transition-transform duration-200 text-gray-500 dark:text-gray-400"},null,8,["icon"]),re(Le,{icon:v.icon,size:16,class:"mr-2 text-gray-600 dark:text-gray-300"},null,8,["icon"]),x("span",GN,ve(v.name),1),x("span",ZN,ve(v.nodes.length),1)],8,WN),ze(x("div",qN,[(R(!0),L(Ie,null,rt(v.nodes,g=>(R(),L("div",{key:g.type,class:"flex items-center px-3 py-3 mx-2 my-1 rounded-lg cursor-move transition-all duration-200 bg-gray-50 dark:bg-gray-800 border border-transparent hover:bg-white dark:hover:bg-gray-900 hover:border-gray-200 dark:hover:border-gray-600 hover:shadow-md hover:translate-x-1 active:cursor-grabbing active:scale-95",draggable:"true",onDragstart:y=>u(y,g),onClick:y=>c(g)},[x("div",{class:st(["w-10 h-10 flex items-center justify-center rounded-lg mr-3 shrink-0 shadow-sm border",d(g.type)])},[re(Le,{icon:g.icon,size:20},null,8,["icon"])],2),x("div",KN,[x("div",JN,ve(g.name),1),x("div",QN,ve(g.description),1)])],40,XN))),128))],512),[[dv,r.value[v.name]]])]))),128))])]))}},tT=wt(eT,[["__scopeId","data-v-c1158357"]]),em=Kh("connection",()=>{const e=fe([]),t=fe(!1),n=fe(null),o=ne(()=>e.value.filter(m=>m.serviceType==="analytics")),r=ne(()=>e.value.filter(m=>m.serviceType==="sheets")),s=ne(()=>o.value.length>0),i=ne(()=>r.value.length>0);return{connections:e,loading:t,error:n,getAnalyticsConnections:o,getSheetsConnections:r,hasAnalyticsConnection:s,hasSheetsConnection:i,getConnectionById:f=>e.value.find(m=>m.id===f),getConnectionsByType:f=>e.value.filter(m=>m.serviceType===f),fetchConnections:async f=>{var m;t.value=!0,n.value=null;try{const v=(f==null?void 0:f.baseUrl)||"http://localhost:3001",g=f==null?void 0:f.token;if(!g){e.value=[];return}const y=await fetch(`${v}/api/oauth/connections`,{method:"GET",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error(`Failed to fetch connections: ${y.status}`);const E=await y.json();let _=((m=E.data)==null?void 0:m.connections)||E.connections||[];const O=[],X=new Set;for(const U of _){const j=U.id||U._id||U.connectionId;if(!j){O.push(U);continue}X.has(j)||(X.add(j),O.push(U))}e.value=O}catch(v){n.value=v.message,e.value=[]}finally{t.value=!1}},connectGoogle:async(f,m)=>{var v;t.value=!0,n.value=null;try{const g=(m==null?void 0:m.baseUrl)||"http://localhost:3001",y=m==null?void 0:m.token;if(!y)throw localStorage.getItem("flowforge_token")?new Error(" Token no foi passado corretamente. Verifique que flowStore.apiConfig.token est configurado."):new Error(" Token de autenticao no encontrado. Acesse a aplicao com ?accessToken=SEU_TOKEN&flowId=SEU_FLOW_ID");const _={analytics:"analytics",sheets:"sheets"}[f];if(!_)throw new Error(`Tipo de servio desconhecido: ${f}`);const O=`${g}/api/oauth/google/authorize?scopes=${_}&purpose=connection&serviceType=${f}`,X=await fetch(O,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(!X.ok){let M=`Erro HTTP ${X.status}`;try{const B=await X.json();M=B.message||B.error||M}catch{}throw X.status===404?new Error(" Rota OAuth no encontrada no backend. Verifique se o backend est atualizado e rodando."):X.status===401?new Error(" Token invlido ou expirado. Configure o token no flowStore."):new Error(` Falha ao iniciar OAuth: ${M}`)}const U=await X.json(),j=((v=U.data)==null?void 0:v.authUrl)||U.authUrl;if(!j)throw new Error(" Backend no retornou URL de autorizao. Verifique se a rota /api/oauth/google/authorize est implementada no backend.");window.location.href=j}catch(g){throw n.value=g.message,t.value=!1,g}},revokeConnection:async(f,m)=>{t.value=!0,n.value=null;try{const v=(m==null?void 0:m.baseUrl)||"http://localhost:3001",g=m==null?void 0:m.token;if(!g)throw new Error("Authentication token required");const y=await fetch(`${v}/api/oauth/connections/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error(`Failed to revoke connection: ${y.status}`);const E=await y.json();if(E.success)e.value=e.value.filter(_=>_.id!==f);else throw new Error(E.error||"Failed to revoke connection")}catch(v){throw n.value=v.message,v}finally{t.value=!1}},handleOAuthCallback:f=>{const m=f.get("success")==="true",v=f.get("serviceType"),g=f.get("email"),y=f.get("error");return m&&v&&g?{success:!0,message:`Google ${v==="analytics"?"Analytics":"Sheets"} conectado com sucesso!`,serviceType:v,email:g}:y?{success:!1,message:`Erro ao conectar: ${y}`}:{success:!1,message:"Erro desconhecido ao conectar"}}}}),nT={class:"connection-select space-y-2"},oT={key:0},rT=["value"],sT=["value"],iT={key:1,class:"text-center py-3 bg-gray-50 dark:bg-gray-800 rounded-md border border-dashed border-gray-300 dark:border-gray-600"},aT={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},lT=["disabled"],uT={class:"mr-2"},cT=["disabled"],dT={__name:"ConnectionSelect",props:{serviceType:{type:String,required:!0,validator:e=>["analytics","sheets"].includes(e)},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,r=em(),s=$t(),i=fe(!1),a=fe(!1),l=ne(()=>n.serviceType==="analytics"?r.getAnalyticsConnections:r.getSheetsConnections),u=ne(()=>n.serviceType==="analytics"?"Google Analytics":"Google Sheets"),c=f=>{o("update:modelValue",f.target.value)},d=async()=>{i.value=!0;try{await r.connectGoogle(n.serviceType,s.apiConfig)}catch(f){alert(`Erro ao conectar: ${f.message}`)}finally{i.value=!1}},h=async()=>{a.value=!0;try{await r.fetchConnections(s.apiConfig)}catch{}finally{a.value=!1}};return gt(async()=>{r.connections.length===0&&await r.fetchConnections(s.apiConfig)}),(f,m)=>(R(),L("div",nT,[l.value.length>0?(R(),L("div",oT,[x("select",{value:e.modelValue,onChange:c,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[m[0]||(m[0]=x("option",{value:""},"Selecione uma conexo...",-1)),(R(!0),L(Ie,null,rt(l.value,v=>{var g;return R(),L("option",{key:v.id,value:v.id},ve(v.email||v.accountEmail||v.name||`Conexo ${(g=v.id)==null?void 0:g.substring(0,8)}`),9,sT)}),128))],40,rT)])):(R(),L("div",iT,[x("p",aT," Nenhuma conexo "+ve(u.value)+" disponvel ",1)])),x("button",{onClick:d,disabled:i.value,type:"button",class:"w-full px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-400 border border-blue-200 dark:border-blue-800 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[x("span",uT,ve(l.value.length>0?"":""),1),tt(" "+ve(i.value?"Conectando...":`${l.value.length>0?"Adicionar":"Conectar"} ${u.value}`),1)],8,lT),l.value.length>0?(R(),L("button",{key:2,onClick:h,disabled:a.value,type:"button",class:"w-full px-2 py-1.5 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"},ve(a.value?"Atualizando...":" Atualizar lista"),9,cT)):xe("",!0)]))}},tm=wt(dT,[["__scopeId","data-v-6542a43e"]]),fT={class:"generic-properties space-y-4"},hT={key:0,class:"mb-4"},pT=["disabled"],gT={key:0,class:"mt-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700"},mT={class:"text-xs text-gray-600 dark:text-gray-400 overflow-auto max-h-32"},yT={key:0,class:"space-y-1"},vT={class:"flex items-center justify-between"},bT={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},xT={key:0,class:"text-red-500"},_T={key:0,class:"flex items-center gap-1"},wT=["checked","onChange"],kT=["onUpdate:modelValue","placeholder","disabled"],ET={key:1,class:"space-y-1"},$T={class:"flex items-center justify-between"},ST={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},CT={key:0,class:"text-red-500"},NT={key:0,class:"flex items-center gap-1"},TT=["checked","onChange"],IT=["onUpdate:modelValue","placeholder","disabled"],AT={key:2,class:"space-y-1"},OT={class:"flex items-center justify-between"},MT={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},DT={key:0,class:"text-red-500"},PT={key:0,class:"flex items-center gap-1"},RT=["checked","onChange"],VT=["onUpdate:modelValue","disabled"],zT=["value"],HT={key:3,class:"space-y-1"},LT={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},FT={key:0,class:"text-red-500"},BT={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},jT={key:4,class:"space-y-1"},UT={class:"flex items-center justify-between"},YT={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},WT={key:0,class:"text-red-500"},GT={key:0,class:"flex items-center gap-1"},ZT=["checked","onChange"],qT=["onUpdate:modelValue","placeholder","disabled"],XT={key:5,class:"space-y-1"},KT={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},JT={key:0,class:"text-red-500"},QT={class:"flex items-center gap-2"},eI=["onUpdate:modelValue"],tI=["onUpdate:modelValue","placeholder"],nI={key:6,class:"space-y-1"},oI={class:"flex items-center justify-between"},rI={class:"flex items-center space-x-2"},sI=["onUpdate:modelValue","disabled"],iI={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},aI={key:0,class:"flex items-center gap-1"},lI=["checked","onChange"],uI={key:7,class:"space-y-1"},cI={class:"flex items-center justify-between"},dI={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},fI={key:0,class:"text-red-500"},hI={key:0,class:"flex items-center gap-1"},pI=["checked","onChange"],gI=["onUpdate:modelValue","placeholder","disabled"],mI={key:8,class:"space-y-1"},yI={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},vI={key:0,class:"text-red-500"},bI={class:"flex gap-2"},xI=["onUpdate:modelValue"],_I=["value"],wI=["onUpdate:modelValue","placeholder"],kI={key:9,class:"space-y-2"},EI={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},$I={key:0,class:"text-xs text-gray-500 dark:text-gray-400 italic mb-2"},SI={key:1,class:"space-y-2 mb-3"},CI={class:"flex items-center justify-between"},NI={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},TI=["onClick"],II=["onUpdate:modelValue"],AI=["onUpdate:modelValue"],OI=["onUpdate:modelValue"],MI=["onUpdate:modelValue","step"],DI={key:2,class:"flex items-center gap-2 px-2 py-1"},PI=["onUpdate:modelValue"],RI={class:"text-xs text-gray-600 dark:text-gray-400"},VI={key:3,class:"space-y-2"},zI=["onUpdate:modelValue"],HI=["onUpdate:modelValue"],LI=["onUpdate:modelValue","placeholder"],FI={class:"flex items-center gap-2"},BI=["onUpdate:modelValue"],jI=["onClick"],UI={key:10,class:"space-y-1"},YI={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},WI={key:0,class:"text-red-500"},GI={key:11,class:"space-y-2"},ZI={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},qI={key:0,class:"text-red-500"},XI={key:0,class:"text-xs text-gray-500 dark:text-gray-400 italic mb-2"},KI={key:1,class:"space-y-1 mb-2"},JI={class:"text-xs font-medium text-gray-600 dark:text-gray-400"},QI={class:"flex flex-wrap gap-1"},e3=["onClick","title"],t3=["title"],n3=["onClick"],o3={class:"space-y-1"},r3={key:0,class:"max-h-40 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded p-2 space-y-1"},s3=["onClick","disabled"],i3={key:1,class:"text-xs text-gray-500 dark:text-gray-400 italic p-2 border border-dashed border-gray-300 dark:border-gray-600 rounded"},a3={key:1,class:"text-center py-8"},l3={__name:"GenericProperties",props:{nodeId:{type:String,required:!0},localData:{type:Object,default:()=>({})}},emits:["update-node-data"],setup(e,{emit:t}){const n=e,o=t,r=$t(),s=fe({...n.localData}),i=fe(!1),a=fe(null),l=ne(()=>{const H=r.nodes.find(p=>p.id===n.nodeId);return!H||H.type!=="variable"?[]:r.nodes.filter(p=>{var A;return p.type==="variable"&&p.id!==n.nodeId&&((A=r.nodeData[p.id])==null?void 0:A.mode)==="set"}).map(p=>{var A;return(A=r.nodeData[p.id])==null?void 0:A.variableName}).filter(p=>p&&p.trim()!=="").filter((p,A,$)=>$.indexOf(p)===A).sort()}),u=ne(()=>{if(!r.nodes.find($=>$.id===n.nodeId))return[];const N=r.edges.filter($=>$.target===n.nodeId&&$.targetHandle==="data-input"&&$.edgeType!=="flow");if(N.length===0)return[];const W=N[0],p=r.executionResults[W.source];if(!p)return[];const A=typeof p=="object"&&p!==null&&W.sourceHandle in p?p[W.sourceHandle]:p;return c(A)}),c=(H,N="")=>{const W=[];if(!H||typeof H!="object")return W;if(Array.isArray(H))return H.length>0?c(H[0],N):W;for(const p in H){const A=N?`${N}.${p}`:p;if(W.push(A),H[p]&&typeof H[p]=="object"&&!Array.isArray(H[p])){const $=c(H[p],A);W.push(...$)}}return W},d=ne(()=>{const H=r.nodes.find(N=>N.id===n.nodeId);return H?cr(H.type):null}),h=ne(()=>{var H;return((H=d.value)==null?void 0:H.config)||{}}),f=(H,N)=>{if(!H.condition)return!0;for(const[W,p]of Object.entries(H.condition)){const A=s.value[W];if(Array.isArray(p)){if(!p.includes(A))return!1}else if(A!==p)return!1}return!0},m=ne(()=>{const H={};for(const[N,W]of Object.entries(h.value))f(W)&&(H[N]=W);return H});Oe(()=>n.localData,H=>{s.value={...H}},{deep:!0,immediate:!0}),gt(()=>{const H=h.value;for(const N in H)s.value[N]===void 0&&H[N].default!==void 0&&(s.value[N]=H[N].default);y()});const v=async()=>{var H,N;i.value=!0,a.value=null;try{const W=r.nodes.find(oe=>oe.id===n.nodeId);if(!W)throw new Error("Node not found");const p={...s.value},A={apiConfig:{baseUrl:((H=r.apiConfig)==null?void 0:H.baseUrl)||"http://localhost:3001",token:((N=r.apiConfig)==null?void 0:N.token)||""}},$=r.getNodeDataInputs(n.nodeId);r.updateNodeData(n.nodeId,p);const z={...W,data:p},V=await r.executeNode(z,$);a.value=V;const J=ii(z,V);r.setExecutionResult(n.nodeId,J);const Z=r.edges.filter(oe=>{var de;return oe.source===n.nodeId&&(oe.edgeType==="data"||!((de=oe.sourceHandle)!=null&&de.startsWith("exec-")))});for(const oe of Z)await r.propagateDataToTarget(oe)}catch(W){a.value={error:W.message}}finally{i.value=!1}},g=H=>H?H.error?`Error: ${H.error}`:JSON.stringify(H,null,2):"",y=()=>{const H=h.value;for(const[N,W]of Object.entries(H))W.mapTo&&s.value[N]!==void 0&&(s.value[W.mapTo]=s.value[N]);r.updateNodeData(n.nodeId,s.value),o("update-node-data")},E=(H,N)=>{var A;const W=h.value[H];(W==null?void 0:W.singleSelect)===!0?s.value[H]=[N]:(s.value[H]||(s.value[H]=[]),s.value[H].includes(N)||s.value[H].push(N)),((A=d.value)==null?void 0:A.type)==="field-extractor"&&_(N),y()},_=H=>{if(!r.nodes.find(V=>V.id===n.nodeId))return;const W=r.edges.filter(V=>V.target===n.nodeId&&V.targetHandle==="data-input"&&V.edgeType!=="flow");if(W.length===0)return;const p=W[0],A=r.executionResults[p.source];if(!A)return;const $=PC(A,H),z=Hi($);s.value.fieldTypes||(s.value.fieldTypes={}),s.value.fieldTypes[H]=z,y()},O=(H,N)=>{if(s.value[H]){const W=s.value[H][N];s.value[H].splice(N,1),s.value.fieldOutputsEnabled&&W&&delete s.value.fieldOutputsEnabled[W],s.value.fieldTypes&&W&&delete s.value.fieldTypes[W],y()}},X=H=>{s.value[H]||(s.value[H]=[]),s.value[H].push({name:`param${s.value[H].length+1}`,type:"any",required:!1,defaultValue:null,dateFormat:"DD/MM/YYYY"}),y()},U=(H,N)=>{s.value[H]&&(s.value[H].splice(N,1),y())},j=H=>{s.value.fieldOutputsEnabled||(s.value.fieldOutputsEnabled={});const N=s.value.fieldOutputsEnabled[H];s.value.fieldOutputsEnabled[H]=N===!1,y()},M=H=>s.value.fieldOutputsEnabled?s.value.fieldOutputsEnabled[H]!==!1:!0,B=H=>{var N;return((N=s.value.exposedFields)==null?void 0:N[H])!==void 0},Y=(H,N)=>{s.value.exposedFields||(s.value.exposedFields={}),s.value.exposedFields[H]?delete s.value.exposedFields[H]:s.value.exposedFields[H]={label:N.label,type:N.type||"any",required:N.required||!1},y()};return(H,N)=>{var W;return R(),L("div",fT,[(W=d.value)!=null&&W.executable?(R(),L("div",hT,[x("button",{onClick:v,disabled:i.value,class:"w-full px-4 py-2.5 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white text-sm font-medium rounded-md cursor-pointer transition-colors disabled:cursor-not-allowed"},[re(Le,{icon:i.value?"material-symbols:hourglass-empty":"material-symbols:play-arrow",size:16},null,8,["icon"]),tt(" "+ve(i.value?"Executing...":"Execute Node"),1)],8,pT),a.value?(R(),L("div",gT,[N[0]||(N[0]=x("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Result:",-1)),x("pre",mT,ve(g(a.value)),1)])):xe("",!0)])):xe("",!0),(R(!0),L(Ie,null,rt(m.value,(p,A)=>{var $,z,V,J,Z,oe,de;return R(),L("div",{key:A,class:"form-group"},[p.type==="string"?(R(),L("div",yT,[x("div",vT,[x("label",bT,[tt(ve(p.label)+" ",1),p.required?(R(),L("span",xT,"*")):xe("",!0)]),(($=d.value)==null?void 0:$.type)!=="input"?(R(),L("div",_T,[x("input",{type:"checkbox",checked:B(A),onChange:K=>Y(A,p),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,wT),N[1]||(N[1]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):xe("",!0)]),ze(x("input",{type:"text","onUpdate:modelValue":K=>s.value[A]=K,onInput:y,placeholder:p.placeholder||"",disabled:B(A),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,kT),[[ft,s.value[A]]])])):p.type==="textarea"?(R(),L("div",ET,[x("div",$T,[x("label",ST,[tt(ve(p.label)+" ",1),p.required?(R(),L("span",CT,"*")):xe("",!0)]),((z=d.value)==null?void 0:z.type)!=="input"?(R(),L("div",NT,[x("input",{type:"checkbox",checked:B(A),onChange:K=>Y(A,p),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,TT),N[2]||(N[2]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):xe("",!0)]),ze(x("textarea",{"onUpdate:modelValue":K=>s.value[A]=K,onInput:y,placeholder:p.placeholder||"",disabled:B(A),rows:"4",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,IT),[[ft,s.value[A]]])])):p.type==="select"?(R(),L("div",AT,[x("div",OT,[x("label",MT,[tt(ve(p.label)+" ",1),p.required?(R(),L("span",DT,"*")):xe("",!0)]),((V=d.value)==null?void 0:V.type)!=="input"?(R(),L("div",PT,[x("input",{type:"checkbox",checked:B(A),onChange:K=>Y(A,p),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,RT),N[3]||(N[3]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):xe("",!0)]),ze(x("select",{"onUpdate:modelValue":K=>s.value[A]=K,onChange:y,disabled:B(A),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[(R(!0),L(Ie,null,rt(p.options,K=>(R(),L("option",{key:K.value,value:K.value},ve(K.label),9,zT))),128))],40,VT),[[Ut,s.value[A]]])])):p.type==="connection-select"?(R(),L("div",HT,[x("label",LT,[tt(ve(p.label)+" ",1),p.required?(R(),L("span",FT,"*")):xe("",!0)]),p.description?(R(),L("p",BT,ve(p.description),1)):xe("",!0),re(tm,{"service-type":p.serviceType,modelValue:s.value[A],"onUpdate:modelValue":[K=>s.value[A]=K,y]},null,8,["service-type","modelValue","onUpdate:modelValue"])])):p.type==="number"?(R(),L("div",jT,[x("div",UT,[x("label",YT,[tt(ve(p.label)+" ",1),p.required?(R(),L("span",WT,"*")):xe("",!0)]),((J=d.value)==null?void 0:J.type)!=="input"?(R(),L("div",GT,[x("input",{type:"checkbox",checked:B(A),onChange:K=>Y(A,p),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,ZT),N[4]||(N[4]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):xe("",!0)]),ze(x("input",{type:"number","onUpdate:modelValue":K=>s.value[A]=K,onInput:y,placeholder:p.placeholder||"",disabled:B(A),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,qT),[[ft,s.value[A],void 0,{number:!0}]])])):p.type==="color"?(R(),L("div",XT,[x("label",KT,[tt(ve(p.label)+" ",1),p.required?(R(),L("span",JT,"*")):xe("",!0)]),x("div",QT,[ze(x("input",{type:"color","onUpdate:modelValue":K=>s.value[A]=K,onInput:y,class:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded cursor-pointer"},null,40,eI),[[ft,s.value[A]]]),ze(x("input",{type:"text","onUpdate:modelValue":K=>s.value[A]=K,onInput:y,placeholder:p.placeholder||"#000000",class:"flex-1 px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono"},null,40,tI),[[ft,s.value[A]]])])])):p.type==="boolean"?(R(),L("div",nI,[x("div",oI,[x("div",rI,[ze(x("input",{type:"checkbox","onUpdate:modelValue":K=>s.value[A]=K,onChange:y,disabled:B(A),class:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,sI),[[Fr,s.value[A]]]),x("label",iI,ve(p.label),1)]),((Z=d.value)==null?void 0:Z.type)!=="input"?(R(),L("div",aI,[x("input",{type:"checkbox",checked:B(A),onChange:K=>Y(A,p),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,lI),N[5]||(N[5]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):xe("",!0)])])):p.type==="date"?(R(),L("div",uI,[x("div",cI,[x("label",dI,[tt(ve(p.label)+" ",1),p.required?(R(),L("span",fI,"*")):xe("",!0)]),((oe=d.value)==null?void 0:oe.type)!=="input"?(R(),L("div",hI,[x("input",{type:"checkbox",checked:B(A),onChange:K=>Y(A,p),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,pI),N[6]||(N[6]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):xe("",!0)]),ze(x("input",{type:"date","onUpdate:modelValue":K=>s.value[A]=K,onInput:y,placeholder:p.placeholder||"",disabled:B(A),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,gI),[[ft,s.value[A]]])])):p.type==="variableSelector"?(R(),L("div",mI,[x("label",yI,[tt(ve(p.label)+" ",1),p.required?(R(),L("span",vI,"*")):xe("",!0)]),x("div",bI,[ze(x("select",{"onUpdate:modelValue":K=>s.value[A]=K,onChange:y,class:"flex-1 px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[N[7]||(N[7]=x("option",{value:""},"-- Select or type below --",-1)),(R(!0),L(Ie,null,rt(l.value,K=>(R(),L("option",{key:K,value:K},ve(K),9,_I))),128))],40,xI),[[Ut,s.value[A]]])]),p.allowCustom?ze((R(),L("input",{key:0,type:"text","onUpdate:modelValue":K=>s.value[A]=K,onInput:y,placeholder:p.placeholder||"Or type custom name",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,wI)),[[ft,s.value[A]]]):xe("",!0)])):p.type==="array"&&A==="parameters"&&((de=d.value)==null?void 0:de.type)==="input"?(R(),L("div",kI,[x("label",EI,ve(p.label),1),p.description?(R(),L("div",$I,ve(p.description),1)):xe("",!0),s.value[A]&&s.value[A].length>0?(R(),L("div",SI,[(R(!0),L(Ie,null,rt(s.value[A],(K,ae)=>(R(),L("div",{key:ae,class:"p-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md space-y-2"},[x("div",CI,[x("span",NI,"Parameter "+ve(ae+1),1),x("button",{onClick:ue=>U(A,ae),class:"text-red-500 hover:text-red-700 dark:hover:text-red-400",title:"Remove parameter"},[re(Le,{icon:"material-symbols:delete",size:16})],8,TI)]),ze(x("input",{type:"text","onUpdate:modelValue":ue=>K.name=ue,onInput:y,placeholder:"Parameter name",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,II),[[ft,K.name]]),ze(x("select",{"onUpdate:modelValue":ue=>K.type=ue,onChange:y,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},[...N[8]||(N[8]=[Ko('<option value="any" data-v-bdae6dae>Any</option><option value="string" data-v-bdae6dae>String</option><option value="number" data-v-bdae6dae>Number</option><option value="integer" data-v-bdae6dae>Integer</option><option value="float" data-v-bdae6dae>Float</option><option value="boolean" data-v-bdae6dae>Boolean</option><option value="object" data-v-bdae6dae>Object</option><option value="array" data-v-bdae6dae>Array</option><option value="date" data-v-bdae6dae>Date</option>',9)])],40,AI),[[Ut,K.type]]),K.type==="string"||K.type==="any"?ze((R(),L("input",{key:0,type:"text","onUpdate:modelValue":ue=>K.defaultValue=ue,onInput:y,placeholder:"Default value (optional)",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,OI)),[[ft,K.defaultValue]]):K.type==="number"||K.type==="integer"||K.type==="float"?ze((R(),L("input",{key:1,type:"number","onUpdate:modelValue":ue=>K.defaultValue=ue,onInput:y,step:K.type==="integer"?"1":"any",placeholder:"Default value (optional)",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,MI)),[[ft,K.defaultValue,void 0,{number:!0}]]):K.type==="boolean"?(R(),L("div",DI,[ze(x("input",{type:"checkbox","onUpdate:modelValue":ue=>K.defaultValue=ue,onChange:y,class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500"},null,40,PI),[[Fr,K.defaultValue]]),x("label",RI,"Default: "+ve(K.defaultValue?"true":"false"),1)])):K.type==="date"?(R(),L("div",VI,[ze(x("input",{type:"date","onUpdate:modelValue":ue=>K.defaultValue=ue,onInput:y,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,zI),[[ft,K.defaultValue]]),ze(x("select",{"onUpdate:modelValue":ue=>K.dateFormat=ue,onChange:y,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},[...N[9]||(N[9]=[Ko('<option value="DD/MM/YYYY" data-v-bdae6dae>DD/MM/YYYY (Brasil)</option><option value="MM/DD/YYYY" data-v-bdae6dae>MM/DD/YYYY (EUA)</option><option value="YYYY-MM-DD" data-v-bdae6dae>YYYY-MM-DD (ISO)</option><option value="DD-MM-YYYY" data-v-bdae6dae>DD-MM-YYYY</option><option value="YYYY/MM/DD" data-v-bdae6dae>YYYY/MM/DD</option>',5)])],40,HI),[[Ut,K.dateFormat]])])):K.type==="array"||K.type==="object"?ze((R(),L("textarea",{key:4,"onUpdate:modelValue":ue=>K.defaultValue=ue,onInput:y,placeholder:K.type==="array"?"[1, 2, 3]":"{key: value}",rows:"2",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 font-mono"},null,40,LI)),[[ft,K.defaultValue]]):xe("",!0),x("div",FI,[ze(x("input",{type:"checkbox","onUpdate:modelValue":ue=>K.required=ue,onChange:y,class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500"},null,40,BI),[[Fr,K.required]]),N[10]||(N[10]=x("label",{class:"text-xs text-gray-600 dark:text-gray-400"},"Required",-1))])]))),128))])):xe("",!0),x("button",{onClick:K=>X(A),class:"w-full px-3 py-2 flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white text-xs font-medium rounded-md transition-colors"},[re(Le,{icon:"material-symbols:add",size:14}),N[11]||(N[11]=tt(" Add Parameter ",-1))],8,jI)])):p.type==="array"?(R(),L("div",UI,[x("label",YI,[tt(ve(p.label)+" ",1),p.required?(R(),L("span",WI,"*")):xe("",!0)]),N[12]||(N[12]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 italic"}," Complex array editing - see node documentation ",-1))])):p.type==="fieldSelector"?(R(),L("div",GI,[x("label",ZI,[tt(ve(p.label)+" ",1),p.required?(R(),L("span",qI,"*")):xe("",!0)]),p.description?(R(),L("div",XI,ve(p.description),1)):xe("",!0),s.value[A]&&s.value[A].length>0?(R(),L("div",KI,[x("div",JI,ve(p.singleSelect?"Selected Field:":"Selected Fields:"),1),x("div",QI,[(R(!0),L(Ie,null,rt(s.value[A],(K,ae)=>{var ue;return R(),L("div",{key:ae,class:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded"},[((ue=d.value)==null?void 0:ue.type)==="field-extractor"&&!p.singleSelect?(R(),L("button",{key:0,onClick:pe=>j(K),class:"hover:opacity-70 cursor-pointer",title:M(K)?"Disable individual output":"Enable individual output"},[re(Le,{icon:M(K)?"material-symbols:visibility":"material-symbols:visibility-off",size:14},null,8,["icon"])],8,e3)):xe("",!0),x("span",null,ve(K),1),s.value.fieldTypes&&s.value.fieldTypes[K]?(R(),L("span",{key:1,class:"text-[10px] px-1 py-0.5 bg-white dark:bg-gray-800 rounded opacity-70",title:`Type: ${s.value.fieldTypes[K]}`},ve(s.value.fieldTypes[K]),9,t3)):xe("",!0),x("button",{onClick:pe=>O(A,ae),class:"hover:text-red-600 dark:hover:text-red-400 cursor-pointer"},"  ",8,n3)])}),128))])])):xe("",!0),x("div",o3,[N[13]||(N[13]=x("div",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Available Fields:",-1)),u.value.length>0?(R(),L("div",r3,[(R(!0),L(Ie,null,rt(u.value,K=>{var ae,ue,pe;return R(),L("button",{key:K,onClick:q=>E(A,K),disabled:(ae=s.value[A])==null?void 0:ae.includes(K),class:st(["block w-full text-left px-2 py-1 text-xs rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",{"bg-gray-50 dark:bg-gray-800":!((ue=s.value[A])!=null&&ue.includes(K)),"bg-gray-200 dark:bg-gray-600":(pe=s.value[A])==null?void 0:pe.includes(K)}])},ve(K),11,s3)}),128))])):(R(),L("div",i3," No data connected. Connect a data source to see available fields. "))])])):xe("",!0)])}),128)),Object.keys(m.value).length===0?(R(),L("div",a3,[...N[14]||(N[14]=[x("p",{class:"text-sm text-gray-500 dark:text-gray-400 italic"}," No configuration options available for this node. ",-1)])])):xe("",!0)])}}},u3=wt(l3,[["__scopeId","data-v-bdae6dae"]]),c3={class:"output-properties space-y-4"},d3={class:"dynamic-inputs-section"},f3={key:0,class:"space-y-2 mb-3"},h3=["onUpdate:modelValue"],p3=["onUpdate:modelValue"],g3=["onClick"],m3={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm border border-dashed border-gray-300 dark:border-gray-600 rounded"},y3={class:"destination-section"},v3={key:0,class:"destination-config space-y-3"},b3={key:0},x3={key:1,class:"space-y-3"},_3={class:"flex items-center"},w3={key:2,class:"space-y-3"},k3={key:3,class:"space-y-3"},E3={key:4,class:"space-y-3"},$3={__name:"OutputProperties",props:{nodeId:{type:String,required:!0}},setup(e){var f,m;const t=e,n=$t(),o=fe({destination:"display",...n.nodeData[t.nodeId]}),r=fe(((f=n.nodeData[t.nodeId])==null?void 0:f.dynamicInputs)||[]),s=fe(((m=n.nodeData[t.nodeId])==null?void 0:m.destinationConfig)||i(o.value.destination));function i(v){return{apiResponse:{format:"wrapped"},webhook:{url:"",method:"POST",headers:"{}",retry:!0},email:{to:"",subject:"FlowForge Report",format:"html"},googleSheets:{connectionId:"",spreadsheetUrl:"",sheetName:"Sheet1",writeMode:"append"},download:{filename:"output",format:"json"}}[v]||{}}function a(){const v={id:`input-${Date.now()}`,key:"",type:"any"};r.value.push(v),u()}function l(v){r.value.splice(v,1),u()}function u(){const v=r.value.filter(g=>g.key).map(g=>({id:`data-${g.key}`,label:g.key,type:g.type||"any",position:"left"}));n.updateNodeData(t.nodeId,{dynamicInputs:[...r.value],dynamicHandles:{inputs:v,_updated:Date.now()}})}function c(){const v=r.value.filter(g=>g.key).map(g=>({id:`data-${g.key}`,label:g.key,type:g.type||"any",position:"left"}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:v,_updated:Date.now()}})}function d(){n.updateNodeData(t.nodeId,{destination:o.value.destination}),s.value=i(o.value.destination),h()}function h(){n.updateNodeData(t.nodeId,{destinationConfig:s.value})}return Oe(()=>o.value.destination,v=>{s.value=i(v),h()}),gt(()=>{r.value.length>0&&c()}),(v,g)=>(R(),L("div",c3,[x("div",d3,[x("div",{class:"flex items-center justify-between mb-3"},[g[15]||(g[15]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Inputs",-1)),x("button",{onClick:a,class:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors"},"  Adicionar Input ")]),r.value.length>0?(R(),L("div",f3,[(R(!0),L(Ie,null,rt(r.value,(y,E)=>(R(),L("div",{key:y.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[ze(x("input",{"onUpdate:modelValue":_=>y.key=_,onInput:u,placeholder:"Nome do input",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,h3),[[ft,y.key]]),ze(x("select",{"onUpdate:modelValue":_=>y.type=_,onChange:u,class:"px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded"},[...g[16]||(g[16]=[Ko('<option value="any" data-v-4b02722d>Any</option><option value="string" data-v-4b02722d>String</option><option value="number" data-v-4b02722d>Number</option><option value="boolean" data-v-4b02722d>Boolean</option><option value="object" data-v-4b02722d>Object</option><option value="array" data-v-4b02722d>Array</option>',6)])],40,p3),[[Ut,y.type]]),x("button",{onClick:_=>l(E),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors"},"  ",8,g3)]))),128))])):(R(),L("div",m3," Nenhum input adicionado "))]),x("div",y3,[g[18]||(g[18]=x("label",{class:"block text-sm font-semibold text-gray-900 dark:text-white mb-2"}," Destination ",-1)),ze(x("select",{"onUpdate:modelValue":g[0]||(g[0]=y=>o.value.destination=y),onChange:d,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...g[17]||(g[17]=[Ko('<option value="display" data-v-4b02722d>Display Only</option><option value="apiResponse" data-v-4b02722d>API Response</option><option value="webhook" data-v-4b02722d>Webhook</option><option value="email" data-v-4b02722d>Email</option><option value="googleSheets" data-v-4b02722d>Google Sheets</option><option value="download" data-v-4b02722d>Download</option>',6)])],544),[[Ut,o.value.destination]])]),o.value.destination&&o.value.destination!=="display"?(R(),L("div",v3,[g[38]||(g[38]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Configurao do Destination",-1)),o.value.destination==="apiResponse"?(R(),L("div",b3,[g[20]||(g[20]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Formato de Resposta ",-1)),ze(x("select",{"onUpdate:modelValue":g[1]||(g[1]=y=>s.value.format=y),onChange:h,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...g[19]||(g[19]=[x("option",{value:"data_only"},"S dados",-1),x("option",{value:"wrapped"},"{ success, data }",-1),x("option",{value:"full"},"{ success, flowId, executedAt, data }",-1)])],544),[[Ut,s.value.format]])])):o.value.destination==="webhook"?(R(),L("div",x3,[x("div",null,[g[21]||(g[21]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[tt(" URL "),x("span",{class:"text-red-500"},"*")],-1)),ze(x("input",{"onUpdate:modelValue":g[2]||(g[2]=y=>s.value.url=y),onInput:h,placeholder:"https://...",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[ft,s.value.url]])]),x("div",null,[g[23]||(g[23]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Mtodo HTTP ",-1)),ze(x("select",{"onUpdate:modelValue":g[3]||(g[3]=y=>s.value.method=y),onChange:h,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...g[22]||(g[22]=[x("option",{value:"POST"},"POST",-1),x("option",{value:"PUT"},"PUT",-1),x("option",{value:"PATCH"},"PATCH",-1)])],544),[[Ut,s.value.method]])]),x("div",null,[g[24]||(g[24]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Headers (JSON) ",-1)),ze(x("textarea",{"onUpdate:modelValue":g[4]||(g[4]=y=>s.value.headers=y),onInput:h,rows:"3",placeholder:'{"Authorization": "Bearer ..."}',class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md font-mono"},null,544),[[ft,s.value.headers]])]),x("div",null,[x("label",_3,[ze(x("input",{type:"checkbox","onUpdate:modelValue":g[5]||(g[5]=y=>s.value.retry=y),onChange:h,class:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded"},null,544),[[Fr,s.value.retry]]),g[25]||(g[25]=x("span",{class:"ml-2 text-xs text-gray-700 dark:text-gray-300"},"Retry em caso de erro",-1))])])])):o.value.destination==="email"?(R(),L("div",w3,[x("div",null,[g[26]||(g[26]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[tt(" Para (emails separados por vrgula) "),x("span",{class:"text-red-500"},"*")],-1)),ze(x("input",{"onUpdate:modelValue":g[6]||(g[6]=y=>s.value.to=y),onInput:h,placeholder:"user@example.com, other@example.com",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[ft,s.value.to]])]),x("div",null,[g[27]||(g[27]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Assunto ",-1)),ze(x("input",{"onUpdate:modelValue":g[7]||(g[7]=y=>s.value.subject=y),onInput:h,placeholder:"Relatrio FlowForge",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[ft,s.value.subject]])]),x("div",null,[g[29]||(g[29]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Formato ",-1)),ze(x("select",{"onUpdate:modelValue":g[8]||(g[8]=y=>s.value.format=y),onChange:h,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...g[28]||(g[28]=[x("option",{value:"html"},"HTML (tabela)",-1),x("option",{value:"json"},"JSON (anexo)",-1),x("option",{value:"csv"},"CSV (anexo)",-1)])],544),[[Ut,s.value.format]])])])):o.value.destination==="googleSheets"?(R(),L("div",k3,[x("div",null,[g[30]||(g[30]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[tt(" Conexo Google "),x("span",{class:"text-red-500"},"*")],-1)),re(tm,{"service-type":"sheets",modelValue:s.value.connectionId,"onUpdate:modelValue":[g[9]||(g[9]=y=>s.value.connectionId=y),h]},null,8,["modelValue"])]),x("div",null,[g[31]||(g[31]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[tt(" URL da Planilha "),x("span",{class:"text-red-500"},"*")],-1)),ze(x("input",{"onUpdate:modelValue":g[10]||(g[10]=y=>s.value.spreadsheetUrl=y),onInput:h,placeholder:"https://docs.google.com/spreadsheets/d/...",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[ft,s.value.spreadsheetUrl]])]),x("div",null,[g[32]||(g[32]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Nome da Aba ",-1)),ze(x("input",{"onUpdate:modelValue":g[11]||(g[11]=y=>s.value.sheetName=y),onInput:h,placeholder:"Sheet1",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[ft,s.value.sheetName]])]),x("div",null,[g[34]||(g[34]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Modo de Escrita ",-1)),ze(x("select",{"onUpdate:modelValue":g[12]||(g[12]=y=>s.value.writeMode=y),onChange:h,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...g[33]||(g[33]=[x("option",{value:"append"},"Adicionar no final",-1),x("option",{value:"replace"},"Substituir tudo",-1),x("option",{value:"update"},"Atualizar a partir de A1",-1)])],544),[[Ut,s.value.writeMode]])])])):o.value.destination==="download"?(R(),L("div",E3,[x("div",null,[g[35]||(g[35]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Nome do Arquivo ",-1)),ze(x("input",{"onUpdate:modelValue":g[13]||(g[13]=y=>s.value.filename=y),onInput:h,placeholder:"output",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[ft,s.value.filename]])]),x("div",null,[g[37]||(g[37]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Formato ",-1)),ze(x("select",{"onUpdate:modelValue":g[14]||(g[14]=y=>s.value.format=y),onChange:h,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...g[36]||(g[36]=[x("option",{value:"json"},"JSON",-1),x("option",{value:"csv"},"CSV",-1),x("option",{value:"excel"},"Excel (via CSV)",-1)])],544),[[Ut,s.value.format]])])])):xe("",!0)])):xe("",!0)]))}},S3=wt($3,[["__scopeId","data-v-4b02722d"]]),C3={class:"array-merge-properties space-y-4"},N3={class:"dynamic-inputs-section"},T3={key:0,class:"space-y-2 mb-3"},I3={class:"text-xs text-gray-500 dark:text-gray-400 w-8"},A3=["onUpdate:modelValue"],O3=["onClick","disabled"],M3={key:1,class:"w-8"},D3={class:"remove-duplicates-section"},P3={class:"flex items-center cursor-pointer"},R3={__name:"ArrayMergeProperties",props:{nodeId:{type:String,required:!0}},setup(e){var d;const t=e,n=$t(),o=fe({removeDuplicates:!1,...n.nodeData[t.nodeId]}),r=fe(((d=n.nodeData[t.nodeId])==null?void 0:d.arrayInputs)||s());function s(){return[{id:"array1",label:"Array 1"},{id:"array2",label:"Array 2"}]}function i(){const h=r.value.length+1,f={id:`array${h}`,label:`Array ${h}`};r.value.push(f),l()}function a(h){r.value.length<=2||(r.value.splice(h,1),l())}function l(){n.updateNodeData(t.nodeId,{arrayInputs:r.value}),u()}function u(){const h=r.value.map(f=>({id:`data-${f.id}`,label:f.label||f.id,type:"array",position:"left",required:!1}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:h}})}function c(){n.updateNodeData(t.nodeId,{removeDuplicates:o.value.removeDuplicates})}return gt(()=>{r.value.length>0&&u()}),(h,f)=>(R(),L("div",C3,[x("div",N3,[x("div",{class:"flex items-center justify-between mb-3"},[f[1]||(f[1]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Arrays para Mesclar",-1)),x("button",{onClick:i,class:"px-2 py-1 text-xs bg-teal-600 hover:bg-teal-700 text-white rounded transition-colors"},"  Adicionar Array ")]),r.value.length>0?(R(),L("div",T3,[(R(!0),L(Ie,null,rt(r.value,(m,v)=>(R(),L("div",{key:m.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[x("span",I3,ve(v+1),1),ze(x("input",{"onUpdate:modelValue":g=>m.label=g,onInput:l,placeholder:"Nome do array",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-teal-500"},null,40,A3),[[ft,m.label]]),r.value.length>2?(R(),L("button",{key:0,onClick:g=>a(v),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",disabled:r.value.length<=2},"  ",8,O3)):(R(),L("span",M3))]))),128))])):xe("",!0),f[2]||(f[2]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"}," Mnimo de 2 arrays ",-1))]),x("div",D3,[x("label",P3,[ze(x("input",{type:"checkbox","onUpdate:modelValue":f[0]||(f[0]=m=>o.value.removeDuplicates=m),onChange:c,class:"w-4 h-4 text-teal-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-teal-500"},null,544),[[Fr,o.value.removeDuplicates]]),f[3]||(f[3]=x("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Remover Duplicados",-1))]),f[4]||(f[4]=x("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6"}," Remove itens duplicados do array resultante ",-1))])]))}},V3=wt(R3,[["__scopeId","data-v-36d74172"]]),z3={class:"object-create-properties space-y-4"},H3={class:"dynamic-properties-section"},L3={key:0,class:"space-y-2 mb-3"},F3={class:"text-xs text-gray-500 dark:text-gray-400 w-8"},B3=["onUpdate:modelValue"],j3=["onClick","disabled"],U3={key:1,class:"w-8"},Y3={__name:"ObjectCreateProperties",props:{nodeId:{type:String,required:!0}},setup(e){var u;const t=e,n=$t(),o=fe(((u=n.nodeData[t.nodeId])==null?void 0:u.properties)||r());function r(){return[{id:"prop1",key:"key1"}]}function s(){const c=o.value.length+1;o.value.push({id:`prop${c}`,key:`key${c}`}),a()}function i(c){o.value.length<=1||(o.value.splice(c,1),a())}function a(){n.updateNodeData(t.nodeId,{properties:o.value}),l()}function l(){const c=o.value.map(d=>({id:`data-${d.id}`,label:d.key||d.id,type:"any",position:"left",required:!1}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:c}})}return gt(()=>{o.value.length>0&&l()}),(c,d)=>(R(),L("div",z3,[x("div",H3,[x("div",{class:"flex items-center justify-between mb-3"},[d[0]||(d[0]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Propriedades do Objeto",-1)),x("button",{onClick:s,class:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors"},"  Adicionar Propriedade ")]),o.value.length>0?(R(),L("div",L3,[(R(!0),L(Ie,null,rt(o.value,(h,f)=>(R(),L("div",{key:h.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[x("span",F3,ve(f+1),1),ze(x("input",{"onUpdate:modelValue":m=>h.key=m,onInput:a,placeholder:"Nome da chave",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,B3),[[ft,h.key]]),o.value.length>1?(R(),L("button",{key:0,onClick:m=>i(f),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",disabled:o.value.length<=1},"  ",8,j3)):(R(),L("span",U3))]))),128))])):xe("",!0),d[1]||(d[1]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Mnimo de 1 propriedade",-1))])]))}},W3={class:"array-create-properties space-y-4"},G3={class:"dynamic-items-section"},Z3={key:0,class:"space-y-2 mb-3"},q3={class:"text-xs text-gray-500 dark:text-gray-400 w-8"},X3=["onUpdate:modelValue"],K3=["onClick","disabled"],J3={key:1,class:"w-8"},Q3={__name:"ArrayCreateProperties",props:{nodeId:{type:String,required:!0}},setup(e){var u;const t=e,n=$t(),o=fe(((u=n.nodeData[t.nodeId])==null?void 0:u.items)||r());function r(){return[{id:"item1",label:"Item 1"}]}function s(){const c=o.value.length+1;o.value.push({id:`item${c}`,label:`Item ${c}`}),a()}function i(c){o.value.length<=1||(o.value.splice(c,1),a())}function a(){n.updateNodeData(t.nodeId,{items:o.value}),l()}function l(){const c=o.value.map(d=>({id:`data-${d.id}`,label:d.label||d.id,type:"any",position:"left",required:!1}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:c}})}return gt(()=>{o.value.length>0&&l()}),(c,d)=>(R(),L("div",W3,[x("div",G3,[x("div",{class:"flex items-center justify-between mb-3"},[d[0]||(d[0]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Itens do Array",-1)),x("button",{onClick:s,class:"px-2 py-1 text-xs bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors"},"  Adicionar Item ")]),o.value.length>0?(R(),L("div",Z3,[(R(!0),L(Ie,null,rt(o.value,(h,f)=>(R(),L("div",{key:h.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[x("span",q3,ve(f+1),1),ze(x("input",{"onUpdate:modelValue":m=>h.label=m,onInput:a,placeholder:"Nome do item",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-purple-500"},null,40,X3),[[ft,h.label]]),o.value.length>1?(R(),L("button",{key:0,onClick:m=>i(f),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",disabled:o.value.length<=1},"  ",8,K3)):(R(),L("span",J3))]))),128))])):xe("",!0),d[1]||(d[1]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Mnimo de 1 item",-1))])]))}},eA={key:0,class:"flex-1 flex flex-col items-center justify-center p-8"},tA={key:1,class:"h-full flex flex-col"},nA={class:"flex items-center p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"},oA={class:"w-10 h-10 flex items-center justify-center bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg mr-3"},rA={class:"flex-1"},sA={class:"text-base font-semibold text-gray-900 dark:text-gray-100 m-0"},iA={class:"text-xs text-gray-500 dark:text-gray-400 m-0 mt-0.5"},aA={class:"flex-1 overflow-y-auto p-4"},lA={key:1,class:"mb-6"},uA={class:"p-4 border-t border-gray-200 dark:border-gray-700"},cA={__name:"PropertiesPanel",props:{selectedNode:{type:Object,default:null}},emits:["close","delete"],setup(e,{emit:t}){const n=e,o=t,r=$t(),s=ne(()=>n.selectedNode?n.selectedNode.type==="output"?S3:n.selectedNode.type==="array-merge"?V3:n.selectedNode.type==="object-create"?Y3:n.selectedNode.type==="array-create"?Q3:u3:null),i=ne(()=>{if(!n.selectedNode)return{};const d=r.nodeData[n.selectedNode.id],h=d?{...d}:{};return n.selectedNode.type==="field-extractor"&&(h.selectedFields||(h.selectedFields=[]),h.fieldOutputsEnabled||(h.fieldOutputsEnabled={}),h.fieldTypes||(h.fieldTypes={})),n.selectedNode.type==="output"&&!h.outputFields&&(h.outputFields=[]),h}),a=()=>{},l=()=>{n.selectedNode&&(r.removeNode(n.selectedNode.id),o("delete"))},u=d=>({input:"material-symbols:input",connector:"material-symbols:cable","field-extractor":"material-symbols:filter-alt","array-processor":"material-symbols:list",add:"material-symbols:add",subtract:"material-symbols:remove",multiply:"material-symbols:close",divide:"material-symbols:percent",variable:"material-symbols:bookmark",output:"material-symbols:output"})[d]||"material-symbols:view-in-ar",c=d=>({input:"Input Parameters",connector:"Data Connector","field-extractor":"Field Extractor","array-processor":"Array Processor",add:"Addition",subtract:"Subtraction",multiply:"Multiplication",divide:"Division",variable:"Variable",output:"Output"})[d]||d;return(d,h)=>{var f;return R(),L("div",{class:st(["w-80 h-full bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 flex flex-col transition-transform duration-300",{visible:e.selectedNode}])},[e.selectedNode?(R(),L("div",tA,[x("div",nA,[x("div",oA,[re(Le,{icon:u(e.selectedNode.type),size:20,class:"text-gray-600 dark:text-gray-300"},null,8,["icon"])]),x("div",rA,[x("h3",sA,ve(((f=e.selectedNode.data)==null?void 0:f.label)||"Node"),1),x("p",iA,ve(c(e.selectedNode.type)),1)]),x("button",{onClick:h[0]||(h[0]=m=>d.$emit("close")),class:"w-8 h-8 flex items-center justify-center bg-transparent border-none rounded-md text-gray-500 dark:text-gray-400 cursor-pointer transition-colors duration-200 hover:bg-white dark:hover:bg-gray-900 hover:text-gray-700 dark:hover:text-gray-200"},[re(Le,{icon:"material-symbols:close",size:16})])]),x("div",aA,[s.value?(R(),ut(Qn(s.value),{key:0,"node-id":e.selectedNode.id,"local-data":i.value,onUpdateNodeData:a},null,40,["node-id","local-data"])):e.selectedNode?(R(),L("div",lA,[...h[2]||(h[2]=[x("div",{class:"p-4 text-center text-xs text-gray-500 dark:text-gray-400 italic bg-gray-50 dark:bg-gray-800 rounded-md border border-dashed border-gray-200 dark:border-gray-700"}," No specific properties available for this node type. ",-1)])])):xe("",!0)]),x("div",uA,[x("button",{onClick:l,class:"w-full px-2.5 py-2.5 flex items-center justify-center gap-2 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800 border border-red-600 hover:border-red-700 rounded-md text-red-600 hover:text-red-700 text-sm font-medium cursor-pointer transition-colors"},[re(Le,{icon:"material-symbols:delete",size:16}),h[3]||(h[3]=tt(" Delete Node ",-1))])])])):(R(),L("div",eA,[re(Le,{icon:"material-symbols:view-in-ar",size:48,class:"text-gray-400 dark:text-gray-500"}),h[1]||(h[1]=x("p",{class:"mt-4 text-gray-500 dark:text-gray-400 text-sm text-center"},"Select a node to view its properties",-1))]))],2)}}},dA=wt(cA,[["__scopeId","data-v-5072810e"]]),fA={class:"px-2 py-2"},hA={class:"relative"},pA=["onKeydown"],gA={class:"px-3 py-1 text-11 font-semibold text-flow-text-muted dark:text-flow-text-muted-dark uppercase tracking-wider"},mA={class:"flex flex-col max-h-[400px] overflow-y-auto"},yA={key:0,class:"px-3 py-4 text-center text-sm text-flow-text-muted dark:text-flow-text-muted-dark"},vA=["onClick","onMouseenter"],bA={class:"flex-1 min-w-0"},xA=["innerHTML"],_A={key:0,class:"text-xs text-flow-text-muted dark:text-flow-text-muted-dark truncate"},wA={class:"text-10 text-flow-text-muted dark:text-flow-text-muted-dark uppercase tracking-wide"},kA={__name:"ContextMenu",props:{show:{type:Boolean,required:!0},position:{type:Object,required:!0},nodes:{type:Array,required:!0}},emits:["create-node","close"],setup(e,{emit:t}){const n=e,o=t,r=$t(),s=fe(null),i=fe(""),a=fe(0),l=ne(()=>{var g;return n.nodes&&n.nodes.length>0?n.nodes:((g=r.nodeCatalog)==null?void 0:g.nodes)||[]}),u=ne(()=>{var g;return((g=r.nodeCatalog)==null?void 0:g.categories)||[]}),c=ne(()=>{if(!i.value.trim())return l.value;const g=i.value.toLowerCase();return l.value.filter(E=>{var j,M,B;const _=(j=E.label)==null?void 0:j.toLowerCase().includes(g),O=(M=E.description)==null?void 0:M.toLowerCase().includes(g),X=d(E.category).toLowerCase().includes(g),U=(B=E.type)==null?void 0:B.toLowerCase().includes(g);return _||O||X||U})});function d(g){const y=u.value.find(E=>E.id===g);return(y==null?void 0:y.label)||g||""}function h(g){if(!i.value.trim()||!g)return g;const y=i.value,E=new RegExp(`(${y})`,"gi");return g.replace(E,'<mark class="bg-yellow-200 dark:bg-yellow-700 px-0.5 rounded">$1</mark>')}function f(){a.value<c.value.length-1&&a.value++}function m(){a.value>0&&a.value--}function v(){const g=c.value[a.value];g&&o("create-node",g.type)}return Oe(()=>n.show,(g,y)=>{g?Dt(()=>{var E;(E=s.value)==null||E.focus()}):(i.value="",a.value=0)}),Oe(i,()=>{a.value=0}),(g,y)=>e.show?(R(),L("div",{key:0,style:ct({position:"fixed",left:e.position.x+"px",top:e.position.y+"px",zIndex:99999,backgroundColor:"white",border:"3px solid red"}),class:"rounded-lg shadow-2xl p-2 min-w-[280px] max-w-[400px]",onClick:y[2]||(y[2]=Ho(()=>{},["stop"]))},[x("div",fA,[x("div",hA,[re(Le,{icon:"material-symbols:search",size:14,class:"absolute left-2 top-1/2 -translate-y-1/2 text-flow-text-muted dark:text-flow-text-muted-dark"}),ze(x("input",{ref_key:"searchInput",ref:s,"onUpdate:modelValue":y[0]||(y[0]=E=>i.value=E),type:"text",placeholder:"Buscar nodes...",class:"w-full pl-8 pr-3 py-1.5 text-sm bg-white dark:bg-gray-700 border border-flow-border dark:border-flow-border-dark rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-flow-text dark:text-flow-text-dark",onKeydown:[As(Ho(f,["prevent"]),["down"]),As(Ho(m,["prevent"]),["up"]),As(Ho(v,["prevent"]),["enter"]),y[1]||(y[1]=As(E=>g.$emit("close"),["esc"]))]},null,40,pA),[[ft,i.value]])])]),x("div",gA,ve(i.value?`${c.value.length} encontrado(s)`:"Quick Add"),1),x("div",mA,[c.value.length===0?(R(),L("div",yA,' Nenhum node encontrado para "'+ve(i.value)+'" ',1)):xe("",!0),(R(!0),L(Ie,null,rt(c.value,(E,_)=>(R(),L("button",{key:E.type,onClick:O=>g.$emit("create-node",E.type),onMouseenter:O=>a.value=_,class:st(["flex items-center gap-2.5 px-3 py-2 bg-transparent border-none rounded text-flow-text-secondary dark:text-flow-text-secondary-dark text-sm text-left cursor-pointer transition-all duration-150",_===a.value?"bg-blue-100 dark:bg-blue-900/30 scale-[1.02]":"hover:bg-flow-surface-hover dark:hover:bg-flow-surface-hover-dark hover:scale-[1.02]"])},[x("div",{class:"w-6 h-6 rounded flex items-center justify-center flex-shrink-0",style:ct({backgroundColor:E.color+"20",color:E.color})},[re(Le,{icon:E.icon,size:14},null,8,["icon"])],4),x("div",bA,[x("div",{class:"font-medium",innerHTML:h(E.label)},null,8,xA),E.description?(R(),L("div",_A,ve(E.description),1)):xe("",!0)]),x("div",wA,ve(d(E.category)),1)],42,vA))),128))]),y[3]||(y[3]=x("div",{class:"px-3 py-1.5 border-t border-flow-border dark:border-flow-border-dark text-10 text-flow-text-muted dark:text-flow-text-muted-dark"},[x("span",{class:"inline-flex items-center gap-1"},[x("kbd",{class:"px-1.5 py-0.5 bg-white dark:bg-gray-700 border border-flow-border rounded text-9"},""),tt(" navegar "),x("kbd",{class:"px-1.5 py-0.5 bg-white dark:bg-gray-700 border border-flow-border rounded text-9 ml-2"},"Enter"),tt(" selecionar ")])],-1))],4)):xe("",!0)}};function EA(e,t){const n=$t();return{dynamicHandles:ne(()=>{var l,u,c,d,h;if(!n.nodes.find(f=>f.id===e))return[];const s=n.nodeData[e];if(!s)return[];const i=[],a=t.value||t;if(a==="field-extractor"){const f=s.selectedFields||[],m=s.fieldOutputsEnabled||{},v=s.fieldTypes||{};let g="any";const y=n.edges.filter(E=>E.target===e&&E.targetHandle==="data-input"&&E.edgeType!=="flow");if(y.length>0){const E=n.executionResults[y[0].source];if(E&&y[0].sourceHandle in E){const _=E[y[0].sourceHandle];Array.isArray(_)?g="array":typeof _=="object"&&_!==null&&(g="object")}}i.push({id:"data-out",label:"Extracted Data",type:g,position:"right"}),f.length>1&&i.push({id:"all-data",label:"All Extracted Data",type:"object",position:"right"}),f.forEach(E=>{const _=`field-${E.replace(/\./g,"-")}`,O=m[E]!==!1,X=v[E]||"any";O&&i.push({id:_,label:E,type:X,position:"right"})})}if(a==="output"){const f=s.dynamicInputs||[],m=((l=s.dynamicHandles)==null?void 0:l.inputs)||[];(u=s.dynamicHandles)==null||u._updated,m.length>0?m.forEach(v=>{i.push({...v,position:"left"})}):f.length>0&&f.forEach(v=>{v.key&&i.push({id:`data-${v.key}`,label:v.key,type:v.type||"any",position:"left"})})}if(a==="array-merge"){const f=((c=s.dynamicHandles)==null?void 0:c.inputs)||[];f.length>0?f.forEach(m=>{i.push({...m,position:"left"})}):(s.arrayInputs||[{id:"array1",label:"Array 1"},{id:"array2",label:"Array 2"}]).forEach(v=>{i.push({id:`data-${v.id}`,label:v.label||v.id,type:"array",position:"left",required:!1})})}if(a==="object-create"){const f=((d=s.dynamicHandles)==null?void 0:d.inputs)||[];f.length>0?f.forEach(m=>{i.push({...m,position:"left"})}):(s.properties||[{id:"prop1",key:"key1"}]).forEach(v=>{i.push({id:`data-${v.id}`,label:v.key||v.id,type:"any",position:"left",required:!1})})}if(a==="array-create"){const f=((h=s.dynamicHandles)==null?void 0:h.inputs)||[];f.length>0?f.forEach(m=>{i.push({...m,position:"left"})}):(s.items||[{id:"item1",label:"Item 1"}]).forEach(v=>{i.push({id:`data-${v.id}`,label:v.label||v.id,type:"any",position:"left",required:!1})})}if(a==="input"&&(s.parameters||[]).forEach((m,v)=>{i.push({id:`param-output-${v}`,label:m.name||`Parameter ${v+1}`,type:m.type||"any",position:"right",required:m.required||!1})}),a==="string-ops"&&s.operation==="template"){const f=s.templateString||"",m=/\{([^}]+)\}/g,v=new Set;let g;for(;(g=m.exec(f))!==null;)v.add(g[1]);v.forEach(y=>{i.push({id:y,label:y,type:"any",position:"left",required:!1})})}return a!=="input"&&s.exposedFields&&Object.entries(s.exposedFields).forEach(([f,m])=>{i.push({id:`exposed-${f}`,label:m.label||f,type:m.type||"any",position:"left",required:m.required||!1})}),i})}}const $A={"data-input":"#3b82f6","logic-control":"#a855f7",operations:"#22c55e","data-processing":"#f97316",debug:"#6b7280",organization:"#6b7280",sources:"#3b82f6",io:"#3b82f6",storage:"#3b82f6",constants:"#3b82f6",comparison:"#a855f7",logic:"#a855f7",iteration:"#a855f7",math:"#22c55e",string:"#22c55e",conversion:"#22c55e",processors:"#f97316","array-processors":"#f97316","object-processors":"#f97316"};function SA(e){return $A[e]||"#3b82f6"}const CA={__name:"DataHandle",props:{type:{type:String,required:!0,validator:e=>["source","target"].includes(e)},position:{type:String,required:!0},id:{type:String,required:!0},dataType:{type:String,default:"any"},color:{type:String,default:null},top:{type:String,default:"50%"}},setup(e){const t=e,n=ne(()=>t.type==="target"?1:1/0),o=ne(()=>t.color?t.color:zi(t.dataType)),r=ne(()=>({top:t.top,[t.type==="source"?"right":"left"]:t.type==="source"?"-10px":"-7px",background:o.value,borderColor:o.value,zIndex:20,pointerEvents:"auto"}));return(s,i)=>(R(),ut(ce(io),{type:e.type,position:e.position,id:e.id,style:ct(r.value),"max-connections":n.value,class:"data-handle-minimal"},null,8,["type","position","id","style","max-connections"]))}},gf=wt(CA,[["__scopeId","data-v-b4209b51"]]),NA={__name:"ExecHandleInput",props:{position:{type:String,required:!0},id:{type:String,required:!0},top:{type:String,default:"12px"}},setup(e){const t=e,n=ne(()=>({top:t.top,left:"-7px",background:"#9ca3af",borderColor:"#9ca3af",zIndex:10,pointerEvents:"auto"}));return gt(()=>{console.log(" ExecHandleInput mounted:",{id:t.id,maxConnections:1/0,position:t.position})}),(o,r)=>(R(),ut(ce(io),{type:"target",position:e.position,id:e.id,style:ct(n.value),connectable:!0,"max-connections":1/0,class:"exec-handle-input"},null,8,["position","id","style"]))}},TA=wt(NA,[["__scopeId","data-v-4d9bd095"]]),IA={__name:"ExecHandleOutput",props:{position:{type:String,required:!0},id:{type:String,required:!0},top:{type:String,default:"12px"}},setup(e){const t=e,n=ne(()=>({top:t.top,right:"-10px",background:"#9ca3af",borderColor:"#9ca3af",zIndex:10,pointerEvents:"auto"}));return(o,r)=>(R(),ut(ce(io),{type:"source",position:e.position,id:e.id,style:ct(n.value),connectable:!0,"max-connections":1,class:"exec-handle-output"},null,8,["position","id","style"]))}},mf=wt(IA,[["__scopeId","data-v-bead03cb"]]),AA={class:"node-row header-row border-b border-gray-200 dark:border-gray-700"},OA={class:"handle-cell handle-left nodrag"},MA={class:"content-cell px-3 py-2"},DA={class:"flex items-center gap-2"},PA={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},RA={class:"handle-cell handle-right nodrag"},VA={key:0},zA={key:1,class:"flex flex-col gap-1"},HA={class:"text-[10px] text-gray-600 dark:text-gray-400"},LA={key:0,class:"data-section"},FA={class:"node-row"},BA={class:"handle-cell handle-left nodrag"},jA={class:"content-cell"},UA={class:"content-split"},YA={class:"content-left"},WA={class:"label-list"},GA=["title"],ZA={class:"text-xs text-gray-600 dark:text-gray-400"},qA={class:"content-right"},XA={class:"label-list"},KA={class:"text-xs text-gray-600 dark:text-gray-400"},JA=["title"],QA={class:"handle-cell handle-right nodrag"},e4={__name:"GenericNode",props:{id:{type:String,required:!0},data:{type:Object,default:()=>({})},selected:{type:Boolean,default:!1}},setup(e){const t=e,n=$t(),o=ne(()=>{const M=n.nodes.find(B=>B.id===t.id);return M==null?void 0:M.type}),r=ne(()=>{const M=n.nodes.find(B=>B.id===t.id);return M?cr(M.type):null}),s=ne(()=>t.selected),i=ne(()=>n.executingNodes.has(t.id)),a=ne(()=>n.executedNodes.has(t.id)),l=ne(()=>n.errorNodes.has(t.id)),u=ne(()=>{var B;const M=(B=r.value)==null?void 0:B.category;return M?SA(M):"#3b82f6"});ne(()=>n.executionResults[t.id]);const c=ne(()=>n.nodes.find(M=>M.id===t.id)),d=ne(()=>{const M=r.value;if(!M)return null;if(M.dynamicHandles&&c.value){let B="mode";const Y=M.dynamicHandles.mode;M.dynamicHandles[Y]||(B=Y);const H=n.nodeData[t.id],N=(H==null?void 0:H[B])||Y;return M.dynamicHandles[N]||M.handles}return M.handles}),h=ne(()=>{var B;const M=d.value;return((B=M==null?void 0:M.inputs)==null?void 0:B.execution)&&M.inputs.execution.length>0});ne(()=>{var B;const M=d.value;return((B=M==null?void 0:M.outputs)==null?void 0:B.execution)&&M.outputs.execution.length>0});const f=ne(()=>{var B;const M=d.value;return((B=M==null?void 0:M.outputs)==null?void 0:B.execution)||[]}),m=ne(()=>{var W;n.edges.length;const M=v.value.filter(p=>p.position==="left"),B=d.value,Y=((W=B==null?void 0:B.inputs)==null?void 0:W.data)||[],H=n.nodeData[t.id],N=Y.map(p=>{if(p.dynamic){const A=On(o.value,{...H,_nodeId:t.id},p.id,"target",n);return{...p,type:A}}return o.value==="variable"?{...p,type:E(p.id,"target")}:p});return o.value==="string-ops"&&(H==null?void 0:H.operation)==="template"||o.value==="output"||o.value==="array-merge"||o.value==="object-create"||o.value==="array-create"?M:[...N,...M]}),{dynamicHandles:v}=EA(t.id,o),g=ne(()=>{var H;if(n.edges.length,n.savedDetectedTypes[t.id],o.value==="field-extractor"||o.value==="input")return v.value;const M=d.value,B=((H=M==null?void 0:M.outputs)==null?void 0:H.data)||[],Y=n.nodeData[t.id];return B.map(N=>{if(N.dynamic){const p=On(o.value,{...Y,_nodeId:t.id},N.id,"source",n);return{...N,type:p}}return(o.value==="variable"||o.value==="array-slice")&&N.wildcard?{...N,type:E(N.id,"source")}:["array-filter","array-sort","array-distinct","array-map","array-groupby","array-merge"].includes(o.value)&&["array","any"].includes(N.type)?{...N,type:y()}:N})}),y=()=>{const M=n.edges.filter(B=>B.target===t.id&&B.targetHandle==="data-input"&&B.edgeType!=="flow");if(M.length>0){const B=n.executionResults[M[0].source];if(B&&M[0].sourceHandle in B){const Y=B[M[0].sourceHandle];if(Array.isArray(Y))return"array";if(typeof Y=="object"&&Y!==null)return"object";if(typeof Y=="number")return"number";if(typeof Y=="string")return"string";if(typeof Y=="boolean")return"boolean"}}return"any"},E=(M,B)=>{if(o.value==="array-slice"&&B==="source"&&M==="data-out"){const W=n.nodeData[t.id],p=(W==null?void 0:W.operation)||"first";if(["take","skip","slice"].includes(p))return"array";const A=n.edges.filter($=>$.target===t.id&&$.targetHandle==="data-input"&&$.edgeType!=="flow");if(A.length>0){const $=n.executionResults[A[0].source];if($&&A[0].sourceHandle in $){const z=$[A[0].sourceHandle];if(Array.isArray(z)&&z.length>0){const V=z[0];if(typeof V=="object"&&V!==null)return"object";if(typeof V=="number")return"number";if(typeof V=="string")return"string";if(typeof V=="boolean")return"boolean"}}}return"any"}if(o.value!=="variable")return"any";const Y=n.nodeData[t.id],H=Y==null?void 0:Y.variableName,N=(Y==null?void 0:Y.mode)||"get";if(B==="source"&&M==="data-out"){if(N==="set"){const W=n.edges.filter(p=>p.target===t.id&&p.targetHandle==="data-input"&&p.edgeType!=="flow");if(W.length>0){const p=n.nodes.find(A=>A.id===W[0].source);if(p)return _(p,W[0].sourceHandle)}}if(N==="get"&&H){const W=n.nodes.filter(p=>{var A,$;return p.type==="variable"&&p.id!==t.id&&((A=n.nodeData[p.id])==null?void 0:A.mode)==="set"&&(($=n.nodeData[p.id])==null?void 0:$.variableName)===H});for(const p of W){const A=n.edges.filter($=>$.target===p.id&&$.targetHandle==="data-input"&&$.edgeType!=="flow");if(A.length>0){const $=n.nodes.find(z=>z.id===A[0].source);if($)return _($,A[0].sourceHandle)}}}}if(B==="target"&&M==="data-input"){const W=n.edges.filter(p=>p.source===t.id&&p.sourceHandle==="data-out"&&p.edgeType!=="flow");if(W.length>0){const p=n.nodes.find(A=>A.id===W[0].target);if(p)return _(p,W[0].targetHandle)}}return"any"},_=(M,B)=>{const Y=n.nodeData[M.id];if(!Y)return"any";const H={...Y,_nodeId:M.id};return On(M.type,H,B,"source",n)},O=()=>{const M=n.executionResults[t.id],B=n.savedDetectedTypes[t.id]||{},Y=n.edges.filter(p=>p.target===t.id&&p.targetHandle==="exec-in"&&p.edgeType==="flow"),H=n.edges.filter(p=>p.source===t.id&&p.sourceHandle==="exec-out"&&p.edgeType==="flow"),N={};m.value.forEach(p=>{const A=n.edges.filter($=>$.target===t.id&&$.targetHandle===p.id&&$.edgeType!=="flow");if(A.length>0){const $=A[0],z=n.executionResults[$.source],V=n.savedDetectedTypes[$.source]||{},J=z==null?void 0:z[$.sourceHandle],Z=V[$.sourceHandle]||p.type||"unknown";N[p.id]={value:J,type:Z,label:p.label}}});const W={};g.value.forEach(p=>{var J;const A=M==null?void 0:M[p.id],$=((J=p.dynamic)==null?void 0:J.mode)==="config-based",z=o.value==="input",V=$||z?p.type||B[p.id]||"unknown":B[p.id]||p.type||"unknown";W[p.id]={value:A,type:V,label:p.label}}),console.group(` Node Debug: ${t.id} (${o.value})`),console.log(" INPUTS:",N),Object.entries(N).forEach(([p,A])=>{const $=j(A.value);console.log(`   ${A.label||p}:`,{type:A.type,value:$})}),console.log(" OUTPUTS:",W),Object.entries(W).forEach(([p,A])=>{const $=j(A.value);console.log(`   ${A.label||p}:`,{type:A.type,value:$})}),console.log(" EXECUTION EDGES:",{inputs:Y.length,outputs:H.length}),console.groupEnd()},X=M=>{const B=n.edges.filter(p=>p.target===t.id&&p.targetHandle===M&&p.edgeType!=="flow");if(B.length===0)return null;const Y=B[0];if(!n.nodes.find(p=>p.id===Y.source))return null;const N=n.executionResults[Y.source];if(!N)return null;const W=typeof N=="object"&&N!==null&&Y.sourceHandle in N?N[Y.sourceHandle]:N;return j(W)},U=ne(()=>{const M=n.executionResults[t.id],B=n.nodes.find(H=>H.id===t.id),Y=n.executedNodes.has(t.id);return H=>{if(!B||!M||!Y)return null;if(B.type==="field-extractor"){if(H.label==="All Extracted Data")return null;const W=`field-${H.label.replace(/\./g,"-")}`,p=M[W];return p==null?null:j(p)}const N=M[H.id];return N==null?null:j(N)}}),j=M=>{if(M===void 0)return null;if(M===null)return"null";if(M instanceof Date){if(isNaN(M.getTime()))return"Invalid Date";const B=M.getFullYear(),Y=String(M.getMonth()+1).padStart(2,"0"),H=String(M.getDate()).padStart(2,"0");return`${B}-${Y}-${H}`}if(typeof M=="string")return[/^\d{4}-\d{2}-\d{2}$/,/^\d{2}\/\d{2}\/\d{4}$/,/^\d{2}-\d{2}-\d{4}$/,/^\d{4}\/\d{2}\/\d{2}$/].some(Y=>Y.test(M))?M:M.length>20?`"${M.substring(0,17)}..."`:`"${M}"`;if(typeof M=="number")return Math.abs(M)>=1e6?(M/1e6).toFixed(1)+"M":Math.abs(M)>=1e3?(M/1e3).toFixed(1)+"K":M.toString();if(typeof M=="boolean")return M?"":"";if(Array.isArray(M))return M.length===0?"[]":M.length===1?"[1 item]":`[${M.length} items]`;if(typeof M=="object"){const B=Object.keys(M);return B.length===0?"{}":B.length===1?`{${B[0]}}`:`{${B.length} keys}`}return String(M).substring(0,20)};return(M,B)=>{var Y,H,N;return R(),L("div",{class:st(["generic-node rounded-lg bg-white dark:bg-gray-800 border-2 transition-all",[s.value?"selected-node":"",i.value?"executing-node":"",a.value?"executed-node":"",l.value?"error-node":"",!i.value&&!a.value&&!l.value?"border-gray-300 dark:border-gray-600":"","hover:shadow-xl"]]),style:ct({borderLeftColor:u.value,borderLeftWidth:"4px"}),onClick:O},[x("div",AA,[x("div",OA,[h.value?(R(),ut(TA,{key:0,position:"left",id:"exec-in",top:"50%"})):xe("",!0)]),x("div",MA,[x("div",DA,[re(Le,{icon:((Y=r.value)==null?void 0:Y.icon)||"material-symbols:view-in-ar",size:16,style:ct({color:((H=r.value)==null?void 0:H.color)||"#3b82f6"})},null,8,["icon","style"]),x("span",PA,ve(e.data.label||((N=r.value)==null?void 0:N.label)||"Node"),1)])]),x("div",RA,[f.value.length===1?(R(),L("div",VA,[re(mf,{position:"right",id:f.value[0].id,top:"50%"},null,8,["id"])])):f.value.length>1?(R(),L("div",zA,[(R(!0),L(Ie,null,rt(f.value,(W,p)=>(R(),L("div",{key:W.id,class:"flex items-center gap-1"},[x("span",HA,ve(W.label),1),re(mf,{position:"right",id:W.id,top:`${25+p*50}%`},null,8,["id","top"])]))),128))])):xe("",!0)])]),m.value.length>0||g.value.length>0?(R(),L("div",LA,[x("div",FA,[x("div",BA,[(R(!0),L(Ie,null,rt(m.value,W=>(R(),L("div",{key:W.id,class:"handle-wrapper"},[re(gf,{id:W.id,type:"target",position:W.position||"left","data-type":W.type||"any"},null,8,["id","position","data-type"])]))),128))]),x("div",jA,[x("div",UA,[x("div",YA,[x("div",WA,[(R(!0),L(Ie,null,rt(m.value,W=>(R(),L("div",{key:W.id,class:"label-item"},[X(W.id)?(R(),L("span",{key:0,class:"text-[10px] mr-1 px-1 py-0.5 bg-gray-100 dark:bg-gray-700 rounded font-mono text-gray-500 dark:text-gray-400",title:`Value: ${X(W.id)}`},ve(X(W.id)),9,GA)):xe("",!0),x("span",ZA,ve(W.label),1)]))),128))])]),x("div",qA,[x("div",XA,[(R(!0),L(Ie,null,rt(g.value,W=>(R(),L("div",{key:W.id,class:"label-item"},[x("span",KA,ve(W.label),1),U.value(W)?(R(),L("span",{key:0,class:"text-[10px] ml-1 px-1 py-0.5 bg-gray-100 dark:bg-gray-700 rounded font-mono text-gray-500 dark:text-gray-400",title:`Value: ${U.value(W)}`},ve(U.value(W)),9,JA)):xe("",!0)]))),128))])])])]),x("div",QA,[(R(!0),L(Ie,null,rt(g.value,W=>(R(),L("div",{key:W.id,class:"handle-wrapper"},[re(gf,{id:W.id,type:"source",position:W.position||"right","data-type":W.type||"any"},null,8,["id","position","data-type"])]))),128))])])])):xe("",!0)],6)}}},Ze=wt(e4,[["__scopeId","data-v-5413c9e4"]]),t4={key:0,class:"primitive-line"},n4={key:1,class:"array-node"},o4={class:"expand-icon"},r4={class:"array-label"},s4={key:0,class:"array-children"},i4={class:"array-index"},a4={key:2,class:"object-node"},l4={class:"expand-icon"},u4={class:"object-label"},c4={key:0,class:"object-children"},d4={class:"property-key"},f4={__name:"DataNode",props:{value:{required:!0},path:{type:Array,default:()=>[]},depth:{type:Number,default:0}},setup(e){const t=e,n=fe(t.depth<2),o=()=>{n.value=!n.value},r=ne(()=>{const d=t.value;return d===null?"null":d===void 0?"undefined":Array.isArray(d)?"array":typeof d=="object"?"object":typeof d=="string"?"string":typeof d=="number"?"number":typeof d=="boolean"?"boolean":"unknown"}),s=ne(()=>["null","undefined","string","number","boolean"].includes(r.value)),i=ne(()=>r.value==="array"),a=ne(()=>r.value==="object"),l=ne(()=>{const d=t.value;return d===null?"null":d===void 0?"undefined":typeof d=="string"?`"${d}"`:typeof d=="boolean"?d?"true":"false":String(d)}),u=ne(()=>a.value?Object.entries(t.value):[]),c=ne(()=>`{${Object.keys(t.value).length} props}`);return(d,h)=>{const f=mu("DataNode",!0);return R(),L("div",{class:"data-node",style:ct({paddingLeft:`${e.depth*12}px`})},[s.value?(R(),L("div",t4,[x("span",{class:st(["value",`type-${r.value}`])},ve(l.value),3)])):i.value?(R(),L("div",n4,[x("div",{class:"array-header",onClick:o},[x("button",o4,[re(Le,{icon:n.value?"material-symbols:arrow-drop-down":"material-symbols:arrow-right",size:14},null,8,["icon"])]),x("span",r4,"Array("+ve(e.value.length)+")",1)]),n.value?(R(),L("div",s4,[(R(!0),L(Ie,null,rt(e.value,(m,v)=>(R(),L("div",{key:v,class:"array-item-row"},[x("span",i4,ve(v)+":",1),re(f,{value:m,path:[...e.path,v],depth:e.depth+1},null,8,["value","path","depth"])]))),128))])):xe("",!0)])):a.value?(R(),L("div",a4,[x("div",{class:"object-header",onClick:o},[x("button",l4,[re(Le,{icon:n.value?"material-symbols:arrow-drop-down":"material-symbols:arrow-right",size:14},null,8,["icon"])]),x("span",u4,ve(c.value),1)]),n.value?(R(),L("div",c4,[(R(!0),L(Ie,null,rt(u.value,([m,v])=>(R(),L("div",{key:m,class:"object-property-row"},[x("span",d4,ve(m)+":",1),re(f,{value:v,path:[...e.path,m],depth:e.depth+1},null,8,["value","path","depth"])]))),128))])):xe("",!0)])):xe("",!0)],4)}}},h4=wt(f4,[["__scopeId","data-v-b34df0fd"]]),p4={class:"debug-viewer-node"},g4={class:"node-header"},m4={class:"flex items-center gap-2"},y4={class:"font-medium"},v4={key:0,class:"data-container"},b4={key:0,class:"no-data"},x4={key:1,class:"data-tree"},_4={key:1,class:"collapsed-preview"},w4={key:0,class:"preview-text"},k4={key:1,class:"no-data-text"},E4={__name:"DebugViewerNode",props:{id:{type:String,required:!0},data:{type:Object,default:()=>({})}},setup(e){var h;const t=e,n=$t(),o=ne(()=>{const f=n.nodes.find(m=>m.id===t.id);return f?cr(f.type):null}),r=ne(()=>{var f,m;return((f=t.data)==null?void 0:f.label)||((m=o.value)==null?void 0:m.label)||"Debug Viewer"}),s=fe(((h=t.data)==null?void 0:h.expanded)!==!1),i=()=>{s.value=!s.value},a=ne(()=>{const f=n.edges.filter(y=>y.target===t.id&&y.edgeType!=="flow");if(f.length===0)return null;const m=f[0],v=n.executionResults[m.source];return v?typeof v=="object"&&v!==null&&m.sourceHandle in v?v[m.sourceHandle]:v:null}),l=ne(()=>a.value!==null&&a.value!==void 0),u=ne(()=>{if(!l.value)return"undefined";const f=a.value;return Array.isArray(f)?"array":f===null?"null":typeof f=="object"?"object":typeof f=="string"?"string":typeof f=="number"?"number":typeof f=="boolean"?"boolean":"unknown"}),c=ne(()=>({array:"#10b981",object:"#3b82f6",string:"#f59e0b",number:"#8b5cf6",boolean:"#ec4899",null:"#6b7280",undefined:"#6b7280"})[u.value]||"#6b7280"),d=ne(()=>{if(!l.value)return"No data";if(u.value==="array")return`Array (${a.value.length})`;if(u.value==="object")return`Object {${Object.keys(a.value).length} props}`;const f=a.value;return f===null?"null":f===void 0?"undefined":typeof f=="string"?`"${f}"`:typeof f=="boolean"?f?"true":"false":String(f)});return Oe(()=>{var f;return(f=t.data)==null?void 0:f.expanded},f=>{f!==void 0&&(s.value=f)}),(f,m)=>{var v;return R(),L("div",p4,[x("div",g4,[x("div",m4,[re(Le,{icon:((v=o.value)==null?void 0:v.icon)||"material-symbols:bug-report",size:16},null,8,["icon"]),x("span",y4,ve(r.value),1)]),x("button",{onClick:i,class:"expand-btn",title:"Toggle expand/collapse"},[re(Le,{icon:s.value?"material-symbols:expand-less":"material-symbols:expand-more",size:16},null,8,["icon"])])]),re(ce(io),{id:`${e.id}-data-input`,type:"target",position:ce(Se).Left,style:ct({background:ce(zi)("any"),top:"50%"}),class:"handle-input"},null,8,["id","position","style"]),s.value?(R(),L("div",v4,[x("div",{class:"type-badge",style:ct({backgroundColor:c.value})},ve(u.value),5),l.value?(R(),L("div",x4,[re(h4,{value:a.value,path:[]},null,8,["value"])])):(R(),L("div",b4,[re(Le,{icon:"material-symbols:info-outline",size:20}),m[0]||(m[0]=x("span",null,"No data connected",-1))]))])):(R(),L("div",_4,[l.value?(R(),L("span",w4,ve(d.value),1)):(R(),L("span",k4,"No data"))]))])}}},$4=wt(E4,[["__scopeId","data-v-7d027dff"]]),S4={class:"marker-header"},C4={__name:"MarkerNode",props:{id:{type:String,required:!0},selected:{type:Boolean,default:!1}},setup(e){const t=e,n=$t(),o=ne(()=>n.nodeData[t.id]||{}),r=ne(()=>n.nodes.find(U=>U.id===t.id)),s=fe(o.value.name||"Frame"),i=fe(o.value.width||400),a=fe(o.value.height||300),l=ne(()=>{const U=o.value.color||"rgba(147, 197, 253, 0.2)";if(U.startsWith("#")){let j=U.slice(1);j.length===3&&(j=j.split("").map(H=>H+H).join(""));const M=parseInt(j.slice(0,2),16),B=parseInt(j.slice(2,4),16),Y=parseInt(j.slice(4,6),16);return`rgba(${M}, ${B}, ${Y}, 0.2)`}return U.startsWith("rgba")?U.replace(/[\d.]+\)$/,"0.2)"):U.startsWith("rgb")?U.replace("rgb","rgba").replace(")",", 0.2)"):U}),u=ne(()=>t.selected?"#3b82f6":"#d1d5db"),c=()=>{n.updateNodeData(t.id,{name:s.value})};let d=!1,h=null,f=0,m=0,v=0,g=0,y=0,E=0;const _=U=>{var j,M,B,Y;d=!0,h=U,f=event.clientX,m=event.clientY,v=i.value,g=a.value,y=((M=(j=r.value)==null?void 0:j.position)==null?void 0:M.x)||0,E=((Y=(B=r.value)==null?void 0:B.position)==null?void 0:Y.y)||0,document.addEventListener("mousemove",O),document.addEventListener("mouseup",X),event.stopPropagation()},O=U=>{if(!d)return;const j=U.clientX-f,M=U.clientY-m;let B=v,Y=g,H=y,N=E;switch(h){case"se":B=Math.max(200,v+j),Y=Math.max(150,g+M);break;case"ne":B=Math.max(200,v+j),Y=Math.max(150,g-M),N=E+M;break;case"sw":B=Math.max(200,v-j),Y=Math.max(150,g+M),H=y+j;break;case"nw":B=Math.max(200,v-j),Y=Math.max(150,g-M),H=y+j,N=E+M;break}i.value=B,a.value=Y,(H!==y||N!==E)&&n.updateNodePosition(t.id,{x:H,y:N})},X=()=>{d&&n.updateNodeData(t.id,{width:i.value,height:a.value}),d=!1,h=null,document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",X)};return Io(()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",X)}),(U,j)=>(R(),L("div",{class:"marker-node",style:ct({width:`${i.value}px`,height:`${a.value}px`,backgroundColor:l.value,borderColor:u.value,zIndex:-1})},[x("div",S4,[ze(x("input",{"onUpdate:modelValue":j[0]||(j[0]=M=>s.value=M),onInput:c,class:"marker-title",placeholder:"Frame name"},null,544),[[ft,s.value]])]),x("div",{class:"resize-handle resize-se",onMousedown:j[1]||(j[1]=M=>_("se"))},null,32),x("div",{class:"resize-handle resize-ne",onMousedown:j[2]||(j[2]=M=>_("ne"))},null,32),x("div",{class:"resize-handle resize-sw",onMousedown:j[3]||(j[3]=M=>_("sw"))},null,32),x("div",{class:"resize-handle resize-nw",onMousedown:j[4]||(j[4]=M=>_("nw"))},null,32)],4))}},N4=wt(C4,[["__scopeId","data-v-167e52f1"]]),T4={class:"h-screen flex flex-col bg-flow-bg dark:bg-flow-bg-dark"},I4={class:"flex flex-1 overflow-hidden"},A4={__name:"FlowCanvas",setup(e){const t=$t(),{addNodes:n,addEdges:o,project:r,viewportRef:s,updateNode:i,getSelectedEdges:a}=at(),l=fe(null),u=fe({visible:!1,x:0,y:0,sourceNodeId:null,sourceHandle:null,compatibleNodes:[]}),c=fe({active:!1,sourceNodeId:null,sourceHandle:null}),d=fe(!1),h=fe(!1),f=ne(()=>t.nodes),m=ne(()=>t.edges),v=ne(()=>m.value.map(P=>{if(!P.source||!P.target)return null;let T={},F={},Q="any";if(P.edgeType==="flow")T={stroke:"#9ca3af",strokeWidth:3},F={type:"arrowclosed",width:10,height:10,color:"#9ca3af"};else{const le=t.nodes.find(he=>he.id===P.source);if(le){Q=de(le,P.sourceHandle,"source");const he=zi(Q);T={stroke:he,strokeWidth:2.5},F={type:"arrowclosed",width:8,height:8,color:he}}else T={stroke:"#3b82f6",strokeWidth:2.5},F={type:"arrowclosed",width:8,height:8,color:"#3b82f6"}}return{...P,class:P.edgeType==="flow"?"flow-edge":"data-edge",style:T,markerEnd:F,data:{...P.data,edgeType:P.edgeType,dataType:Q}}}).filter(Boolean)),g=()=>{const w=new URLSearchParams(window.location.search),P=w.get("success"),T=w.get("error"),F=w.get("email");P==="true"&&(alert(` Successfully connected to Google Analytics!

Account: ${F}`),window.history.replaceState({},document.title,window.location.pathname),window.dispatchEvent(new CustomEvent("oauth-success"))),T&&(alert(` Connection failed: ${T}`),window.history.replaceState({},document.title,window.location.pathname))},y=fe(null),E=fe(null),_=fe([]),O=fe({x:0,y:0}),{showContextMenu:X,contextMenuPosition:U,openContextMenu:j,closeContextMenu:M}=y2(),B=fe([{type:"input",label:"Input",icon:"material-symbols:input"},{type:"connector",label:"Data Connector",icon:"material-symbols:cable"},{type:"field-extractor",label:"Field Extractor",icon:"material-symbols:filter-alt"},{type:"add",label:"Add",icon:"material-symbols:add"},{type:"output",label:"Output",icon:"material-symbols:output"}]),Y={type:"default",animated:!0,style:{stroke:"#9ca3af",strokeWidth:2},markerEnd:{type:"arrowclosed",width:10,height:10,color:"#9ca3af"}},H=w=>{w.preventDefault();const P=w.dataTransfer.getData("application/vueflow");if(P)try{const T=JSON.parse(P),F=r({x:w.clientX-w.target.getBoundingClientRect().left,y:w.clientY-w.target.getBoundingClientRect().top}),Q=N(T.type,F);n([Q])}catch{}},N=(w,P)=>{const T={id:`${w}_${Date.now()}`,type:w,position:P,data:{},zIndex:1};switch(w){case"connector":T.data={label:"Data Connector",sourceType:"api",apiUrl:"",dataPath:""};break;case"field-extractor":T.data={label:"Field Extractor",selectedFields:[]};break;case"add":case"subtract":case"multiply":case"divide":T.data={label:w.charAt(0).toUpperCase()+w.slice(1),operation:w};break;case"output":T.data={label:"Output",customInputs:[]};break;case"constant":T.data={label:"Constant",valueType:"number",numberValue:0,stringValue:"",booleanValue:!1,objectValue:"{}",arrayValue:"[]"};break;case"compare":T.data={label:"Compare",operation:"equals"};break;case"type-conversion":T.data={label:"Type Conversion",targetType:"string"};break;case"logic":T.data={label:"Logic Operation",operation:"and"};break;case"string-ops":T.data={label:"String Operations",operation:"concat",templateString:"Hello {name}!"};break;case"marker":T.data={label:"Frame",name:"Frame",color:"rgba(147, 197, 253, 0.2)",width:400,height:300},T.zIndex=-100,T.selectable=!0,T.draggable=!0;break;case"input":T.data={label:"Input",parameters:[{name:"param1",type:"string",required:!1,defaultValue:"Hello World"}]};break;case"variable":T.data={label:"Variable",mode:"get",variableName:""};break;default:T.data={label:w.charAt(0).toUpperCase()+w.slice(1)}}return t.addNode(T),T},W=w=>{y.value=w.node};let p=new Map;const A=w=>{t.setDragging(!0),w.node.type==="marker"&&p.set(w.node.id,{x:w.node.position.x,y:w.node.position.y})},$=w=>{const P={x1:w.position.x,y1:w.position.y,x2:w.position.x+(w.data.width||400),y2:w.position.y+(w.data.height||300)};return f.value.filter(T=>T.id!==w.id&&T.type!=="marker").filter(T=>{T.position.x,T.position.y,T.position.x+200,T.position.y+120;const ee=T.position.x+200/2,le=T.position.y+120/2;return ee>=P.x1&&ee<=P.x2&&le>=P.y1&&le<=P.y2})},z=w=>{},V=w=>{t.setDragging(!1),w.node&&(t.updateNodePosition(w.node.id,w.node.position),w.node.type==="marker"&&p.has(w.node.id)&&($(w.node).forEach(T=>{t.updateNodePosition(T.id,T.position)}),p.delete(w.node.id)))},J=w=>{w.forEach(P=>{var T;if(P.type==="position"&&P.position){const F=f.value.find(ee=>ee.id===P.id);if((F==null?void 0:F.type)==="marker"&&t.isDragging&&p.has(P.id)){const ee=p.get(P.id),le=P.position.x-ee.x,he=P.position.y-ee.y;$({...F,position:ee}).forEach(Ne=>{const De={x:Ne.position.x+le,y:Ne.position.y+he};i(Ne.id,{position:De}),t.updateNodePosition(Ne.id,De)}),p.set(P.id,P.position)}t.updateNodePosition(P.id,P.position)}else if(P.type==="remove")t.removeNode(P.id),((T=y.value)==null?void 0:T.id)===P.id&&(y.value=null);else if(P.type==="select"){const F=f.value.findIndex(Q=>Q.id===P.id);F!==-1&&(f.value[F].selected=P.selected,P.selected&&(y.value=f.value[F]))}})},Z=w=>{w.forEach(P=>{P.type==="remove"&&t.removeEdge(P.id)})},oe=w=>{var le,he;const P=(le=w.sourceHandle)==null?void 0:le.startsWith("exec-"),T=(he=w.targetHandle)==null?void 0:he.startsWith("exec-");if(P!==T)return!1;if(P&&T)return!0;const F=t.nodes.find($e=>$e.id===w.source),Q=t.nodes.find($e=>$e.id===w.target);return!F||!Q?!1:CC(F,w.sourceHandle,Q,w.targetHandle,t)},de=(w,P,T)=>{const Q={...t.nodeData[w.id]||{},_nodeId:w.id};return On(w.type,Q,P,T,t)},K=w=>{var he,$e,Ne,De;if(!w.source||!w.target)return;const P=((he=w.sourceHandle)==null?void 0:he.startsWith("exec-"))||(($e=w.targetHandle)==null?void 0:$e.startsWith("exec-")),T=(Ne=w.sourceHandle)==null?void 0:Ne.startsWith("exec-"),F=(De=w.targetHandle)==null?void 0:De.startsWith("exec-");if(T!==F)return;console.log(" onConnect - Nova conexo:",{source:w.source,sourceHandle:w.sourceHandle,target:w.target,targetHandle:w.targetHandle,isExec:P}),P?(t.edges.filter(te=>te.source===w.source&&te.sourceHandle===w.sourceHandle&&te.edgeType==="flow").forEach(te=>{console.log(" Removendo conexo anterior do exec-out:",te.id),t.removeEdge(te.id)}),console.log(" exec-in permite mltiplas conexes")):t.edges.filter(te=>te.target===w.target&&te.targetHandle===w.targetHandle&&te.edgeType==="data").forEach(te=>{t.removeEdge(te.id)});let Q="#9ca3af",ee="any";if(!P){const G=t.nodes.find(te=>te.id===w.source);G&&(ee=de(G,w.sourceHandle,"source"),Q=zi(ee))}if(!w.source||!w.target)return;const le={id:`edge_${Date.now()}`,source:w.source,target:w.target,sourceHandle:w.sourceHandle,targetHandle:w.targetHandle,edgeType:P?"flow":"data",dataType:ee,animated:P,style:{stroke:Q,strokeWidth:P?3:2.5},markerEnd:{type:"arrowclosed",width:P?10:8,height:P?10:8,color:Q}};if(!P){const G=t.nodes.find(He=>He.id===w.source),te=t.nodes.find(He=>He.id===w.target),me=t.executionResults[w.source],be=me==null?void 0:me[w.sourceHandle],Pe=t.executionResults[w.target],Fe=Pe==null?void 0:Pe[w.targetHandle];console.log(`
 NOVA CONEXO
 OUTPUT
   Node: ${(G==null?void 0:G.type)||"unknown"} (${w.source})
   Parmetro: ${w.sourceHandle}
   Valor: ${be!==void 0?JSON.stringify(be):"no executado ainda"}

 INPUT
    Node: ${(te==null?void 0:te.type)||"unknown"} (${w.target})
    Parmetro: ${w.targetHandle}
    Valor: ${Fe!==void 0?JSON.stringify(Fe):"no executado ainda"}
    `)}t.addEdge(le),d.value=!0,setTimeout(()=>{d.value=!1},100)},ae=w=>{c.value={active:!0,sourceNodeId:w.nodeId,sourceHandle:w.handleId},d.value=!1},ue=w=>{if(!c.value.active)return;if(d.value){c.value.active=!1;return}const P=document.elementFromPoint(w.clientX,w.clientY);if(P==null?void 0:P.closest(".vue-flow__handle")){c.value.active=!1;return}if(P==null?void 0:P.closest(".vue-flow__node")){c.value.active=!1;return}const Q=t.nodes.find(Ne=>Ne.id===c.value.sourceNodeId),ee=c.value.sourceHandle;if(!Q||!ee){c.value.active=!1;return}const le=de(Q,ee,"source"),he=ee.startsWith("exec-"),$e=t.nodeCatalog.nodes.filter(Ne=>{var te,me,be,Pe,Fe;return he?(be=(me=(te=Ne.handles)==null?void 0:te.inputs)==null?void 0:me.execution)==null?void 0:be.some(He=>{var Be;return(Be=He.id)==null?void 0:Be.startsWith("exec-")}):(((Fe=(Pe=Ne.handles)==null?void 0:Pe.inputs)==null?void 0:Fe.data)||[]).some(He=>{const Be=zl(Ne.type,He.id);return Dg(le,Be)})});u.value.sourceNodeId=Q.id,u.value.sourceHandle=ee,u.value.compatibleNodes=$e,B.value=$e,j(w.clientX,w.clientY),h.value=!0,setTimeout(()=>{h.value=!1},100),c.value.active=!1},pe=({edge:w})=>{var me,be,Pe,Fe,He;if(!w||w.edgeType==="flow")return;const P=t.nodes.find(Be=>Be.id===w.source),T=t.nodes.find(Be=>Be.id===w.target),F=t.executionResults[w.source];t.executionResults[w.target];const Q=t.savedDetectedTypes[w.source]||{},ee=t.savedDetectedTypes[w.target]||{},le=F==null?void 0:F[w.sourceHandle];let he="unknown";if((P==null?void 0:P.type)==="input"){const Be=parseInt((me=w.sourceHandle)==null?void 0:me.replace("param-output-",""));he=((Pe=(((be=t.nodeData[w.source])==null?void 0:be.parameters)||[])[Be])==null?void 0:Pe.type)||"any"}else he=Q[w.sourceHandle]||"unknown";const $e=((Fe=t.getNodeDataInputs)==null?void 0:Fe.call(t,w.target))||{},Ne=((He=w.targetHandle)==null?void 0:He.replace("data-",""))||"input",De=$e[Ne],G=ee[w.targetHandle]||"unknown",te=Be=>{if(Be===void 0)return"undefined";if(Be===null)return"null";const St=JSON.stringify(Be);return St.length>38?St.substring(0,38):St};console.log(`

           CONEXO CLICADA (VALOR SENDO TRANSMITIDO)          

                                                               
   OUTPUT (ORIGEM)                                           
   Node: ${((P==null?void 0:P.type)||"unknown").padEnd(47)}
   ID: ${(w.source||"unknown").padEnd(49)}
   Handle: ${(w.sourceHandle||"unknown").padEnd(45)}
   TIPO: ${he.padEnd(49)}
   VALOR: ${te(le).padEnd(47)}
                                                               
   INPUT (DESTINO)                                           
   Node: ${((T==null?void 0:T.type)||"unknown").padEnd(47)}
   ID: ${(w.target||"unknown").padEnd(49)}
   Handle: ${(w.targetHandle||"unknown").padEnd(45)}
   TIPO: ${G.padEnd(49)}
   VALOR: ${te(De).padEnd(47)}
                                                               

`)},q=async()=>{E.value="running";try{await t.executeFlow(),E.value="success",setTimeout(()=>{E.value=null},3e3)}catch{E.value="error",setTimeout(()=>{E.value=null},5e3)}},se=()=>{confirm("Are you sure you want to clear the entire flow? This action cannot be undone.")&&(t.clearFlow(),y.value=null)},ie=w=>{var F;if(["INPUT","SELECT","BUTTON","TEXTAREA"].includes((F=document.activeElement)==null?void 0:F.tagName)){w.key==="Escape"&&X.value&&M();return}if(w.ctrlKey&&w.key==="c"){w.preventDefault(),b();return}if(w.ctrlKey&&w.key==="v"){w.preventDefault(),k();return}if(w.code==="Space"){w.preventDefault(),j(O.value.x,O.value.y);return}if(w.key==="Escape"){M();return}},ge=w=>{},ke=w=>{var Q;if(["INPUT","SELECT","BUTTON","TEXTAREA"].includes(w.target.tagName)||h.value)return;X.value&&M(),u.value.visible&&closeQuickAddMenu(),w.target.closest(".vue-flow__node")||(Q=l.value)==null||Q.focus()},I=w=>{["INPUT","SELECT","BUTTON","TEXTAREA"].includes(w.target.tagName)||(O.value={x:w.clientX,y:w.clientY})},D=w=>{const P=C(O.value.x,O.value.y),T=N(w,P);M(),u.value.sourceNodeId&&u.value.sourceHandle&&setTimeout(()=>{var he,$e,Ne,De,G,te;const F=u.value.sourceHandle,Q=F.startsWith("exec-"),ee=t.nodeCatalog.nodes.find(me=>me.type===w);let le=null;if(Q)le=((De=(Ne=($e=(he=ee==null?void 0:ee.handles)==null?void 0:he.inputs)==null?void 0:$e.execution)==null?void 0:Ne[0])==null?void 0:De.id)||"exec-in";else{const be=(((te=(G=ee==null?void 0:ee.handles)==null?void 0:G.inputs)==null?void 0:te.data)||[]).find(Pe=>{const Fe=zl(w,Pe.id),He=de(t.nodes.find(Be=>Be.id===u.value.sourceNodeId),F,"source");return Fe.includes(He)||Fe.includes("any")});le=(be==null?void 0:be.id)||"data-input"}K({source:u.value.sourceNodeId,sourceHandle:F,target:T.id,targetHandle:le}),u.value.sourceNodeId=null,u.value.sourceHandle=null},100)},b=()=>{const w=f.value.filter(P=>P.selected);w.length!==0&&(_.value=w.map(P=>({...P,data:Li(P.data),position:{...P.position}})))},k=()=>{if(_.value.length===0)return;const w=C(O.value.x,O.value.y),P=30;_.value.forEach((T,F)=>{const Q={...T,id:`${T.type}_${Date.now()}_${F} `,position:{x:w.x+F*P,y:w.y+F*P},data:Li(T.data),selected:!1};t.addNode(Q)})},C=(w,P)=>{var F;if(!s.value){const Q=(F=l.value)==null?void 0:F.getBoundingClientRect();return Q?{x:w-Q.left,y:P-Q.top}:{x:w,y:P}}const T=s.value.getBoundingClientRect();return r({x:w-T.left,y:P-T.top})},S=w=>{if((w.ctrlKey||w.metaKey)&&w.key==="z"&&!w.shiftKey){w.preventDefault(),t.undo();return}if((w.ctrlKey||w.metaKey)&&(w.key==="y"||w.shiftKey&&w.key==="z")){w.preventDefault(),t.redo();return}};return gt(()=>{var w;(w=l.value)==null||w.focus(),g(),t.initializeFromUrl(),window.addEventListener("keydown",S)}),Io(()=>{window.removeEventListener("keydown",S)}),(w,P)=>(R(),L("div",T4,[re(BN,{"can-undo":ce(t).canUndo,"can-redo":ce(t).canRedo,"execution-status":E.value,onExecute:q,onClear:se,onUndo:ce(t).undo,onRedo:ce(t).redo},null,8,["can-undo","can-redo","execution-status","onUndo","onRedo"]),x("div",I4,[re(tT),x("div",{class:"flex-1 relative outline-none focus:outline-none",onDrop:H,onDragover:P[0]||(P[0]=Ho(()=>{},["prevent"])),onKeydown:ie,onKeyup:ge,onClick:ke,onMousemove:I,onContextmenu:P[1]||(P[1]=Ho(()=>{},["prevent"])),tabindex:"0",ref_key:"canvasRef",ref:l},[re(ce(Yw),{nodes:f.value,edges:v.value,onNodesChange:J,onEdgesChange:Z,onConnect:K,onConnectStart:ae,onConnectEnd:ue,onEdgeClick:pe,onNodeClick:W,onNodeDragStart:A,onNodeDrag:z,onNodeDragStop:V,"default-edge-options":Y,"is-valid-connection":oe,"fit-view-on-init":!1,"connection-mode":ce(Vn).Loose,"zoom-on-scroll":!0,"pan-on-scroll":!1,"pan-on-drag":[1,2],"node-draggable":!0,"nodes-deletable":!0,"edges-deletable":!0,"delete-key-code":"Delete","multi-selection-key-code":"Control","selection-mode":"partial",class:"w-full h-full bg-flow-bg dark:bg-flow-bg-dark"},{"node-connector":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-add":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-subtract":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-multiply":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-divide":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-round":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-array-filter":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-array-aggregate":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-array-slice":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-array-sort":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-array-map":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-array-groupby":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-array-distinct":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-array-merge":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-object-create":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-array-create":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-object-merge":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-object-pick":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-object-keys-values":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-object-rename":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-object-set-property":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-object-to-array":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-object-transform":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-field-extractor":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-output":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-variable":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-input":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-constant":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-compare":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-conditional-branch":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-type-conversion":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-logic":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-string-ops":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-for-each":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-while-loop":Ae(T=>[re(Ze,Ue(Ye(T)),null,16)]),"node-marker":Ae(T=>[re(N4,Ue(Ye(T)),null,16)]),"node-debug-viewer":Ae(T=>[re($4,Ue(Ye(T)),null,16)]),default:Ae(()=>[re(ce(Qw),{variant:ce(un).Dots,"pattern-color":"#e5e7eb"},null,8,["variant"]),re(ce(fC),{pannable:"",zoomable:""}),re(ce(Ik))]),_:1},8,["nodes","edges","connection-mode"]),re(kA,{show:ce(X),position:ce(U),nodes:B.value,onCreateNode:D},null,8,["show","position","nodes"])],544),re(dA,{"selected-node":y.value,onClose:P[2]||(P[2]=T=>y.value=null),onDelete:P[3]||(P[3]=T=>y.value=null)},null,8,["selected-node"])])]))}},O4=wt(A4,[["__scopeId","data-v-16e206f1"]]),M4={id:"app",class:"h-screen overflow-hidden bg-flow-bg dark:bg-flow-bg-dark text-flow-text dark:text-flow-text-dark font-sans antialiased transition-colors duration-200"},D4={__name:"App",setup(e){const{initTheme:t}=Bg();return gt(()=>{t()}),(n,o)=>(R(),L("div",M4,[re(O4)]))}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const zo=typeof document<"u";function nm(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function P4(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&nm(e.default)}const Qe=Object.assign;function Qa(e,t){const n={};for(const o in t){const r=t[o];n[o]=Jt(r)?r.map(e):e(r)}return n}const Wr=()=>{},Jt=Array.isArray,om=/#/g,R4=/&/g,V4=/\//g,z4=/=/g,H4=/\?/g,rm=/\+/g,L4=/%5B/g,F4=/%5D/g,sm=/%5E/g,B4=/%60/g,im=/%7B/g,j4=/%7C/g,am=/%7D/g,U4=/%20/g;function Wu(e){return encodeURI(""+e).replace(j4,"|").replace(L4,"[").replace(F4,"]")}function Y4(e){return Wu(e).replace(im,"{").replace(am,"}").replace(sm,"^")}function Ql(e){return Wu(e).replace(rm,"%2B").replace(U4,"+").replace(om,"%23").replace(R4,"%26").replace(B4,"`").replace(im,"{").replace(am,"}").replace(sm,"^")}function W4(e){return Ql(e).replace(z4,"%3D")}function G4(e){return Wu(e).replace(om,"%23").replace(H4,"%3F")}function Z4(e){return e==null?"":G4(e).replace(V4,"%2F")}function ys(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const q4=/\/$/,X4=e=>e.replace(q4,"");function el(e,t,n="/"){let o,r={},s="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(o=o||t.slice(0,a),i=t.slice(a,t.length)),o=eO(o??t,n),{fullPath:o+(s&&"?")+s+i,path:o,query:r,hash:ys(i)}}function K4(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function yf(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function J4(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&fr(t.matched[o],n.matched[r])&&lm(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function fr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function lm(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Q4(e[n],t[n]))return!1;return!0}function Q4(e,t){return Jt(e)?vf(e,t):Jt(t)?vf(t,e):e===t}function vf(e,t){return Jt(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function eO(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let s=n.length-1,i,a;for(i=0;i<o.length;i++)if(a=o[i],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+o.slice(i).join("/")}const jn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var vs;(function(e){e.pop="pop",e.push="push"})(vs||(vs={}));var Gr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Gr||(Gr={}));function tO(e){if(!e)if(zo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),X4(e)}const nO=/^[^#]+#/;function oO(e,t){return e.replace(nO,"#")+t}function rO(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const Ea=()=>({left:window.scrollX,top:window.scrollY});function sO(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=rO(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function bf(e,t){return(history.state?history.state.position-t:-1)+e}const eu=new Map;function iO(e,t){eu.set(e,t)}function aO(e){const t=eu.get(e);return eu.delete(e),t}let lO=()=>location.protocol+"//"+location.host;function um(e,t){const{pathname:n,search:o,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),yf(l,"")}return yf(n,e)+o+r}function uO(e,t,n,o){let r=[],s=[],i=null;const a=({state:h})=>{const f=um(e,location),m=n.value,v=t.value;let g=0;if(h){if(n.value=f,t.value=h,i&&i===m){i=null;return}g=v?h.position-v.position:0}else o(f);r.forEach(y=>{y(n.value,m,{delta:g,type:vs.pop,direction:g?g>0?Gr.forward:Gr.back:Gr.unknown})})};function l(){i=n.value}function u(h){r.push(h);const f=()=>{const m=r.indexOf(h);m>-1&&r.splice(m,1)};return s.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(Qe({},h.state,{scroll:Ea()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function xf(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?Ea():null}}function cO(e){const{history:t,location:n}=window,o={value:um(e,n)},r={value:t.state};r.value||s(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:lO()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function i(l,u){const c=Qe({},t.state,xf(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,c,!0),o.value=l}function a(l,u){const c=Qe({},r.value,t.state,{forward:l,scroll:Ea()});s(c.current,c,!0);const d=Qe({},xf(o.value,l,null),{position:c.position+1},u);s(l,d,!1),o.value=l}return{location:o,state:r,push:a,replace:i}}function dO(e){e=tO(e);const t=cO(e),n=uO(e,t.state,t.location,t.replace);function o(s,i=!0){i||n.pauseListeners(),history.go(s)}const r=Qe({location:"",base:e,go:o,createHref:oO.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function fO(e){return typeof e=="string"||e&&typeof e=="object"}function cm(e){return typeof e=="string"||typeof e=="symbol"}const dm=Symbol("");var _f;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_f||(_f={}));function hr(e,t){return Qe(new Error,{type:e,[dm]:!0},t)}function wn(e,t){return e instanceof Error&&dm in e&&(t==null||!!(e.type&t))}const wf="[^/]+?",hO={sensitive:!1,strict:!1,start:!0,end:!0},pO=/[.+*?^${}()[\]/\\]/g;function gO(e,t){const n=Qe({},hO,t),o=[];let r=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(pO,"\\$&"),f+=40;else if(h.type===1){const{value:m,repeatable:v,optional:g,regexp:y}=h;s.push({name:m,repeatable:v,optional:g});const E=y||wf;if(E!==wf){f+=10;try{new RegExp(`(${E})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${m}" (${E}): `+O.message)}}let _=v?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(_=g&&u.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),r+=_,f+=20,g&&(f+=-8),v&&(f+=-20),E===".*"&&(f+=-50)}c.push(f)}o.push(c)}if(n.strict&&n.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(i),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",m=s[h-1];d[m.name]=f&&m.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:m,repeatable:v,optional:g}=f,y=m in u?u[m]:"";if(Jt(y)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const E=Jt(y)?y.join("/"):y;if(!E)if(g)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=E}}return c||"/"}return{re:i,score:o,keys:s,parse:a,stringify:l}}function mO(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function fm(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const s=mO(o[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-o.length)===1){if(kf(o))return 1;if(kf(r))return-1}return r.length-o.length}function kf(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const yO={type:0,value:""},vO=/[a-zA-Z0-9_]/;function bO(e){if(!e)return[[]];if(e==="/")return[[yO]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,o=n;const r=[];let s;function i(){s&&r.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),i()):l===":"?(d(),n=1):h();break;case 4:h(),n=o;break;case 1:l==="("?n=2:vO.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),i(),r}function xO(e,t,n){const o=gO(bO(e.path),n),r=Qe(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function _O(e,t){const n=[],o=new Map;t=Cf({strict:!1,end:!0,sensitive:!1},t);function r(d){return o.get(d)}function s(d,h,f){const m=!f,v=$f(d);v.aliasOf=f&&f.record;const g=Cf(t,d),y=[v];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const X of O)y.push($f(Qe({},v,{components:f?f.record.components:v.components,path:X,aliasOf:f?f.record:v})))}let E,_;for(const O of y){const{path:X}=O;if(h&&X[0]!=="/"){const U=h.record.path,j=U[U.length-1]==="/"?"":"/";O.path=h.record.path+(X&&j+X)}if(E=xO(O,h,g),f?f.alias.push(E):(_=_||E,_!==E&&_.alias.push(E),m&&d.name&&!Sf(E)&&i(d.name)),hm(E)&&l(E),v.children){const U=v.children;for(let j=0;j<U.length;j++)s(U[j],E,f&&f.children[j])}f=f||E}return _?()=>{i(_)}:Wr}function i(d){if(cm(d)){const h=o.get(d);h&&(o.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&o.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function a(){return n}function l(d){const h=EO(d,n);n.splice(h,0,d),d.record.name&&!Sf(d)&&o.set(d.record.name,d)}function u(d,h){let f,m={},v,g;if("name"in d&&d.name){if(f=o.get(d.name),!f)throw hr(1,{location:d});g=f.record.name,m=Qe(Ef(h.params,f.keys.filter(_=>!_.optional).concat(f.parent?f.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),d.params&&Ef(d.params,f.keys.map(_=>_.name))),v=f.stringify(m)}else if(d.path!=null)v=d.path,f=n.find(_=>_.re.test(v)),f&&(m=f.parse(v),g=f.record.name);else{if(f=h.name?o.get(h.name):n.find(_=>_.re.test(h.path)),!f)throw hr(1,{location:d,currentLocation:h});g=f.record.name,m=Qe({},h.params,d.params),v=f.stringify(m)}const y=[];let E=f;for(;E;)y.unshift(E.record),E=E.parent;return{name:g,path:v,params:m,matched:y,meta:kO(y)}}e.forEach(d=>s(d));function c(){n.length=0,o.clear()}return{addRoute:s,resolve:u,removeRoute:i,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Ef(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function $f(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:wO(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function wO(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function Sf(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function kO(e){return e.reduce((t,n)=>Qe(t,n.meta),{})}function Cf(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function EO(e,t){let n=0,o=t.length;for(;n!==o;){const s=n+o>>1;fm(e,t[s])<0?o=s:n=s+1}const r=$O(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function $O(e){let t=e;for(;t=t.parent;)if(hm(t)&&fm(e,t)===0)return t}function hm({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function SO(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const s=o[r].replace(rm," "),i=s.indexOf("="),a=ys(i<0?s:s.slice(0,i)),l=i<0?null:ys(s.slice(i+1));if(a in t){let u=t[a];Jt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Nf(e){let t="";for(let n in e){const o=e[n];if(n=W4(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(Jt(o)?o.map(s=>s&&Ql(s)):[o&&Ql(o)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function CO(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=Jt(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const NO=Symbol(""),Tf=Symbol(""),$a=Symbol(""),Gu=Symbol(""),tu=Symbol("");function $r(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Jn(e,t,n,o,r,s=i=>i()){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(hr(4,{from:n,to:t})):h instanceof Error?l(h):fO(h)?l(hr(2,{from:t,to:h})):(i&&o.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),a())},c=s(()=>e.call(o&&o.instances[r],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function tl(e,t,n,o,r=s=>s()){const s=[];for(const i of e)for(const a in i.components){let l=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(nm(l)){const c=(l.__vccOpts||l)[t];c&&s.push(Jn(c,n,o,i,a,r))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const d=P4(c)?c.default:c;i.mods[a]=c,i.components[a]=d;const f=(d.__vccOpts||d)[t];return f&&Jn(f,n,o,i,a,r)()}))}}return s}function If(e){const t=_t($a),n=_t(Gu),o=ne(()=>{const l=ce(e.to);return t.resolve(l)}),r=ne(()=>{const{matched:l}=o.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(fr.bind(null,c));if(h>-1)return h;const f=Af(l[u-2]);return u>1&&Af(c)===f&&d[d.length-1].path!==f?d.findIndex(fr.bind(null,l[u-2])):h}),s=ne(()=>r.value>-1&&MO(n.params,o.value.params)),i=ne(()=>r.value>-1&&r.value===n.matched.length-1&&lm(n.params,o.value.params));function a(l={}){if(OO(l)){const u=t[ce(e.replace)?"replace":"push"](ce(e.to)).catch(Wr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:o,href:ne(()=>o.value.href),isActive:s,isExactActive:i,navigate:a}}function TO(e){return e.length===1?e[0]:e}const IO=ot({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:If,setup(e,{slots:t}){const n=gr(If(e)),{options:o}=_t($a),r=ne(()=>({[Of(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Of(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&TO(t.default(n));return e.custom?s:Xe("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),AO=IO;function OO(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function MO(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(!Jt(r)||r.length!==o.length||o.some((s,i)=>s!==r[i]))return!1}return!0}function Af(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Of=(e,t,n)=>e??t??n,DO=ot({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=_t(tu),r=ne(()=>e.route||o.value),s=_t(Tf,0),i=ne(()=>{let u=ce(s);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ne(()=>r.value.matched[i.value]);Xt(Tf,ne(()=>i.value+1)),Xt(NO,a),Xt(tu,r);const l=fe();return Oe(()=>[l.value,a.value,e.name],([u,c,d],[h,f,m])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!fr(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,d=a.value,h=d&&d.components[c];if(!h)return Mf(n.default,{Component:h,route:u});const f=d.props[c],m=f?f===!0?u.params:typeof f=="function"?f(u):f:null,g=Xe(h,Qe({},m,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Mf(n.default,{Component:g,route:u})||g}}});function Mf(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const PO=DO;function RO(e){const t=_O(e.routes,e),n=e.parseQuery||SO,o=e.stringifyQuery||Nf,r=e.history,s=$r(),i=$r(),a=$r(),l=Zo(jn);let u=jn;zo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Qa.bind(null,q=>""+q),d=Qa.bind(null,Z4),h=Qa.bind(null,ys);function f(q,se){let ie,ge;return cm(q)?(ie=t.getRecordMatcher(q),ge=se):ge=q,t.addRoute(ge,ie)}function m(q){const se=t.getRecordMatcher(q);se&&t.removeRoute(se)}function v(){return t.getRoutes().map(q=>q.record)}function g(q){return!!t.getRecordMatcher(q)}function y(q,se){if(se=Qe({},se||l.value),typeof q=="string"){const b=el(n,q,se.path),k=t.resolve({path:b.path},se),C=r.createHref(b.fullPath);return Qe(b,k,{params:h(k.params),hash:ys(b.hash),redirectedFrom:void 0,href:C})}let ie;if(q.path!=null)ie=Qe({},q,{path:el(n,q.path,se.path).path});else{const b=Qe({},q.params);for(const k in b)b[k]==null&&delete b[k];ie=Qe({},q,{params:d(b)}),se.params=d(se.params)}const ge=t.resolve(ie,se),ke=q.hash||"";ge.params=c(h(ge.params));const I=K4(o,Qe({},q,{hash:Y4(ke),path:ge.path})),D=r.createHref(I);return Qe({fullPath:I,hash:ke,query:o===Nf?CO(q.query):q.query||{}},ge,{redirectedFrom:void 0,href:D})}function E(q){return typeof q=="string"?el(n,q,l.value.path):Qe({},q)}function _(q,se){if(u!==q)return hr(8,{from:se,to:q})}function O(q){return j(q)}function X(q){return O(Qe(E(q),{replace:!0}))}function U(q){const se=q.matched[q.matched.length-1];if(se&&se.redirect){const{redirect:ie}=se;let ge=typeof ie=="function"?ie(q):ie;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=E(ge):{path:ge},ge.params={}),Qe({query:q.query,hash:q.hash,params:ge.path!=null?{}:q.params},ge)}}function j(q,se){const ie=u=y(q),ge=l.value,ke=q.state,I=q.force,D=q.replace===!0,b=U(ie);if(b)return j(Qe(E(b),{state:typeof b=="object"?Qe({},ke,b.state):ke,force:I,replace:D}),se||ie);const k=ie;k.redirectedFrom=se;let C;return!I&&J4(o,ge,ie)&&(C=hr(16,{to:k,from:ge}),oe(ge,ge,!0,!1)),(C?Promise.resolve(C):Y(k,ge)).catch(S=>wn(S)?wn(S,2)?S:Z(S):V(S,k,ge)).then(S=>{if(S){if(wn(S,2))return j(Qe({replace:D},E(S.to),{state:typeof S.to=="object"?Qe({},ke,S.to.state):ke,force:I}),se||k)}else S=N(k,ge,!0,D,ke);return H(k,ge,S),S})}function M(q,se){const ie=_(q,se);return ie?Promise.reject(ie):Promise.resolve()}function B(q){const se=ae.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(q):q()}function Y(q,se){let ie;const[ge,ke,I]=VO(q,se);ie=tl(ge.reverse(),"beforeRouteLeave",q,se);for(const b of ge)b.leaveGuards.forEach(k=>{ie.push(Jn(k,q,se))});const D=M.bind(null,q,se);return ie.push(D),pe(ie).then(()=>{ie=[];for(const b of s.list())ie.push(Jn(b,q,se));return ie.push(D),pe(ie)}).then(()=>{ie=tl(ke,"beforeRouteUpdate",q,se);for(const b of ke)b.updateGuards.forEach(k=>{ie.push(Jn(k,q,se))});return ie.push(D),pe(ie)}).then(()=>{ie=[];for(const b of I)if(b.beforeEnter)if(Jt(b.beforeEnter))for(const k of b.beforeEnter)ie.push(Jn(k,q,se));else ie.push(Jn(b.beforeEnter,q,se));return ie.push(D),pe(ie)}).then(()=>(q.matched.forEach(b=>b.enterCallbacks={}),ie=tl(I,"beforeRouteEnter",q,se,B),ie.push(D),pe(ie))).then(()=>{ie=[];for(const b of i.list())ie.push(Jn(b,q,se));return ie.push(D),pe(ie)}).catch(b=>wn(b,8)?b:Promise.reject(b))}function H(q,se,ie){a.list().forEach(ge=>B(()=>ge(q,se,ie)))}function N(q,se,ie,ge,ke){const I=_(q,se);if(I)return I;const D=se===jn,b=zo?history.state:{};ie&&(ge||D?r.replace(q.fullPath,Qe({scroll:D&&b&&b.scroll},ke)):r.push(q.fullPath,ke)),l.value=q,oe(q,se,ie,D),Z()}let W;function p(){W||(W=r.listen((q,se,ie)=>{if(!ue.listening)return;const ge=y(q),ke=U(ge);if(ke){j(Qe(ke,{replace:!0,force:!0}),ge).catch(Wr);return}u=ge;const I=l.value;zo&&iO(bf(I.fullPath,ie.delta),Ea()),Y(ge,I).catch(D=>wn(D,12)?D:wn(D,2)?(j(Qe(E(D.to),{force:!0}),ge).then(b=>{wn(b,20)&&!ie.delta&&ie.type===vs.pop&&r.go(-1,!1)}).catch(Wr),Promise.reject()):(ie.delta&&r.go(-ie.delta,!1),V(D,ge,I))).then(D=>{D=D||N(ge,I,!1),D&&(ie.delta&&!wn(D,8)?r.go(-ie.delta,!1):ie.type===vs.pop&&wn(D,20)&&r.go(-1,!1)),H(ge,I,D)}).catch(Wr)}))}let A=$r(),$=$r(),z;function V(q,se,ie){Z(q);const ge=$.list();return ge.length?ge.forEach(ke=>ke(q,se,ie)):console.error(q),Promise.reject(q)}function J(){return z&&l.value!==jn?Promise.resolve():new Promise((q,se)=>{A.add([q,se])})}function Z(q){return z||(z=!q,p(),A.list().forEach(([se,ie])=>q?ie(q):se()),A.reset()),q}function oe(q,se,ie,ge){const{scrollBehavior:ke}=e;if(!zo||!ke)return Promise.resolve();const I=!ie&&aO(bf(q.fullPath,0))||(ge||!ie)&&history.state&&history.state.scroll||null;return Dt().then(()=>ke(q,se,I)).then(D=>D&&sO(D)).catch(D=>V(D,q,se))}const de=q=>r.go(q);let K;const ae=new Set,ue={currentRoute:l,listening:!0,addRoute:f,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:v,resolve:y,options:e,push:O,replace:X,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:s.add,beforeResolve:i.add,afterEach:a.add,onError:$.add,isReady:J,install(q){const se=this;q.component("RouterLink",AO),q.component("RouterView",PO),q.config.globalProperties.$router=se,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>ce(l)}),zo&&!K&&l.value===jn&&(K=!0,O(r.location).catch(ke=>{}));const ie={};for(const ke in jn)Object.defineProperty(ie,ke,{get:()=>l.value[ke],enumerable:!0});q.provide($a,se),q.provide(Gu,oh(ie)),q.provide(tu,l);const ge=q.unmount;ae.add(q),q.unmount=function(){ae.delete(q),ae.size<1&&(u=jn,W&&W(),W=null,l.value=jn,K=!1,z=!1),ge()}}};function pe(q){return q.reduce((se,ie)=>se.then(()=>B(ie)),Promise.resolve())}return ue}function VO(e,t){const n=[],o=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let i=0;i<s;i++){const a=t.matched[i];a&&(e.matched.find(u=>fr(u,a))?o.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(u=>fr(u,l))||r.push(l))}return[n,o,r]}function zO(){return _t($a)}function pm(e){return _t(Gu)}const HO={};function LO(e,t){return null}const FO=wt(HO,[["render",LO]]),BO={class:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8"},jO={class:"max-w-4xl mx-auto"},UO={key:0,class:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg flex items-center justify-between"},YO={class:"flex items-center gap-3"},WO={class:"w-10 h-10 bg-green-100 dark:bg-green-800 rounded-full flex items-center justify-center"},GO={class:"text-sm text-green-700 dark:text-green-300"},ZO={key:1,class:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg flex items-center justify-between"},qO={class:"flex items-center gap-3"},XO={class:"w-10 h-10 bg-red-100 dark:bg-red-800 rounded-full flex items-center justify-center"},KO={class:"text-sm text-red-700 dark:text-red-300"},JO={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},QO={class:"space-y-3"},eM={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-colors"},tM={class:"flex items-center gap-4"},nM={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center"},oM=["disabled"],rM={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 opacity-60"},sM={class:"flex items-center gap-4"},iM={class:"w-12 h-12 bg-green-100 dark:bg-green-900/50 rounded-lg flex items-center justify-center"},aM={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},lM={key:0,class:"text-center py-8"},uM={key:1,class:"text-center py-8"},cM={key:2,class:"space-y-3"},dM={class:"flex items-center gap-4"},fM={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center"},hM={class:"font-medium text-gray-900 dark:text-gray-100"},pM={class:"text-sm text-gray-600 dark:text-gray-400"},gM={class:"flex items-center gap-3 mt-1"},mM={class:"text-xs text-gray-500 dark:text-gray-400"},yM={class:"flex items-center gap-2"},vM=["onClick"],bM=["onClick"],xM={__name:"IntegrationsView",setup(e){const t=pm(),n=zO(),o=$t(),r=fe([]),s=fe(!0),i=fe(!1),a=fe(!1),l=fe(""),u=fe(!1),c=fe("");gt(async()=>{const g=t.query.success,y=t.query.error,E=t.query.email;g==="true"&&(a.value=!0,l.value=E||"Unknown",n.replace({query:{}})),y&&(u.value=!0,c.value=y,n.replace({query:{}})),await d()});const d=async()=>{var g;s.value=!0;try{const y=o.apiConfig.baseUrl||"http://localhost:3001",E=await fetch(`${y}/api/oauth/connections`,{headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("flowforge_token")}`}});if(!E.ok)throw new Error("Failed to load connections");const _=await E.json();r.value=((g=_.data)==null?void 0:g.connections)||[]}catch{}finally{s.value=!1}},h=async()=>{i.value=!0;try{const g=o.apiConfig.baseUrl||"http://localhost:3001",y=await fetch(`${g}/api/oauth/google_analytics/authorize`,{headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("flowforge_token")}`}});if(!y.ok)throw new Error("Failed to get authorization URL");const E=await y.json();window.location.href=E.data.authUrl}catch(g){u.value=!0,c.value=g.message,i.value=!1}},f=async g=>{var y;try{const E=o.apiConfig.baseUrl||"http://localhost:3001",O=await(await fetch(`${E}/api/oauth/connections/${g}/test`,{method:"POST",headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("flowforge_token")}`}})).json();O.success?alert(" Connection is working!"):alert(" Connection test failed: "+(((y=O.error)==null?void 0:y.message)||"Unknown error"))}catch(E){alert(" Error: "+E.message)}},m=async g=>{if(confirm("Are you sure you want to disconnect this service?"))try{const y=o.apiConfig.baseUrl||"http://localhost:3001";if(!(await fetch(`${y}/api/oauth/connections/${g}`,{method:"DELETE",headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("flowforge_token")}`}})).ok)throw new Error("Failed to disconnect");await d()}catch(y){alert(" Error: "+y.message)}},v=g=>g?new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return(g,y)=>(R(),L("div",BO,[x("div",jO,[y[12]||(y[12]=x("div",{class:"mb-8"},[x("h1",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},"Integrations"),x("p",{class:"text-gray-600 dark:text-gray-400"},"Connect external services to use in your flows")],-1)),a.value?(R(),L("div",UO,[x("div",YO,[x("div",WO,[re(Le,{icon:"material-symbols:check-circle",size:24,class:"text-green-600 dark:text-green-400"})]),x("div",null,[y[2]||(y[2]=x("p",{class:"font-medium text-green-900 dark:text-green-100"},"Successfully connected!",-1)),x("p",GO,ve(l.value),1)])]),x("button",{onClick:y[0]||(y[0]=E=>a.value=!1),class:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200"},[re(Le,{icon:"material-symbols:close",size:20})])])):xe("",!0),u.value?(R(),L("div",ZO,[x("div",qO,[x("div",XO,[re(Le,{icon:"material-symbols:error",size:24,class:"text-red-600 dark:text-red-400"})]),x("div",null,[y[3]||(y[3]=x("p",{class:"font-medium text-red-900 dark:text-red-100"},"Connection failed",-1)),x("p",KO,ve(c.value),1)])]),x("button",{onClick:y[1]||(y[1]=E=>u.value=!1),class:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200"},[re(Le,{icon:"material-symbols:close",size:20})])])):xe("",!0),x("div",JO,[y[7]||(y[7]=x("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Available Integrations",-1)),x("div",QO,[x("div",eM,[x("div",tM,[x("div",nM,[re(Le,{icon:"logos:google-analytics",size:28})]),y[4]||(y[4]=x("div",null,[x("h3",{class:"font-medium text-gray-900 dark:text-gray-100"},"Google Analytics"),x("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Connect your Google Analytics properties")],-1))]),x("button",{onClick:h,disabled:i.value,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center gap-2"},[re(Le,{icon:i.value?"material-symbols:hourglass-empty":"material-symbols:link",size:18},null,8,["icon"]),tt(" "+ve(i.value?"Connecting...":"Connect"),1)],8,oM)]),x("div",rM,[x("div",sM,[x("div",iM,[re(Le,{icon:"logos:google-sheets",size:28})]),y[5]||(y[5]=x("div",null,[x("h3",{class:"font-medium text-gray-900 dark:text-gray-100"},"Google Sheets"),x("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Coming soon")],-1))]),y[6]||(y[6]=x("button",{disabled:"",class:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 rounded-lg font-medium cursor-not-allowed"}," Coming Soon ",-1))])])]),x("div",aM,[y[11]||(y[11]=x("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Your Connections",-1)),s.value?(R(),L("div",lM,[re(Le,{icon:"material-symbols:hourglass-empty",size:32,class:"text-gray-400 animate-spin mx-auto mb-2"}),y[8]||(y[8]=x("p",{class:"text-gray-500 dark:text-gray-400"},"Loading connections...",-1))])):r.value.length===0?(R(),L("div",uM,[re(Le,{icon:"material-symbols:cloud-off",size:48,class:"text-gray-300 dark:text-gray-600 mx-auto mb-3"}),y[9]||(y[9]=x("p",{class:"text-gray-500 dark:text-gray-400 mb-1"},"No connections yet",-1)),y[10]||(y[10]=x("p",{class:"text-sm text-gray-400 dark:text-gray-500"},"Connect your first service above!",-1))])):(R(),L("div",cM,[(R(!0),L(Ie,null,rt(r.value,E=>(R(),L("div",{key:E._id,class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600"},[x("div",dM,[x("div",fM,[re(Le,{icon:"logos:google-analytics",size:28})]),x("div",null,[x("h3",hM,ve(E.name),1),x("p",pM,ve(E.email),1),x("div",gM,[x("span",{class:st([E.isActive?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400","text-xs font-medium flex items-center gap-1"])},[x("span",{class:st(["w-2 h-2 rounded-full",E.isActive?"bg-green-500":"bg-red-500"])},null,2),tt(" "+ve(E.isActive?"Active":"Inactive"),1)],2),x("span",mM," Expires: "+ve(v(E.expiresAt)),1)])])]),x("div",yM,[x("button",{onClick:_=>f(E._id),class:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded text-sm font-medium transition-colors"}," Test ",8,vM),x("button",{onClick:_=>m(E._id),class:"px-3 py-1.5 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-400 rounded text-sm font-medium transition-colors"}," Disconnect ",8,bM)])]))),128))]))])])]))}},_M={class:"connections-view min-h-screen bg-gray-50 dark:bg-gray-900 p-6"},wM={class:"max-w-4xl mx-auto"},kM={key:0,class:"text-center py-12"},EM={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6"},$M={class:"flex items-center"},SM={class:"text-red-600 dark:text-red-400 text-sm"},CM={class:"flex items-center"},NM={class:"text-2xl mr-3"},TM={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6"},IM={key:0,class:"space-y-3 mb-4"},AM={class:"flex items-center"},OM={class:"font-medium text-gray-900 dark:text-white"},MM={class:"text-xs text-gray-500 dark:text-gray-400"},DM=["onClick","disabled"],PM={key:1,class:"text-center py-6 text-gray-500 dark:text-gray-400 text-sm mb-4"},RM=["disabled"],VM={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},zM={key:0,class:"space-y-3 mb-4"},HM={class:"flex items-center"},LM={class:"font-medium text-gray-900 dark:text-white"},FM={class:"text-xs text-gray-500 dark:text-gray-400"},BM=["onClick","disabled"],jM={key:1,class:"text-center py-6 text-gray-500 dark:text-gray-400 text-sm mb-4"},UM=["disabled"],YM={__name:"ConnectionsView",setup(e){const t=em(),n=$t();pm();const o=fe(!1),r=fe(!1),s=fe(""),i=fe(!1),a=ne(()=>t.getAnalyticsConnections),l=ne(()=>t.getSheetsConnections),u=async h=>{o.value=!0;try{await t.connectGoogle(h,n.apiConfig)}catch(f){alert(`Erro ao conectar: ${f.message}`)}finally{o.value=!1}},c=async h=>{if(confirm("Tem certeza que deseja desconectar esta conta?")){r.value=!0;try{await t.revokeConnection(h,n.apiConfig),s.value="Conexo removida com sucesso!",i.value=!0,setTimeout(()=>{s.value=""},3e3)}catch(f){alert(`Erro ao desconectar: ${f.message}`)}finally{r.value=!1}}},d=h=>h?new Date(h).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"}):"Data desconhecida";return gt(async()=>{const h=new URLSearchParams(window.location.search);if(h.has("success")||h.has("error")){const m=t.handleOAuthCallback(h);s.value=m.message,i.value=m.success,window.history.replaceState({},document.title,window.location.pathname),setTimeout(()=>{s.value=""},5e3),m.success&&await new Promise(v=>setTimeout(v,1e3))}await t.fetchConnections(n.apiConfig)}),(h,f)=>(R(),L("div",_M,[x("div",wM,[f[11]||(f[11]=x("div",{class:"mb-8"},[x("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"}," Conexes Google "),x("p",{class:"text-gray-600 dark:text-gray-400"}," Gerencie suas conexes com Google Analytics e Google Sheets ")],-1)),ce(t).loading?(R(),L("div",kM,[...f[2]||(f[2]=[x("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1),x("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"Carregando conexes...",-1)])])):ce(t).error?(R(),L("div",EM,[x("div",$M,[f[4]||(f[4]=x("span",{class:"text-red-600 dark:text-red-400 text-xl mr-3"},"",-1)),x("div",null,[f[3]||(f[3]=x("h3",{class:"text-red-800 dark:text-red-300 font-semibold"},"Erro ao carregar conexes",-1)),x("p",SM,ve(ce(t).error),1)])])])):xe("",!0),s.value?(R(),L("div",{key:2,class:st(["mb-6 p-4 rounded-lg",i.value?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"])},[x("div",CM,[x("span",NM,ve(i.value?"":""),1),x("p",{class:st(i.value?"text-green-800 dark:text-green-300":"text-red-800 dark:text-red-300")},ve(s.value),3)])],2)):xe("",!0),x("div",TM,[f[7]||(f[7]=Ko('<div class="flex items-center justify-between mb-4" data-v-dc90dba2><div class="flex items-center" data-v-dc90dba2><span class="text-3xl mr-3" data-v-dc90dba2></span><div data-v-dc90dba2><h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-v-dc90dba2>Google Analytics</h2><p class="text-sm text-gray-600 dark:text-gray-400" data-v-dc90dba2>Conecte suas propriedades do GA4</p></div></div></div>',1)),a.value.length>0?(R(),L("div",IM,[(R(!0),L(Ie,null,rt(a.value,m=>{var v;return R(),L("div",{key:m.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},[x("div",AM,[f[5]||(f[5]=x("span",{class:"text-green-500 mr-3"},"",-1)),x("div",null,[x("p",OM,ve(m.email||m.accountEmail||m.name||`Conexo ${(v=m.id)==null?void 0:v.substring(0,8)}`),1),x("p",MM," Conectado em "+ve(d(m.createdAt||m.createdDate)),1)])]),x("button",{onClick:g=>c(m.id),disabled:r.value,class:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors disabled:opacity-50"}," Desconectar ",8,DM)])}),128))])):(R(),L("div",PM," Nenhuma conta conectada ")),x("button",{onClick:f[0]||(f[0]=m=>u("analytics")),disabled:o.value,class:"w-full px-4 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-md transition-colors disabled:cursor-not-allowed flex items-center justify-center"},[f[6]||(f[6]=x("span",{class:"mr-2"},"",-1)),tt(" "+ve(o.value?"Conectando...":"Adicionar conta Google Analytics"),1)],8,RM)]),x("div",VM,[f[10]||(f[10]=Ko('<div class="flex items-center justify-between mb-4" data-v-dc90dba2><div class="flex items-center" data-v-dc90dba2><span class="text-3xl mr-3" data-v-dc90dba2></span><div data-v-dc90dba2><h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-v-dc90dba2>Google Sheets</h2><p class="text-sm text-gray-600 dark:text-gray-400" data-v-dc90dba2>Acesse suas planilhas do Google</p></div></div></div>',1)),l.value.length>0?(R(),L("div",zM,[(R(!0),L(Ie,null,rt(l.value,m=>{var v;return R(),L("div",{key:m.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},[x("div",HM,[f[8]||(f[8]=x("span",{class:"text-green-500 mr-3"},"",-1)),x("div",null,[x("p",LM,ve(m.email||m.accountEmail||m.name||`Conexo ${(v=m.id)==null?void 0:v.substring(0,8)}`),1),x("p",FM," Conectado em "+ve(d(m.createdAt||m.createdDate)),1)])]),x("button",{onClick:g=>c(m.id),disabled:r.value,class:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors disabled:opacity-50"}," Desconectar ",8,BM)])}),128))])):(R(),L("div",jM," Nenhuma conta conectada ")),x("button",{onClick:f[1]||(f[1]=m=>u("sheets")),disabled:o.value,class:"w-full px-4 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-md transition-colors disabled:cursor-not-allowed flex items-center justify-center"},[f[9]||(f[9]=x("span",{class:"mr-2"},"",-1)),tt(" "+ve(o.value?"Conectando...":"Adicionar conta Google Sheets"),1)],8,UM)])])]))}},WM=wt(YM,[["__scopeId","data-v-dc90dba2"]]),GM=RO({history:dO("/editor/"),routes:[{path:"/",name:"home",component:FO},{path:"/integrations",name:"integrations",component:xM},{path:"/connections",name:"connections",component:WM}]});async function ZM(){try{const{initializeEngine:e}=await We(async()=>{const{initializeEngine:n}=await import("./loader-DsdI4M1l.js");return{initializeEngine:n}},[]),t=await e();if(t.success)return t;throw new Error(t.error)}catch(e){throw e}}async function qM(){try{const e=await ZM();if(!e.success)throw new Error(`Engine falhou: ${e.error}`);const t=Av(D4);t.use(Dv()),t.use(GM),t.mount("#app")}catch(e){document.body.innerHTML=`
      <div style="
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        font-family: system-ui, -apple-system, sans-serif;
        background: #0f172a;
        color: #f1f5f9;
        padding: 2rem;
      ">
        <div style="max-width: 600px; text-align: center;">
          <h1 style="font-size: 2rem; margin-bottom: 1rem; color: #ef4444;">
             Falha ao Inicializar
          </h1>
          <p style="font-size: 1rem; margin-bottom: 2rem; color: #94a3b8;">
            No foi possvel carregar o FlowForge Engine.
          </p>
          <details style="
            text-align: left;
            background: #1e293b;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid #334155;
          ">
            <summary style="cursor: pointer; font-weight: 600; color: #f59e0b;">
              Detalhes do erro
            </summary>
            <pre style="
              margin-top: 1rem;
              font-size: 0.875rem;
              color: #e2e8f0;
              white-space: pre-wrap;
            ">${e.message}

${e.stack||""}</pre>
          </details>
          <button
            onclick="location.reload()"
            style="
              margin-top: 2rem;
              padding: 0.75rem 1.5rem;
              background: #3b82f6;
              color: white;
              border: none;
              border-radius: 0.5rem;
              font-size: 1rem;
              cursor: pointer;
              font-weight: 600;
            "
          >
             Tentar Novamente
          </button>
        </div>
      </div>
    `}}qM();export{We as _,n5 as a,t5 as b,QM as c,Hi as d,Li as e,JM as f,Ao as r,KM as s,e5 as v};
